var ImageZoom=function(){"use strict";var t;!function(){if("undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof HTMLElement){var t=!1;try{var n=document.createElement("div");n.addEventListener("focus",(function(t){t.preventDefault(),t.stopPropagation()}),!0),n.focus(Object.defineProperty({},"preventScroll",{get:function(){t=!0}}))}catch(t){}if(void 0===HTMLElement.prototype.nativeFocus&&!t){HTMLElement.prototype.nativeFocus=HTMLElement.prototype.focus;HTMLElement.prototype.focus=function(t){var n=window.scrollY||window.pageYOffset;this.nativeFocus(),t&&t.preventScroll&&setTimeout((function(){window.scroll(window.scrollX||window.pageXOffset,n)}),0)}}}}(),function(t){t.LOADED="LOADED",t.UNLOADED="UNLOADED",t.UNLOADING="UNLOADING"}(t||(t={}));var n="click",o="role",e="style",i="cursor:-webkit-zoom-in;cursor:zoom-in;",r=function(t,n,o){return"cursor:-webkit-zoom-out;cursor:zoom-out;position:fixed;top:0;right:0;bottom:0;left:0;width:100%;height:100%;-webkit-transition-property:background-color;-o-transition-property:background-color;transition-property:background-color;background-color:"+t+";transition-duration:"+n+";z-index:"+o+";"},a="visibility:hidden;",d="cursor:-webkit-zoom-out;cursor:zoom-out;position:absolute;-webkit-transition-property:-webkit-transform;transition-property:-webkit-transform;-o-transition-property:transform;transition-property:transform;transition-property:transform,-webkit-transform;-webkit-transform-origin:center center;-ms-transform-origin:center center;transform-origin:center center;",u=d+a,c=function(t,n,o,e,i,r){return d+"height:"+t+"px;width:"+n+"px;left:"+o+"px;top:"+e+"px;-webkit-transform:"+i+";transform:"+i+";-webkit-transition-duration:"+r+";transition-duration:"+r+";"},l=function(t,n){var o=(t||"").trim(),e=";"===o.slice(-1)?"":";";return[o,n].join(e)},s=function(n,o,e,i,r){if(!e)return c(0,0,0,0,"none","0ms");var a=e.getBoundingClientRect(),d=a.height,u=a.left,l=a.top,s=a.width,f=e.style.transform;if(r!==t.LOADED)return c(d,s,u,l,"scale(1) translate(0,0)"+(f?" "+f:""),n);var m=i?b(d,s,o,e.naturalHeight,e.naturalWidth):p(d,s,o),v=window.innerWidth/2,w=window.innerHeight/2;return c(d,s,u,l,"scale("+m+") translate("+(v-(u+s/2))/m+"px,"+(w-(l+d/2))/m+"px)"+(f?" "+f:""),n)},f=function(t){return"Enter"===t.key||13===t.keyCode||"Space"===t.key||32===t.keyCode},m=function(t){return"Escape"===t.key||27===t.keyCode},v=function(t){return void 0===t&&(t=""),t.concat(Math.random().toString(16).slice(-4))},p=function(t,n,o){var e=window.innerWidth/(n+o),i=window.innerHeight/(t+o);return Math.min(e,i)},b=function(t,n,o,e,i){var r=p(e,i,o),a=i>e?i/n:e/t;return r>1?a:r*a},w=function(t,n){return n.appendChild(t)},y=function(t,n){return n.removeChild(t)},g=function(){return document.createElement("div")},D=function(t,n){var o=g();return z("id",t,o),z("data-rmiz-desc","",o),z(e,"display:none;",o),A(n,o),o},E=function(t){t.focus({preventScroll:!0})},k=function(t,n,o){o.addEventListener(t,n)},h=function(t,n,o){o.removeEventListener(t,n)},L=function(t,n){return n.getAttribute(t)},x=function(t,n){return n.removeAttribute(t)},z=function(t,n,o){return o.setAttribute(t,n)},A=function(t,n){return n.textContent=t};return function(c,O){var C,N,T,U,M,B,H=void 0===c?{}:c,S=H.closeText,I=void 0===S?"Press to unzoom image":S,Z=H.isControlled,F=void 0!==Z&&Z,P=H.modalText,G=void 0===P?"Zoomed item":P,W=H.onZoomChange,j=H.openText,q=void 0===j?"Press to zoom image":j,R=H.overlayBgColorEnd,X=void 0===R?"rgba(255,255,255,0.95)":R,Y=H.overlayBgColorStart,J=void 0===Y?"rgba(255,255,255,0)":Y,K=H.portalEl,Q=H.scrollableEl,V=H.transitionDuration,$=void 0===V?"300ms":V,_=H.zoomMargin,tt=void 0===_?0:_,nt=H.zoomZindex,ot=void 0===nt?2147483647:nt,et=v("rmiz-close-"),it=v("rmiz-open-"),rt=L("aria-describedby",O),at=L(o,O),dt=L(e,O),ut=L("tabindex",O),ct="IMG"===O.tagName,lt=document.body,st=K||lt,ft=Q||window,mt=t.UNLOADED,vt=function(){(B=window.matchMedia("(prefers-reduced-motion:reduce)")).addListener(Et)},pt=function(){T=D(it,q),C=D(et,I),w(T,lt),w(C,lt)},bt=function(){if(O&&mt===t.UNLOADED){var r=O.getBoundingClientRect(),a=r.height,d=r.width;(ct?b(a,d,tt,O.naturalHeight,O.naturalWidth):p(a,d,tt))>1?(z("aria-describedby",it,O),z(o,"button",O),z("tabindex",ut||"0",O),z(e,l(dt,i),O),k(n,kt,O),k("keydown",Lt,O)):yt()}},wt=function(){var t=document.getElementById(it),n=document.getElementById(et);t&&y(t,lt),n&&y(n,lt)},yt=function(){O&&(h("keydown",Lt,O),h(n,kt,O),ut?z("tabindex",ut,O):x("tabindex",O),dt?z(e,dt,O):x(e,O),at?z(o,at,O):x(o,O),rt?z("aria-describedby",rt,O):x("aria-describedby",O))},gt=function(){var t=ct?M:U;t&&(h("transitionend",Ct,t),h("transitionend",At,t),h(n,ht,t),h("keydown",xt,t),h("load",Ot,t),N&&N.firstChild===t&&y(t,N)),M=void 0,U=void 0,h("scroll",Tt,ft),h("keydown",Ut,document)},Dt=function(){N&&(h(n,Nt,N),y(N,st),N=void 0)},Et=function(){$="0ms"},kt=function(t){t.preventDefault(),W&&W(!0),F||Ht()},ht=function(t){t.preventDefault(),W&&W(!1),F||Ft()},Lt=function(t){f(t)&&(t.preventDefault(),W&&W(!0),F||Ht())},xt=function(t){f(t)&&(t.preventDefault(),W&&W(!1),F||Ft())},zt=function(){mt===t.LOADED?window.requestAnimationFrame((function(){return Bt(!0)})):bt()},At=function(){var t=M||U;t&&E(t)},Ot=function(){O&&z(e,l(dt,a),O),N&&(N.style.backgroundColor=X),M&&(h("load",Ot,M),k("transitionend",At,M),z(e,d,M)),U&&(k("transitionend",At,U),z(e,d,U)),Mt(t.LOADED)},Ct=function(){O&&(z(e,l(dt,i),O),window.setTimeout((function(){gt(),Dt(),E(O),Mt(t.UNLOADED)}),0))},Nt=function(){W&&W(!1),F||Ft()},Tt=function(){window.requestAnimationFrame((function(){return W?W(!1):F?void 0:Ft()}))},Ut=function(t){m(t)&&(t.stopPropagation(),W&&W(!1),F||Ft())},Mt=function(t){mt=t,Bt()},Bt=function(t){if(void 0===t&&(t=!1),O){var n=ct?M:U;n&&z(e,s(t?"0ms":$,tt,O,ct,mt),n)}},Ht=function(){ct?St():It()},St=function(){if(O&&mt===t.UNLOADED){var i=O.alt,r=L("aria-label",O),a=L("aria-labelledby",O),d=O.sizes,c=O.src,l=O.srcset;M=new Image,k("load",Ot,M),k(n,ht,M),k("keydown",xt,M),z("aria-describedby",et,M),z("data-rmiz-zoomed","",M),z(o,"button",M),z(e,u,M),z("tabindex","0",M),i&&(M.alt=i),c&&(M.src=c),l&&(M.srcset=l),d&&(M.sizes=d),r&&z("aria-label",r,M),a&&z("aria-labelledby",a,M),N=Zt(),w(M,N),w(N,st),k("keydown",Ut,document),k("scroll",Tt,ft)}},It=function(){if(O&&mt===t.UNLOADED){U=g(),k(n,ht,U),k("keydown",xt,U),z("aria-describedby",et,U),z("data-rmiz-zoomed","",U),z("id","abc",U),z(o,"button",U),z(e,u,U),z("tabindex","0",U);var i=O.cloneNode(!0);x("id",i),x("tabindex",i),at?z(o,at,i):x(o,i),rt?z("aria-describedby",rt,i):x("aria-describedby",i),k(n,ht,U),w(i,U),N=Zt(),w(U,N),w(N,st),k("keydown",Ut,document),k("scroll",Tt,ft),Ot()}},Zt=function(){var t=g();return z("aria-label",G,t),z("aria-modal","true",t),z("data-rmiz-overlay","",t),z(o,"dialog",t),z(e,r(J,$,String(ot)),t),k(n,Nt,t),t},Ft=function(){if(mt===t.LOADED){var n=ct?M:U;n&&(n.blur(),k("transitionend",Ct,n)),N&&(N.style.backgroundColor=J)}mt!==t.UNLOADED&&Mt(t.UNLOADING)};return k("resize",zt,window),vt(),pt(),ct&&!O.complete?O.addEventListener("load",(function(){window.setTimeout((function(){bt()}),500)})):bt(),{cleanup:function(){gt(),yt(),Dt(),wt(),ct&&O&&h("load",bt,O),B&&(B.removeListener(Et),B=void 0),h("resize",zt,window)},update:function(n){void 0===n&&(n={}),n.modalText&&(G=n.modalText),n.overlayBgColorEnd&&(X=n.overlayBgColorEnd),n.overlayBgColorStart&&(J=n.overlayBgColorStart),n.transitionDuration&&($=n.transitionDuration),n.zoomMargin&&(tt=n.zoomMargin),n.zoomZindex&&(ot=n.zoomZindex),n.closeText&&(I=n.closeText,C&&A(I,C)),n.openText&&(q=n.openText,T&&A(q,T)),mt===t.UNLOADED&&(n.portalEl&&(st=n.portalEl),n.scrollableEl&&(ft=n.scrollableEl)),Bt(),mt===t.UNLOADED&&n.isZoomed?Ht():mt===t.LOADED&&!1===n.isZoomed&&Ft()}}}}();
