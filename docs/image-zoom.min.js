var ImageZoom=function(){"use strict";var n;!function(){if("undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof HTMLElement){var n=!1;try{var t=document.createElement("div");t.addEventListener("focus",(function(n){n.preventDefault(),n.stopPropagation()}),!0),t.focus(Object.defineProperty({},"preventScroll",{get:function(){n=!0}}))}catch(n){}if(void 0===HTMLElement.prototype.nativeFocus&&!n){HTMLElement.prototype.nativeFocus=HTMLElement.prototype.focus;var o=function(n){for(var t=0;t<n.length;t++)n[t][0].scrollTop=n[t][1],n[t][0].scrollLeft=n[t][2];n=[]};HTMLElement.prototype.focus=function(n){if(n&&n.preventScroll){var t=function(n){for(var t=n.parentNode,o=[],e=document.scrollingElement||document.documentElement;t&&t!==e;)(t.offsetHeight<t.scrollHeight||t.offsetWidth<t.scrollWidth)&&o.push([t,t.scrollTop,t.scrollLeft]),t=t.parentNode;return t=e,o.push([t,t.scrollTop,t.scrollLeft]),o}(this);this.nativeFocus(),"function"==typeof setTimeout?setTimeout((function(){o(t)}),0):o(t)}else this.nativeFocus()}}}}(),function(n){n.LOADED="LOADED",n.UNLOADED="UNLOADED",n.UNLOADING="UNLOADING"}(n||(n={}));var t="div",o="style",e="position:absolute;",i="display:inline-block;position:relative;",r=i+"width:100%;",a=e+"top:0;right:0;bottom:0;left:0;height:100%;width:100%;background:none;border:none;margin:0;padding:0;"+"touch-action:manipulation;-webkit-appearance:none;-moz-appearance:none;appearance:none;",u=a+"cursor:-webkit-zoom-in;cursor:zoom-in;",c=a+"cursor:-webkit-zoom-out;cursor:zoom-out;z-index:1;",d=e+"visibility:hidden;",l="display:block;height:100%;max-width:100%;",f=function(n,t){return e+"top:0;right:0;bottom:0;left:0;transition:background "+(t?t/3:t)+"ms cubic-bezier(.42,0,.58,1);;background:"+n+";"},s=function(n){return"position:fixed;top:0;right:0;bottom:0;left:0;width:100%;height:100%;z-index:"+n+";"},v=function(n,t,o,i,r,a){return e+"height:"+n+"px;width:"+t+"px;left:"+o+"px;top:"+i+"px;transition:transform "+a+"ms cubic-bezier(.42,0,.58,1);;-webkit-transform:"+r+";-ms-transform:"+r+";transform:"+r+";"},m=function(t,o,e,i,r,a){if(!e)return v(0,0,0,0,"none",0);var u=e.getBoundingClientRect(),c=u.height,d=u.left,l=u.top,f=u.width,s=C("transform",i);if(a!==n.LOADED)return v(c,f,d,l,"scale(1) translate(0,0)"+(s?" "+s:""),t);var m=i,p=m.naturalHeight,b=m.naturalWidth,D=r&&p&&b?g(c,f,o,p,b):h(c,f,o),w=window.innerWidth/2,y=window.innerHeight/2;return v(c,f,d,l,"scale("+D+") translate("+(w-(d+f/2))/D+"px,"+(y-(l+c/2))/D+"px)"+(s?" "+s:""),t)},p=function(n){return"Escape"===n.key||27===n.keyCode},h=function(n,t,o){var e=window.innerWidth/(t+o),i=window.innerHeight/(n+o);return Math.min(e,i)},g=function(n,t,o,e,i){var r=h(e,i,o),a=i>e?i/t:e/n;return r>1?a:r*a},b=/\.svg$/i,D=function(n,t){return t.appendChild(n)},w=function(n,t){n&&t&&t.removeChild(n)},y=function(n){return document.createElement(n)},E=function(n,t){return t.cloneNode(n)},L=function(n){null==n||n.blur()},x=function(n){n&&n.focus({preventScroll:!0})},N=function(n,t){for(var o,e=(null===(o=t.parentNode)||void 0===o?void 0:o.children)||[],i=0;i<e.length;i++){var r=e[i];if(!r)return;var a=r.tagName;if("SCRIPT"===a||"NOSCRIPT"===a||"STYLE"===a||r===t)return;n(r)}},A=function(n,t,o,e){void 0===e&&(e=!1),o.addEventListener(n,t,e)},T=function(n,t,o,e){void 0===e&&(e=!1),o.removeEventListener(n,t,e)},k=function(n,t){t.removeAttribute(n)},z=function(n,t,o){return o.setAttribute(n,t)},O=function(n){return n.style},C=function(n,t){return O(t)[n]},U=function(n,t,o){O(o)[n]=t};return function(a,v){var O,M,S,H,B,Z,I,W,P,F,G,R=void 0===a?{}:a,j=R.closeText,Y=void 0===j?"Unzoom image":j,$=R.isControlled,q=void 0!==$&&$,J=R.modalText,K=void 0===J?"Zoomed item":J,Q=R.onZoomChange,V=R.openText,X=void 0===V?"Zoom image":V,_=R.overlayBgColorEnd,nn=void 0===_?"rgba(255,255,255,0.95)":_,tn=R.overlayBgColorStart,on=void 0===tn?"rgba(255,255,255,0)":tn,en=R.transitionDuration,rn=void 0===en?300:en,an=R.zoomMargin,un=void 0===an?0:an,cn=R.zoomZindex,dn=void 0===cn?2147483647:cn,ln="block"===window.getComputedStyle(v).display,fn="IMG"===v.tagName,sn=!(fn&&b.test(v.currentSrc))&&fn,vn=document.body,mn=window,pn=[],hn=n.UNLOADED,gn=rn,bn="",Dn=function(){A("resize",Cn,window),yn(),sn&&!v.complete?A("load",Ln,v):Ln()},wn=function(){null==Z||Z.disconnect(),Z=void 0},yn=function(){(B=window.matchMedia("(prefers-reduced-motion:reduce)")).addListener(En)},En=function(){gn=0},Ln=function(){if(v&&hn===n.UNLOADED){var e=v.getBoundingClientRect(),a=e.height,c=e.width,d=v,l=d.naturalHeight,f=d.naturalWidth;(sn&&l&&f?g(a,c,un,l,f):h(a,c,un))>1?P||(P=E(!0,v),k("tabindex",P),sn&&(U("display","block",P),U("maxWidth","100%",P)),F=y(t),I=y("button"),z("data-rmiz-wrap","",F),z(o,ln?r:i,F),z("aria-label",X,I),z(o,u,I),A("click",kn,I),D(P,F),D(I,F),v.parentNode&&(bn=C("display",v),U("display","none",v),v.parentNode.insertBefore(F,v)),(Z=new MutationObserver((function(){xn(),Dn()}))).observe(v,{attributes:!0,characterData:!0,childList:!0,subtree:!0})):(Tn(),wn(),Nn(),An())}},xn=function(){Tn(),wn(),Nn(),An(),null==B||B.removeListener(En),B=void 0,T("resize",Cn,window)},Nn=function(){sn&&v&&T("load",Ln,v)},An=function(){I&&T("click",kn,I),w(F,null==F?void 0:F.parentNode),U("display",bn,v),I=void 0,F=void 0,P=void 0},Tn=function(){T("scroll",Bn,mn),T("keydown",Zn,document),G&&(T("transitionend",Sn,G),T("transitionend",Un,G)),O&&T("click",zn,O),M&&T("focus",On,M),S&&T("focus",On,S),H&&(T("click",Hn,H),w(H,vn)),O=void 0,M=void 0,S=void 0,G=void 0,W=void 0,H=void 0},kn=function(n){n.preventDefault(),Q&&Q(!0),q||Pn()},zn=function(n){n.preventDefault(),Q&&Q(!1),q||Yn()},On=function(){x(O)},Cn=function(){hn===n.LOADED?Wn(!0):Ln()},Un=function(){x(O)},Mn=function(){P&&U("visibility","hidden",P),W&&z(o,f(nn,gn),W),G&&(A("transitionend",Un,G),z(o,e,G)),In(n.LOADED)},Sn=function(){window.setTimeout((function(){P&&U("visibility","",P),Tn(),In(n.UNLOADED),x(I)}),0)},Hn=function(){Q&&Q(!1),q||Yn()},Bn=function(){Q&&Q(!1),q||Yn()},Zn=function(n){p(n)&&(n.stopPropagation(),Q&&Q(!1),q||Yn())},In=function(n){hn=n,Wn()},Wn=function(n){void 0===n&&(n=!1),P&&G&&z(o,m(n?0:gn,un,F,P,sn,hn),G)},Pn=function(){sn?Fn():Gn(),L(I),jn()},Fn=function(){if(P&&hn===n.UNLOADED){var t=E(!0,P);k("id",t),k("class",t),z(o,l,t),H=Rn(t),D(H,vn),A("keydown",Zn,document),A("scroll",Bn,mn),Mn()}},Gn=function(){if(P&&hn===n.UNLOADED){var t=E(!0,P);k("id",t),H=Rn(t),D(H,vn),A("keydown",Zn,document),A("scroll",Bn,mn),Mn()}},Rn=function(n){var e=y(t);return z("aria-label",K,e),z("aria-modal","true",e),z("data-rmiz-overlay","",e),z("role","dialog",e),z(o,s(String(dn)),e),A("click",Hn,e),W=y(t),z(o,f(on,gn),W),M=y(t),z("tabindex","0",M),A("focus",On,M),S=y(t),z("tabindex","0",S),A("focus",On,S),O=y("button"),z(o,c,O),z("aria-label",Y,O),A("click",zn,O),G=y(t),z("data-rmiz-zoomed","",G),z(o,d,G),D(n,G),D(W,e),D(M,e),D(O,e),D(G,e),D(S,e),e},jn=function(){N((function(n){var t=n.getAttribute("aria-hidden");t&&pn.push([n,t]),n.setAttribute("aria-hidden","true")}),vn)},Yn=function(){hn===n.LOADED&&(L(O),G&&A("transitionend",Sn,G),W&&z(o,f(on,gn),W)),hn!==n.UNLOADED&&In(n.UNLOADING),N((function(n){k("aria-hidden",n)}),vn),pn.forEach((function(n){var t=n[0],o=n[1];t&&z("aria-hidden",o,t)})),pn=[]};return Dn(),{cleanup:xn,update:function(t){void 0===t&&(t={}),t.closeText&&(Y=t.closeText),t.modalText&&(K=t.modalText),t.openText&&(X=t.openText),t.overlayBgColorEnd&&(nn=t.overlayBgColorEnd),t.overlayBgColorStart&&(on=t.overlayBgColorStart),t.transitionDuration&&(gn=t.transitionDuration),t.zoomMargin&&(un=t.zoomMargin),t.zoomZindex&&(dn=t.zoomZindex),Wn(),hn===n.UNLOADED&&t.isZoomed?Pn():hn===n.LOADED&&!1===t.isZoomed&&Yn()}}}}();
