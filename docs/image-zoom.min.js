var ImageZoom=function(){"use strict";var t;!function(){if("undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof HTMLElement){var t=!1;try{var o=document.createElement("div");o.addEventListener("focus",(function(t){t.preventDefault(),t.stopPropagation()}),!0),o.focus(Object.defineProperty({},"preventScroll",{get:function(){t=!0}}))}catch(t){}if(void 0===HTMLElement.prototype.nativeFocus&&!t){HTMLElement.prototype.nativeFocus=HTMLElement.prototype.focus;var n=function(t){for(var o=0;o<t.length;o++)t[o][0].scrollTop=t[o][1],t[o][0].scrollLeft=t[o][2];t=[]};HTMLElement.prototype.focus=function(t){if(t&&t.preventScroll){var o=function(t){for(var o=t.parentNode,n=[],e=document.scrollingElement||document.documentElement;o&&o!==e;)(o.offsetHeight<o.scrollHeight||o.offsetWidth<o.scrollWidth)&&n.push([o,o.scrollTop,o.scrollLeft]),o=o.parentNode;return o=e,n.push([o,o.scrollTop,o.scrollLeft]),n}(this);this.nativeFocus(),"function"==typeof setTimeout?setTimeout((function(){n(o)}),0):n(o)}else this.nativeFocus()}}}}(),function(t){t.LOADED="LOADED",t.UNLOADED="UNLOADED",t.UNLOADING="UNLOADING"}(t||(t={}));var o="click",n="div",e="style",i="position:relative;display:inline-block;",r=i+"width:100%;",a="position:absolute;top:0;right:0;bottom:0;left:0;background:none;border:none;margin:0;padding:0;",u=a+"cursor:-webkit-zoom-in;cursor:zoom-in;",d=a+"cursor:-webkit-zoom-out;cursor:zoom-out;",l=function(t,o,n){return"position:fixed;top:0;right:0;bottom:0;left:0;width:100%;height:100%;-webkit-transition-property:background-color;-o-transition-property:background-color;transition-property:background-color;background-color:"+t+";transition-duration:"+o+";transition-timing-function:ease;z-index:"+n+";"},c="position:absolute;-webkit-transition-property:-webkit-transform;transition-property:-webkit-transform;-o-transition-property:transform;transition-property:transform;transition-property:transform,-webkit-transform;-webkit-transform-origin:center center;-ms-transform-origin:center center;transform-origin:center center;",s=c+"visibility:hidden;",f=function(t,o,n,e,i,r){return c+"height:"+t+"px;width:"+o+"px;left:"+n+"px;top:"+e+"px;-webkit-transform:"+i+";transform:"+i+";-webkit-transition-duration:"+r+";transition-duration:"+r+";transition-timing-function:ease;"},m=function(o,n,e,i,r){if(!e)return f(0,0,0,0,"none","0ms");var a=e.getBoundingClientRect(),u=a.height,d=a.left,l=a.top,c=a.width,s=e.style.transform;if(r!==t.LOADED)return f(u,c,d,l,"scale(1) translate(0,0)"+(s?" "+s:""),o);var m=e,v=m.naturalHeight,g=m.naturalWidth,h=i&&v&&g?b(u,c,n,v,g):p(u,c,n),w=window.innerWidth/2,y=window.innerHeight/2;return f(u,c,d,l,"scale("+h+") translate("+(w-(d+c/2))/h+"px,"+(y-(l+u/2))/h+"px)"+(s?" "+s:""),o)},v=function(t){return"Escape"===t.key||27===t.keyCode},p=function(t,o,n){var e=window.innerWidth/(o+n),i=window.innerHeight/(t+n);return Math.min(e,i)},b=function(t,o,n,e,i){var r=p(e,i,n),a=i>e?i/o:e/t;return r>1?a:r*a},g=/\.svg$/i,h=function(t,o){return o.appendChild(t)},w=function(t,o){t&&o&&o.removeChild(t)},y=function(t){return document.createElement(t)},D=function(t){t&&t.blur()},E=function(t){t&&t.focus({preventScroll:!0})},L=function(t,o){for(var n,e=(null===(n=o.parentNode)||void 0===n?void 0:n.children)||[],i=0;i<e.length;i++){var r=e[i];if(!r)return;var a=r.tagName;if("SCRIPT"===a||"NOSCRIPT"===a||"STYLE"===a||r===o)return;t(r)}},A=function(t,o,n){t&&o&&n&&t.replaceChild(n,o)},N=function(t,o,n){n.addEventListener(t,o)},k=function(t,o,n){n.removeEventListener(t,o)},x=function(t,o){return o.getAttribute(t)},T=function(t,o){return o.removeAttribute(t)},z=function(t,o,n){return n.setAttribute(t,o)};return function(a,f){var O,C,U,S,H,M,Z,B,I,F,W=void 0===a?{}:a,P=W.closeText,G=void 0===P?"Unzoom image":P,R=W.isControlled,q=void 0!==R&&R,j=W.modalText,Y=void 0===j?"Zoomed item":j,$=W.onZoomChange,J=W.openText,K=void 0===J?"Zoom image":J,Q=W.overlayBgColorEnd,V=void 0===Q?"rgba(255,255,255,0.95)":Q,X=W.overlayBgColorStart,_=void 0===X?"rgba(255,255,255,0)":X,tt=W.scrollableEl,ot=W.transitionDuration,nt=void 0===ot?"300ms":ot,et=W.zoomMargin,it=void 0===et?0:et,rt=W.zoomZindex,at=void 0===rt?2147483647:rt,ut=x("role",f),dt="block"===window.getComputedStyle(f).display,lt="IMG"===f.tagName,ct=!(lt&&g.test(f.currentSrc))&&lt,st=document.body,ft=[],mt=tt||window,vt=t.UNLOADED,pt=function(){(H=window.matchMedia("(prefers-reduced-motion:reduce)")).addListener(bt)},bt=function(){nt="0ms"},gt=function(){if(f&&vt===t.UNLOADED){var a=f.getBoundingClientRect(),d=a.height,l=a.width,c=f,s=c.naturalHeight,m=c.naturalWidth;(ct&&s&&m?b(d,l,it,s,m):p(d,l,it))>1?Z||(Z=f.cloneNode(!0),B=y(n),M=y("button"),z("data-rmiz-wrap","",B),z(e,dt?r:i,B),z("aria-label",K,M),z(e,u,M),N(o,yt,M),h(Z,B),h(M,B),A(f.parentNode,f,B)):(wt(),ht())}},ht=function(){M&&k(o,yt,M),A(null==B?void 0:B.parentNode,B,f),M=void 0,B=void 0,Z=void 0},wt=function(){var t=ct?F:I;t&&(k("transitionend",kt,t),k("transitionend",At,t),k("load",Nt,t),w(t,S)),O&&k(o,Dt,O),C&&k("focus",Et,C),U&&k("focus",Et,U),S&&(k(o,xt,S),w(S,st)),F=void 0,I=void 0,O=void 0,C=void 0,U=void 0,S=void 0,k("scroll",Tt,mt),k("keydown",zt,document)},yt=function(t){t.preventDefault(),$&&$(!0),q||Ut()},Dt=function(t){t.preventDefault(),$&&$(!1),q||Bt()},Et=function(){E(O)},Lt=function(){vt===t.LOADED?window.requestAnimationFrame((function(){return Ct(!0)})):gt()},At=function(){E(O)},Nt=function(){Z&&(Z.style.visibility="hidden"),S&&(S.style.backgroundColor=V),F&&(k("load",Nt,F),N("transitionend",At,F),z(e,c,F)),I&&(N("transitionend",At,I),z(e,c,I)),Ot(t.LOADED)},kt=function(){Z&&(Z.style.visibility="",window.setTimeout((function(){wt(),E(M),Ot(t.UNLOADED)}),0))},xt=function(){$&&$(!1),q||Bt()},Tt=function(){window.requestAnimationFrame((function(){return $?$(!1):q?void 0:Bt()}))},zt=function(t){v(t)&&(t.stopPropagation(),$&&$(!1),q||Bt())},Ot=function(t){vt=t,Ct()},Ct=function(t){if(void 0===t&&(t=!1),Z){var o=ct?F:I;o&&z(e,m(t?"0ms":nt,it,Z,ct,vt),o)}},Ut=function(){ct?St():Ht(),D(M),Zt()},St=function(){if(Z&&vt===t.UNLOADED){var i=Z.alt,r=x("aria-label",Z),a=x("aria-labelledby",Z),u=Z.sizes,l=Z.src,c=Z.srcset;C=y(n),z("tabindex","0",C),N("focus",Et,C),U=y(n),z("tabindex","0",U),N("focus",Et,U),O=y("button"),z(e,d,O),z("aria-label",G,O),N(o,Dt,O),F=new Image,N("load",Nt,F),z("data-rmiz-zoomed","",F),z(e,s,F),i&&(F.alt=i),l&&(F.src=l),c&&(F.srcset=c),u&&(F.sizes=u),r&&z("aria-label",r,F),a&&z("aria-labelledby",a,F),S=Mt(),h(C,S),h(O,S),h(F,S),h(U,S),h(S,st),N("keydown",zt,document),N("scroll",Tt,mt)}},Ht=function(){if(f&&vt===t.UNLOADED){C=y(n),z("tabindex","0",C),N("focus",Et,C),U=y(n),z("tabindex","0",U),N("focus",Et,U),O=y("button"),z(e,d,O),z("aria-label",G,O),N(o,Dt,O),I=y(n),z("data-rmiz-zoomed","",I),z(e,s,I);var i=f.cloneNode(!0);T("id",i),T("tabindex",i),ut?z("role",ut,i):T("role",i),N(o,Dt,I),h(i,I),S=Mt(),h(C,S),h(O,S),h(I,S),h(U,S),h(S,st),N("keydown",zt,document),N("scroll",Tt,mt),Nt()}},Mt=function(){var t=y(n);return z("aria-label",Y,t),z("aria-modal","true",t),z("data-rmiz-overlay","",t),z("role","dialog",t),z(e,l(_,nt,String(at)),t),N(o,xt,t),t},Zt=function(){L((function(t){var o=t.getAttribute("aria-hidden");o&&ft.push([t,o]),t.setAttribute("aria-hidden","true")}),st)},Bt=function(){if(vt===t.LOADED){var o=ct?F:I;o&&(D(o),N("transitionend",kt,o)),S&&(S.style.backgroundColor=_)}vt!==t.UNLOADED&&Ot(t.UNLOADING),L((function(t){t.removeAttribute("aria-hidden")}),st),ft.forEach((function(t){var o=t[0],n=t[1];null==o||o.setAttribute("aria-hidden",n)})),ft=[]};return N("resize",Lt,window),pt(),ct&&!f.complete?f.addEventListener("load",(function(){window.setTimeout((function(){gt()}),500)})):gt(),{cleanup:function(){wt(),ct&&f&&k("load",gt,f),ht(),null==H||H.removeListener(bt),H=void 0,k("resize",Lt,window)},update:function(o){void 0===o&&(o={}),o.closeText&&(G=o.closeText),o.modalText&&(Y=o.modalText),o.openText&&(K=o.openText),o.overlayBgColorEnd&&(V=o.overlayBgColorEnd),o.overlayBgColorStart&&(_=o.overlayBgColorStart),o.transitionDuration&&(nt=o.transitionDuration),o.zoomMargin&&(it=o.zoomMargin),o.zoomZindex&&(at=o.zoomZindex),vt===t.UNLOADED&&o.scrollableEl&&(mt=o.scrollableEl),Ct(),vt===t.UNLOADED&&o.isZoomed?Ut():vt===t.LOADED&&!1===o.isZoomed&&Bt()}}}}();
