var ImageZoom=function(){"use strict";var t;!function(){if("undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof HTMLElement){var t=!1;try{var n=document.createElement("div");n.addEventListener("focus",(function(t){t.preventDefault(),t.stopPropagation()}),!0),n.focus(Object.defineProperty({},"preventScroll",{get:function(){t=!0}}))}catch(t){}if(void 0===HTMLElement.prototype.nativeFocus&&!t){HTMLElement.prototype.nativeFocus=HTMLElement.prototype.focus;var o=function(t){for(var n=0;n<t.length;n++)t[n][0].scrollTop=t[n][1],t[n][0].scrollLeft=t[n][2];t=[]};HTMLElement.prototype.focus=function(t){if(t&&t.preventScroll){var n=function(t){for(var n=t.parentNode,o=[],i=document.scrollingElement||document.documentElement;n&&n!==i;)(n.offsetHeight<n.scrollHeight||n.offsetWidth<n.scrollWidth)&&o.push([n,n.scrollTop,n.scrollLeft]),n=n.parentNode;return n=i,o.push([n,n.scrollTop,n.scrollLeft]),o}(this);this.nativeFocus(),"function"==typeof setTimeout?setTimeout((function(){o(n)}),0):o(n)}else this.nativeFocus()}}}}(),function(t){t.LOADED="LOADED",t.UNLOADED="UNLOADED",t.UNLOADING="UNLOADING"}(t||(t={}));var n="div",o="none",i="style",e="position:absolute;",r="position:relative;display:block;",a="position:relative;display:inline-block;vertical-align:top;",u=e+"top:0;right:0;bottom:0;left:0;height:100%;width:100%;background:none;border:none;margin:0;padding:0;"+"touch-action:manipulation;-webkit-appearance:none;-moz-appearance:none;appearance:none;",c=u+"cursor:pointer;cursor:-webkit-zoom-in;cursor:zoom-in;",d=u+"cursor:pointer;cursor:-webkit-zoom-out;cursor:zoom-out;z-index:1;",l=e+"visibility:hidden;",f="display:block;height:100%;max-width:100%;",s=function(t,n){return e+"top:0;right:0;bottom:0;left:0;transition:background "+(n?n/3:n)+"ms cubic-bezier(.42,0,.58,1);;background:"+t+";"},v=function(t){return"position:fixed;top:0;right:0;bottom:0;left:0;width:100%;height:100%;z-index:"+t+";"},p=function(t,n,o,i,r,a){return e+"height:"+t+"px;width:"+n+"px;left:"+o+"px;top:"+i+"px;transition:transform "+a+"ms cubic-bezier(.42,0,.58,1);;-webkit-transform:"+r+";-ms-transform:"+r+";transform:"+r+";"},m=function(n,i,e,r,a,u){if(!e)return p(0,0,0,0,o,0);var c=e.getBoundingClientRect(),d=c.height,l=c.left,f=c.top,s=c.width,v=U("transform",r);if(u!==t.LOADED)return p(d,s,l,f,"scale(1) translate(0,0)"+(v?" "+v:""),n);var m=r,h=m.naturalHeight,D=m.naturalWidth,w=a&&h&&D?b(d,s,i,h,D):g(d,s,i),y=window.innerWidth/2,E=window.innerHeight/2;return p(d,s,l,f,"scale("+w+") translate("+(y-(l+s/2))/w+"px,"+(E-(f+d/2))/w+"px)"+(v?" "+v:""),n)},h=function(t){return"Escape"===t.key||27===t.keyCode},g=function(t,n,o){var i=window.innerWidth/(n+o),e=window.innerHeight/(t+o);return Math.min(i,e)},b=function(t,n,o,i,e){var r=g(i,e,o),a=e>i?e/n:i/t;return r>1?a:r*a},D=/\.svg$/i,w=function(t,n){return n.appendChild(t)},y=function(t,n){t&&n&&n.removeChild(t)},E=function(t){return document.createElement(t)},L=function(t,n){return n.cloneNode(t)},x=function(t){null==t||t.blur()},N=function(t){t&&t.focus({preventScroll:!0})},k=function(t,n){for(var o,i=(null===(o=n.parentNode)||void 0===o?void 0:o.children)||[],e=0;e<i.length;e++){var r=i[e];if(!r)return;var a=r.tagName;"SCRIPT"!==a&&"NOSCRIPT"!==a&&"STYLE"!==a&&r!==n&&t(r)}},A=function(t,n,o,i){void 0===i&&(i=!1),o.addEventListener(t,n,i)},T=function(t,n,o,i){void 0===i&&(i=!1),o.removeEventListener(t,n,i)},z=function(t,n){return n.getAttribute(t)},O=function(t,n){n.removeAttribute(t)},C=function(t,n,o){return o.setAttribute(t,n)},S=function(t){return t.style},U=function(t,n){return S(n)[t]},M=function(t,n,o){S(o)[t]=n},H=function(t){return window.getComputedStyle(t)};return function(u,p){var S,B,W,Z,I,P,F,G,R,j,Y,$,q=void 0===u?{}:u,J=q.closeText,K=void 0===J?"Unzoom image":J,Q=q.isControlled,V=void 0!==Q&&Q,X=q.modalText,_=void 0===X?"Zoomed item":X,tt=q.onZoomChange,nt=q.openText,ot=void 0===nt?"Zoom image":nt,it=q.overlayBgColorEnd,et=void 0===it?"rgba(255,255,255,0.95)":it,rt=q.overlayBgColorStart,at=void 0===rt?"rgba(255,255,255,0)":rt,ut=q.transitionDuration,ct=void 0===ut?300:ut,dt=q.zoomMargin,lt=void 0===dt?0:dt,ft=q.zoomZindex,st=void 0===ft?2147483647:ft,vt="IMG"===p.tagName,pt=vt&&D.test(p.currentSrc),mt=!pt&&vt,ht=document.body,gt=window,bt=[],Dt=t.UNLOADED,wt=ct,yt="",Et="",Lt="",xt=function(){A("resize",It,window),kt(),mt&&!p.complete?A("load",Tt,p):Tt()},Nt=function(){null==F||F.disconnect(),F=void 0},kt=function(){(P=window.matchMedia("(prefers-reduced-motion:reduce)")).addListener(At)},At=function(){wt=0},Tt=function(){if(p&&Dt===t.UNLOADED){var n=p.getBoundingClientRect(),i=n.height,e=n.width,r=p,a=r.naturalHeight,u=r.naturalWidth;if((mt&&a&&u?b(i,e,lt,a,u):g(i,e,lt))>1){if(!j){var c=getComputedStyle(p);Et=c.display,Lt=c.maxWidth,yt=U("display",p),j=zt(),Y=Ot(),G=Ct(),M("margin",H(p).margin,Y),M("margin","0",j),w(j,Y),w(G,Y),p.parentNode&&(M("display",o,p),p.parentNode.insertBefore(Y,p)),(F=new MutationObserver((function(){St(),xt()}))).observe(p,{attributes:!0,characterData:!0,childList:!0,subtree:!0})}}else Ht(),Nt(),Ut(),Mt()}},zt=function(){var t=L(!0,p);if(O("tabindex",t),(mt||"block"!==Et)&&(M("display","block",t),M("minWidth","300px",t),M("maxWidth",Lt&&Lt!==o?Lt:"100%",t)),pt){var n=z("width",p),i=z("height",p),e=U("width",p),r=U("height",p);n||i||e||r||M("width","100%",t)}return t},Ot=function(){var t=E(n),o="block"===Et?r:a;return C("data-rmiz-wrap","",t),C(i,o,t),t},Ct=function(){var t=E("button");return C("aria-label",ot,t),C(i,c,t),C("type","button",t),A("click",Bt,t),t},St=function(){Ht(),Nt(),Ut(),Mt(),null==P||P.removeListener(At),P=void 0,T("resize",It,window)},Ut=function(){mt&&p&&T("load",Tt,p)},Mt=function(){G&&T("click",Bt,G),y(Y,null==Y?void 0:Y.parentNode),M("display",yt,p),G=void 0,Y=void 0,j=void 0},Ht=function(){T("scroll",jt,gt),T("keydown",Yt,document),S&&T("load",Ft,S),$&&(T("transitionend",Gt,$),T("transitionend",Pt,$)),B&&T("click",Wt,B),W&&T("focus",Zt,W),Z&&T("focus",Zt,Z),I&&(T("click",Rt,I),y(I,ht)),S=void 0,B=void 0,W=void 0,Z=void 0,$=void 0,R=void 0,I=void 0},Bt=function(t){t.preventDefault(),tt&&tt(!0),V||Jt()},Wt=function(t){t.preventDefault(),tt&&tt(!1),V||_t()},Zt=function(){N(B)},It=function(){Dt===t.LOADED?qt(!0):Tt()},Pt=function(){N(B)},Ft=function(){j&&M("visibility","hidden",j),R&&C(i,s(et,wt),R),$&&(A("transitionend",Pt,$),C(i,e,$)),$t(t.LOADED),Xt()},Gt=function(){window.setTimeout((function(){j&&M("visibility","",j),Ht(),$t(t.UNLOADED),N(G)}),0)},Rt=function(){tt&&tt(!1),V||_t()},jt=function(){tt&&tt(!1),V||_t()},Yt=function(t){h(t)&&(t.stopPropagation(),tt&&tt(!1),V||_t())},$t=function(t){Dt=t,qt()},qt=function(t){void 0===t&&(t=!1),j&&$&&C(i,m(t?0:wt,lt,Y,j,mt,Dt),$)},Jt=function(){mt?Kt():Qt(),x(G)},Kt=function(){j&&Dt===t.UNLOADED&&(S=L(!0,j),A("load",Ft,S),O("id",S),O("class",S),C(i,f,S),I=Vt(S),w(I,ht),A("keydown",Yt,document),A("scroll",jt,gt))},Qt=function(){if(j&&Dt===t.UNLOADED){var n=L(!0,j);O("id",n),I=Vt(n),w(I,ht),A("keydown",Yt,document),A("scroll",jt,gt),Ft()}},Vt=function(t){var o=E(n);return C("aria-label",_,o),C("aria-modal","true",o),C("data-rmiz-overlay","",o),C("role","dialog",o),C(i,v(String(st)),o),A("click",Rt,o),R=E(n),C(i,s(at,wt),R),W=E(n),C("tabindex","0",W),A("focus",Zt,W),Z=E(n),C("tabindex","0",Z),A("focus",Zt,Z),B=E("button"),C("aria-label",K,B),C(i,d,B),C("type","button",o),A("click",Wt,B),$=E(n),C("data-rmiz-zoomed","",$),C(i,l,$),w(t,$),w(R,o),w(W,o),w(B,o),w($,o),w(Z,o),o},Xt=function(){I&&k((function(t){var n=z("aria-hidden",t);n&&bt.push([t,n]),t.setAttribute("aria-hidden","true")}),I)},_t=function(){Dt===t.LOADED&&(x(B),I&&k((function(t){O("aria-hidden",t)}),I),bt.forEach((function(t){var n=t[0],o=t[1];n&&C("aria-hidden",o,n)})),bt=[],$&&A("transitionend",Gt,$),R&&C(i,s(at,wt),R)),Dt!==t.UNLOADED&&$t(t.UNLOADING)};return xt(),{cleanup:St,update:function(n){void 0===n&&(n={}),n.closeText&&(K=n.closeText),n.modalText&&(_=n.modalText),n.openText&&(ot=n.openText),n.overlayBgColorEnd&&(et=n.overlayBgColorEnd),n.overlayBgColorStart&&(at=n.overlayBgColorStart),n.transitionDuration&&(wt=n.transitionDuration),n.zoomMargin&&(lt=n.zoomMargin),n.zoomZindex&&(st=n.zoomZindex),qt(),Dt===t.UNLOADED&&n.isZoomed?Jt():Dt===t.LOADED&&!1===n.isZoomed&&_t()}}}}();
