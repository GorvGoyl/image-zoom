var ImageZoom=function(){"use strict";var t;!function(){if("undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof HTMLElement){var t=!1;try{var n=document.createElement("div");n.addEventListener("focus",(function(t){t.preventDefault(),t.stopPropagation()}),!0),n.focus(Object.defineProperty({},"preventScroll",{get:function(){t=!0}}))}catch(t){}if(void 0===HTMLElement.prototype.nativeFocus&&!t){HTMLElement.prototype.nativeFocus=HTMLElement.prototype.focus;var o=function(t){for(var n=0;n<t.length;n++)t[n][0].scrollTop=t[n][1],t[n][0].scrollLeft=t[n][2];t=[]};HTMLElement.prototype.focus=function(t){if(t&&t.preventScroll){var n=function(t){for(var n=t.parentNode,o=[],e=document.scrollingElement||document.documentElement;n&&n!==e;)(n.offsetHeight<n.scrollHeight||n.offsetWidth<n.scrollWidth)&&o.push([n,n.scrollTop,n.scrollLeft]),n=n.parentNode;return n=e,o.push([n,n.scrollTop,n.scrollLeft]),o}(this);this.nativeFocus(),"function"==typeof setTimeout?setTimeout((function(){o(n)}),0):o(n)}else this.nativeFocus()}}}}(),function(t){t.LOADED="LOADED",t.UNLOADED="UNLOADED",t.UNLOADING="UNLOADING"}(t||(t={}));var n="div",o="style",e="position:absolute;",i="position:relative;display:inline-flex;align-items:flex-start;",r=i+"width:100%;",a=e+"top:0;right:0;bottom:0;left:0;height:100%;width:100%;background:none;border:none;margin:0;padding:0;"+"touch-action:manipulation;-webkit-appearance:none;-moz-appearance:none;appearance:none;",d=a+"cursor:-webkit-zoom-in;cursor:zoom-in;",u=a+"cursor:-webkit-zoom-out;cursor:zoom-out;z-index:1;",c=e+"visibility:hidden;",l="height:100%;max-width:100%;",f=function(t,n){return e+"top:0;right:0;bottom:0;left:0;transition:background "+(n?n/3:n)+"ms cubic-bezier(0.2,0,0.2,1);background:"+t+";"},s=function(t){return"position:fixed;top:0;right:0;bottom:0;left:0;width:100%;height:100%;z-index:"+t+";"},v=function(t,n,o,i,r,a){return e+"height:"+t+"px;width:"+n+"px;left:"+o+"px;top:"+i+"px;transition:transform "+a+"ms cubic-bezier(0.2,0,0.2,1);-webkit-transform:"+r+";-ms-transform:"+r+";transform:"+r+";"},m=function(n,o,e,i,r,a){if(!e)return v(0,0,0,0,"none",0);var d=e.getBoundingClientRect(),u=d.height,c=d.left,l=d.top,f=d.width,s=i.style.transform;if(a!==t.LOADED)return v(u,f,c,l,"scale(1) translate(0,0)"+(s?" "+s:""),n);var m=i,p=m.naturalHeight,D=m.naturalWidth,b=r&&p&&D?g(u,f,o,p,D):h(u,f,o),w=window.innerWidth/2,y=window.innerHeight/2;return v(u,f,c,l,"scale("+b+") translate("+(w-(c+f/2))/b+"px,"+(y-(l+u/2))/b+"px)"+(s?" "+s:""),n)},p=function(t){return"Escape"===t.key||27===t.keyCode},h=function(t,n,o){var e=window.innerWidth/(n+o),i=window.innerHeight/(t+o);return Math.min(e,i)},g=function(t,n,o,e,i){var r=h(e,i,o),a=i>e?i/n:e/t;return r>1?a:r*a},D=/\.svg$/i,b=function(t,n){return n.appendChild(t)},w=function(t,n){t&&n&&n.removeChild(t)},y=function(t){return document.createElement(t)},E=function(t){t&&t.blur()},L=function(t){t&&t.focus({preventScroll:!0})},x=function(t,n){for(var o,e=(null===(o=n.parentNode)||void 0===o?void 0:o.children)||[],i=0;i<e.length;i++){var r=e[i];if(!r)return;var a=r.tagName;if("SCRIPT"===a||"NOSCRIPT"===a||"STYLE"===a||r===n)return;t(r)}},N=function(t,n,o,e){void 0===e&&(e=!1),o.addEventListener(t,n,e)},T=function(t,n,o,e){void 0===e&&(e=!1),o.removeEventListener(t,n,e)},A=function(t,n){return n.removeAttribute(t)},z=function(t,n,o){return o.setAttribute(t,n)};return function(a,v){var O,k,C,U,M,S,H,B,Z,I,W,P=void 0===a?{}:a,F=P.closeText,G=void 0===F?"Unzoom image":F,R=P.isControlled,j=void 0!==R&&R,Y=P.modalText,$=void 0===Y?"Zoomed item":Y,q=P.onZoomChange,J=P.openText,K=void 0===J?"Zoom image":J,Q=P.overlayBgColorEnd,V=void 0===Q?"rgba(255,255,255,0.95)":Q,X=P.overlayBgColorStart,_=void 0===X?"rgba(255,255,255,0)":X,tt=P.transitionDuration,nt=void 0===tt?300:tt,ot=P.zoomMargin,et=void 0===ot?0:ot,it=P.zoomZindex,rt=void 0===it?2147483647:it,at="block"===window.getComputedStyle(v).display,dt="IMG"===v.tagName,ut=!(dt&&D.test(v.currentSrc))&&dt,ct=document.body,lt=window,ft=[],st=t.UNLOADED,vt=nt,mt="",pt=function(){N("resize",Tt,window),gt(),ut&&!v.complete?v.addEventListener("load",(function(){window.setTimeout((function(){bt()}),500)})):bt()},ht=function(){null==S||S.disconnect(),S=void 0},gt=function(){(M=window.matchMedia("(prefers-reduced-motion:reduce)")).addListener(Dt)},Dt=function(){vt=0},bt=function(){if(v&&st===t.UNLOADED){var e=v.getBoundingClientRect(),a=e.height,u=e.width,c=v,l=c.naturalHeight,f=c.naturalWidth;(ut&&l&&f?g(a,u,et,l,f):h(a,u,et))>1?Z||(Z=v.cloneNode(!0),A("tabindex",Z),I=y(n),H=y("button"),z("data-rmiz-wrap","",I),z(o,at?r:i,I),z("aria-label",K,H),z(o,d,H),N("click",Lt,H),b(Z,I),b(H,I),v.parentNode&&(mt=v.style.display,v.style.display="none",v.parentNode.insertBefore(I,v)),(S=new MutationObserver((function(){wt(),pt()}))).observe(v,{attributes:!0,characterData:!0,childList:!0,subtree:!0})):(Et(),ht(),yt())}},wt=function(){Et(),ht(),ut&&v&&T("load",bt,v),yt(),null==M||M.removeListener(Dt),M=void 0,T("resize",Tt,window)},yt=function(){H&&T("click",Lt,H),w(I,null==I?void 0:I.parentNode),v.style.display=mt,H=void 0,I=void 0,Z=void 0},Et=function(){T("scroll",Ct,lt),T("keydown",Ut,document),W&&(T("transitionend",Ot,W),T("transitionend",At,W)),O&&T("click",xt,O),k&&T("focus",Nt,k),C&&T("focus",Nt,C),U&&(T("click",kt,U),w(U,ct)),O=void 0,k=void 0,C=void 0,W=void 0,B=void 0,U=void 0},Lt=function(t){t.preventDefault(),q&&q(!0),j||Ht()},xt=function(t){t.preventDefault(),q&&q(!1),j||Pt()},Nt=function(){L(O)},Tt=function(){st===t.LOADED?St(!0):bt()},At=function(){L(O)},zt=function(){Z&&(Z.style.visibility="hidden"),B&&z(o,f(V,vt),B),W&&(N("transitionend",At,W),z(o,e,W)),Mt(t.LOADED)},Ot=function(){window.setTimeout((function(){Z&&(Z.style.visibility=""),Et(),L(H),Mt(t.UNLOADED)}),0)},kt=function(){q&&q(!1),j||Pt()},Ct=function(){q&&q(!1),j||Pt()},Ut=function(t){p(t)&&(t.stopPropagation(),q&&q(!1),j||Pt())},Mt=function(t){st=t,St()},St=function(t){void 0===t&&(t=!1),Z&&W&&z(o,m(t?0:vt,et,I,Z,ut,st),W)},Ht=function(){ut?Bt():Zt(),E(H),Wt()},Bt=function(){if(Z&&st===t.UNLOADED){var n=Z.cloneNode(!0);A("id",n),z(o,l,n),U=It(n),b(U,ct),N("keydown",Ut,document),N("scroll",Ct,lt),zt()}},Zt=function(){if(Z&&st===t.UNLOADED){var n=Z.cloneNode(!0);A("id",n),U=It(n),b(U,ct),N("keydown",Ut,document),N("scroll",Ct,lt),zt()}},It=function(t){var e=y(n);return z("aria-label",$,e),z("aria-modal","true",e),z("data-rmiz-overlay","",e),z("role","dialog",e),z(o,s(String(rt)),e),N("click",kt,e),B=y(n),z(o,f(_,vt),B),k=y(n),z("tabindex","0",k),N("focus",Nt,k),C=y(n),z("tabindex","0",C),N("focus",Nt,C),O=y("button"),z(o,u,O),z("aria-label",G,O),N("click",xt,O),W=y(n),z("data-rmiz-zoomed","",W),z(o,c,W),b(t,W),b(B,e),b(k,e),b(O,e),b(W,e),b(C,e),e},Wt=function(){x((function(t){var n=t.getAttribute("aria-hidden");n&&ft.push([t,n]),t.setAttribute("aria-hidden","true")}),ct)},Pt=function(){st===t.LOADED&&(E(O),W&&N("transitionend",Ot,W),B&&z(o,f(_,vt),B)),st!==t.UNLOADED&&Mt(t.UNLOADING),x((function(t){A("aria-hidden",t)}),ct),ft.forEach((function(t){var n=t[0],o=t[1];n&&z("aria-hidden",o,n)})),ft=[]};return pt(),{cleanup:wt,update:function(n){void 0===n&&(n={}),n.closeText&&(G=n.closeText),n.modalText&&($=n.modalText),n.openText&&(K=n.openText),n.overlayBgColorEnd&&(V=n.overlayBgColorEnd),n.overlayBgColorStart&&(_=n.overlayBgColorStart),n.transitionDuration&&(vt=n.transitionDuration),n.zoomMargin&&(et=n.zoomMargin),n.zoomZindex&&(rt=n.zoomZindex),St(),st===t.UNLOADED&&n.isZoomed?Ht():st===t.LOADED&&!1===n.isZoomed&&Pt()}}}}();
