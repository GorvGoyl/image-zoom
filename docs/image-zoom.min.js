var ImageZoom=function(){"use strict";!function(){if("undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof HTMLElement){var t=!1;try{var n=document.createElement("div");n.addEventListener("focus",(function(t){t.preventDefault(),t.stopPropagation()}),!0),n.focus(Object.defineProperty({},"preventScroll",{get:function(){t=!0}}))}catch(t){}if(void 0===HTMLElement.prototype.nativeFocus&&!t){HTMLElement.prototype.nativeFocus=HTMLElement.prototype.focus;var o=function(t){for(var n=0;n<t.length;n++)t[n][0].scrollTop=t[n][1],t[n][0].scrollLeft=t[n][2];t=[]};HTMLElement.prototype.focus=function(t){if(t&&t.preventScroll){var n=function(t){for(var n=t.parentNode,o=[],e=document.scrollingElement||document.documentElement;n&&n!==e;)(n.offsetHeight<n.scrollHeight||n.offsetWidth<n.scrollWidth)&&o.push([n,n.scrollTop,n.scrollLeft]),n=n.parentNode;return n=e,o.push([n,n.scrollTop,n.scrollLeft]),o}(this);this.nativeFocus(),"function"==typeof setTimeout?setTimeout((function(){o(n)}),0):o(n)}else this.nativeFocus()}}}}();var t,n=function(t,n,o,e){void 0===e&&(e=!1),o.addEventListener(t,n,e)},o=function(t,n){return n.appendChild(t)},e=function(t){null==t||t.blur()},i=function(t,n){return void 0===t&&(t=!0),n.cloneNode(t)},r=function(t){return document.createElement(t)},u=function(t,n){for(var o,e=(null===(o=n.parentNode)||void 0===o?void 0:o.children)||[],i=0;i<e.length;i++){var r=e[i];r&&r!==n&&t(r)}},a=function(t){return t.style},c=function(){return window.innerHeight},d=function(){return window.innerWidth},l=function(t,n){n.removeAttribute(t)},f=function(t,n){n.contains(t)&&n.removeChild(t)},s=function(t,n,o,e){void 0===e&&(e=!1),o.removeEventListener(t,n,e)},v=function(t,n,o){return o.setAttribute(t,n)},m=function(t,n,o){a(o)[t]=n};!function(t){t.LOADED="LOADED",t.UNLOADED="UNLOADED",t.UNLOADING="UNLOADING"}(t||(t={}));var p=function(t,n){void 0===t&&(t={preventScroll:!1}),null==n||n.focus(t)}.bind(null,{preventScroll:!0}),h="none",g="style",b="position:absolute;",D=b+"touch-action:manipulation;-webkit-appearance:none;-moz-appearance:none;appearance:none;background:none;border:none;margin:0;padding:0;",E=D+"cursor:pointer;cursor:-webkit-zoom-in;cursor:zoom-in;",L=D+"top:0;right:0;bottom:0;left:0;height:100%;width:100%;cursor:pointer;cursor:-webkit-zoom-out;cursor:zoom-out;z-index:1;",y=b+"visibility:hidden;",x="display:block;max-width:100%;max-height:100%;",w=function(t,n){return b+"top:0;right:0;bottom:0;left:0;transition:background "+n+"ms cubic-bezier(.42,0,.58,1);;background:"+t+";"},A=function(t){return"position:fixed;top:0;right:0;bottom:0;left:0;width:100%;height:100%;z-index:"+t+";"},T=function(t,n,o,e,i,r){return b+"height:"+t+"px;width:"+n+"px;left:"+o+"px;top:"+e+"px;transition:transform "+r+"ms cubic-bezier(.42,0,.58,1);;-webkit-transform:"+i+";-ms-transform:"+i+";transform:"+i+";"},N=function(n,o,e,i,r){if(!e)return T(0,0,0,0,h,0);var u,l=e.getBoundingClientRect(),f=l.height,s=l.left,v=l.top,m=l.width,p=(u="transform",a(e)[u]);if(r!==t.LOADED)return T(f,m,s,v,"scale(1) translate(0,0)"+(p?" "+p:""),n);var g=e,b=g.naturalHeight,D=g.naturalWidth,E=i&&b&&D?k(f,m,o,b,D):z(f,m,o),L=d()/2,y=c()/2;return T(f,m,s,v,"scale("+E+") translate("+(L-(s+m/2))/E+"px,"+(y-(v+f/2))/E+"px)"+(p?" "+p:""),n)},O=function(t){return"Escape"===t.key||27===t.keyCode},z=function(t,n,o){var e=d()/(n+o),i=c()/(t+o);return Math.min(e,i)},k=function(t,n,o,e,i){var r=z(e,i,o),u=i>e?i/n:e/t;return r>1?u:r*u},C=/\.svg$/i,S=function(t){var n=t.tagName;return"SCRIPT"===n||"NOSCRIPT"===n||"STYLE"===n},U=function(t){return t?t.getBoundingClientRect():{height:0,width:0}};return function(a,c){var d,D,T,M,H,Z,B,I,W,P,F=void 0===a?{}:a,G=F.closeText,R=void 0===G?"Unzoom image":G,j=F.isControlled,Y=void 0!==j&&j,$=F.modalText,q=void 0===$?"Zoomed item":$,J=F.onZoomChange,K=F.openText,Q=void 0===K?"Zoom image":K,V=F.overlayBgColorEnd,X=void 0===V?"rgba(255,255,255,0.95)":V,_=F.overlayBgColorStart,tt=void 0===_?"rgba(255,255,255,0)":_,nt=F.transitionDuration,ot=void 0===nt?300:nt,et=F.zoomMargin,it=void 0===et?0:et,rt=F.zoomZindex,ut=void 0===rt?2147483647:rt,at="IMG"===c.tagName,ct=!(at&&C.test(c.currentSrc))&&at,dt=window,lt=document,ft=lt.body,st=dt,vt=[],mt=t.UNLOADED,pt=ot,ht=function(){null==B||B.disconnect(),B=void 0},gt=function(){(Z=dt.matchMedia("(prefers-reduced-motion:reduce)")).addListener(bt)},bt=function(){pt=0},Dt=function(){if(c&&mt===t.UNLOADED){var o=U(c),e=o.height,i=o.width,u=c,a=u.naturalHeight,d=u.naturalWidth;(ct&&a&&d?k(e,i,it,a,d):z(e,i,it))>1?(I=r("button"),v("aria-label",Q,I),v(g,E,I),v("type","button",I),Et(),n("click",wt,I),c.insertAdjacentElement("afterend",I),(B=new MutationObserver((function(t){c&&t.length>0&&Et()}))).observe(c,{attributes:!0,characterData:!0,childList:!0,subtree:!0})):(xt(),ht(),Lt(),yt())}},Et=function(){if(I){var t,n=U(c),o=n.height,e=n.width,i=(t=c,window.getComputedStyle(t)).display;m("width",e+"px",I),m("height",o+"px",I),"block"===i?m("marginTop","-"+o+"px",I):m("marginLeft","-"+e+"px",I)}},Lt=function(){ct&&c&&s("load",Dt,c)},yt=function(){I&&(s("click",wt,I),f(I,I.parentNode)),I=void 0},xt=function(){s("scroll",St,st),s("keydown",Ut,lt),d&&s("load",zt,d),P&&(s("transitionend",kt,P),s("transitionend",Ot,P)),D&&s("click",At,D),T&&s("focus",Tt,T),M&&s("focus",Tt,M),H&&(s("click",Ct,H),f(H,ft)),d=void 0,D=void 0,T=void 0,M=void 0,P=void 0,W=void 0,H=void 0},wt=function(t){t.preventDefault(),J&&J(!0),Y||Zt()},At=function(t){t.preventDefault(),J&&J(!1),Y||Ft()},Tt=function(){p(D)},Nt=function(){mt===t.LOADED?Ht(!0):Dt()},Ot=function(){p(D)},zt=function(){c&&m("visibility","hidden",c),W&&v(g,w(X,pt),W),P&&(n("transitionend",Ot,P),v(g,b,P)),Mt(t.LOADED),Pt()},kt=function(){dt.setTimeout((function(){c&&m("visibility","",c),xt(),Mt(t.UNLOADED),p(I)}),0)},Ct=function(){J&&J(!1),Y||Ft()},St=function(){J&&J(!1),Y||Ft()},Ut=function(t){O(t)&&(t.stopPropagation(),J&&J(!1),Y||Ft())},Mt=function(t){mt=t,Ht()},Ht=function(t){void 0===t&&(t=!1),c&&P&&v(g,N(t?0:pt,it,c,ct,mt),P)},Zt=function(){at?Bt():It(),e(I)},Bt=function(){c&&mt===t.UNLOADED&&(d=i(!0,c),n("load",zt,d),l("id",d),v(g,x,d),H=Wt(d),o(H,ft),n("keydown",Ut,lt),n("scroll",St,st))},It=function(){if(c&&mt===t.UNLOADED){var e=i(!0,c);l("id",e),m("maxWidth",h,e),m("maxHeight",h,e),H=Wt(e),o(H,ft),n("keydown",Ut,lt),n("scroll",St,st),zt()}},Wt=function(t){var e=r("div");return v("aria-label",q,e),v("aria-modal","true",e),v("data-rmiz-overlay","",e),v("role","dialog",e),v(g,A(String(ut)),e),n("click",Ct,e),W=r("div"),v(g,w(tt,pt),W),T=r("div"),v("tabindex","0",T),n("focus",Tt,T),M=r("div"),v("tabindex","0",M),n("focus",Tt,M),D=r("button"),v("aria-label",R,D),v(g,L,D),v("type","button",e),n("click",At,D),P=r("div"),v("data-rmiz-zoomed","",P),v(g,y,P),o(t,P),o(W,e),o(T,e),o(D,e),o(P,e),o(M,e),e},Pt=function(){H&&u((function(t){if(!S(t)){var n=function(t,n){return n.getAttribute(t)}("aria-hidden",t);n&&vt.push([t,n]),t.setAttribute("aria-hidden","true")}}),H)},Ft=function(){mt===t.LOADED&&(e(D),H&&u((function(t){S(t)||l("aria-hidden",t)}),H),vt.forEach((function(t){var n=t[0],o=t[1];n&&v("aria-hidden",o,n)})),vt=[],P&&n("transitionend",kt,P),W&&v(g,w(tt,pt),W)),mt!==t.UNLOADED&&Mt(t.UNLOADING)};return n("resize",Nt,dt),gt(),at&&!c.complete?n("load",Dt,c):Dt(),{cleanup:function(){xt(),ht(),Lt(),yt(),null==Z||Z.removeListener(bt),Z=void 0,s("resize",Nt,dt)},update:function(n){void 0===n&&(n={}),n.closeText&&(R=n.closeText),n.modalText&&(q=n.modalText),n.openText&&(Q=n.openText),n.overlayBgColorEnd&&(X=n.overlayBgColorEnd),n.overlayBgColorStart&&(tt=n.overlayBgColorStart),n.transitionDuration&&(pt=n.transitionDuration),n.zoomMargin&&(it=n.zoomMargin),n.zoomZindex&&(ut=n.zoomZindex),Ht(),mt===t.UNLOADED&&n.isZoomed?Zt():mt===t.LOADED&&!1===n.isZoomed&&Ft()}}}}();
