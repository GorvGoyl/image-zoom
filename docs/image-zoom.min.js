var ImageZoom=function(){"use strict";var t;!function(){if("undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof HTMLElement){var t=!1;try{var n=document.createElement("div");n.addEventListener("focus",(function(t){t.preventDefault(),t.stopPropagation()}),!0),n.focus(Object.defineProperty({},"preventScroll",{get:function(){t=!0}}))}catch(t){}if(void 0===HTMLElement.prototype.nativeFocus&&!t){HTMLElement.prototype.nativeFocus=HTMLElement.prototype.focus;HTMLElement.prototype.focus=function(t){var n=window.scrollY||window.pageYOffset;this.nativeFocus(),t&&t.preventScroll&&setTimeout((function(){window.scroll(window.scrollX||window.pageXOffset,n)}),0)}}}}(),function(t){t.LOADED="LOADED",t.UNLOADED="UNLOADED",t.UNLOADING="UNLOADING"}(t||(t={}));var n="click",o="role",e="style",i="cursor:-webkit-zoom-in;cursor:zoom-in;",r=function(t,n,o){return"cursor:-webkit-zoom-out;cursor:zoom-out;position:fixed;top:0;right:0;bottom:0;left:0;width:100%;height:100%;-webkit-transition-property:background-color;-o-transition-property:background-color;transition-property:background-color;background-color:"+t+";transition-duration:"+n+";z-index:"+o+";"},a="visibility:hidden;",d="cursor:-webkit-zoom-out;cursor:zoom-out;position:absolute;-webkit-transition-property:-webkit-transform;transition-property:-webkit-transform;-o-transition-property:transform;transition-property:transform;transition-property:transform,-webkit-transform;-webkit-transform-origin:center center;-ms-transform-origin:center center;transform-origin:center center;",c=d+a,u=function(t,n,o,e,i,r){return d+"height:"+t+"px;width:"+n+"px;left:"+o+"px;top:"+e+"px;-webkit-transform:"+i+";transform:"+i+";-webkit-transition-duration:"+r+";transition-duration:"+r+";"},l=function(t,n){var o=(t||"").trim(),e=";"===o.slice(-1)?"":";";return[o,n].join(e)},s=function(n,o,e,i,r){if(!e)return u(0,0,0,0,"none","0ms");var a=e.getBoundingClientRect(),d=a.height,c=a.left,l=a.top,s=a.width;console.log(e,{height:d,left:c,top:l,width:s});var f=e.style.transform;if(r!==t.LOADED)return u(d,s,c,l,"scale(1) translate(0,0)"+(f?" "+f:""),n);var m=i?b(d,s,o,e.naturalHeight,e.naturalWidth):p(d,s,o),v=window.innerWidth/2,w=window.innerHeight/2;return u(d,s,c,l,"scale("+m+") translate("+(v-(c+s/2))/m+"px,"+(w-(l+d/2))/m+"px)"+(f?" "+f:""),n)},f=function(t){return"Enter"===t.key||13===t.keyCode||"Space"===t.key||32===t.keyCode},m=function(t){return"Escape"===t.key||27===t.keyCode},v=function(t){return void 0===t&&(t=""),t.concat(Math.random().toString(16).slice(-4))},p=function(t,n,o){var e=window.innerWidth/(n+o),i=window.innerHeight/(t+o);return Math.min(e,i)},b=function(t,n,o,e,i){var r=p(e,i,o),a=i>e?i/n:e/t;return r>1?a:r*a},w=function(t,n){return n.appendChild(t)},g=function(t,n){return n.removeChild(t)},y=function(){return document.createElement("div")},E=function(t,n){var o=y();return z("id",t,o),z("data-rmiz-desc","",o),z(e,"display:none;",o),O(n,o),o},D=function(t){t.focus({preventScroll:!0})},h=function(t,n,o){o.addEventListener(t,n)},k=function(t,n,o){o.removeEventListener(t,n)},L=function(t,n){return n.getAttribute(t)},x=function(t,n){return n.removeAttribute(t)},z=function(t,n,o){return o.setAttribute(t,n)},O=function(t,n){return n.textContent=t};return function(u,A){var C,N,T,M,U,B,I=void 0===u?{}:u,H=I.closeText,S=void 0===H?"Press to unzoom image":H,Z=I.isControlled,F=void 0!==Z&&Z,P=I.modalText,R=void 0===P?"Zoomed item":P,W=I.onZoomChange,G=I.openText,j=void 0===G?"Press to zoom image":G,q=I.overlayBgColorEnd,X=void 0===q?"rgba(255,255,255,0.95)":q,Y=I.overlayBgColorStart,J=void 0===Y?"rgba(255,255,255,0)":Y,K=I.portalEl,Q=I.scrollableEl,V=I.transitionDuration,$=void 0===V?"300ms":V,_=I.zoomMargin,tt=void 0===_?0:_,nt=I.zoomZindex,ot=void 0===nt?2147483647:nt,et=v("rmiz-close-"),it=v("rmiz-open-"),rt=L("aria-describedby",A),at=L(o,A),dt=L(e,A),ct=L("tabindex",A),ut="IMG"===A.tagName,lt=document.body,st=K||lt,ft=Q||window,mt=t.UNLOADED,vt=function(){(B=window.matchMedia("(prefers-reduced-motion:reduce)")).addListener(Dt)},pt=function(){T=E(it,j),C=E(et,S),w(T,lt),w(C,lt)},bt=function(){if(A&&mt===t.UNLOADED){console.log(A,A.getBoundingClientRect(),"IN HERE NOW...");var r=A.getBoundingClientRect(),a=r.height,d=r.width;(ut?b(a,d,tt,A.naturalHeight,A.naturalWidth):p(a,d,tt))>1?(z("aria-describedby",it,A),z(o,"button",A),z("tabindex",ct||"0",A),z(e,l(dt,i),A),h(n,ht,A),h("keydown",Lt,A)):gt()}},wt=function(){var t=document.getElementById(it),n=document.getElementById(et);t&&g(t,lt),n&&g(n,lt)},gt=function(){A&&(k("keydown",Lt,A),k(n,ht,A),ct?z("tabindex",ct,A):x("tabindex",A),dt?z(e,dt,A):x(e,A),at?z(o,at,A):x(o,A),rt?z("aria-describedby",rt,A):x("aria-describedby",A))},yt=function(){var t=ut?U:M;t&&(k("transitionend",Ct,t),k("transitionend",Ot,t),k(n,kt,t),k("keydown",xt,t),k("load",At,t),N&&N.firstChild===t&&g(t,N)),U=void 0,M=void 0,k("scroll",Tt,ft),k("keydown",Mt,document)},Et=function(){N&&(k(n,Nt,N),g(N,st),N=void 0)},Dt=function(){$="0ms"},ht=function(t){t.preventDefault(),W&&W(!0),F||It()},kt=function(t){t.preventDefault(),W&&W(!1),F||Ft()},Lt=function(t){f(t)&&(t.preventDefault(),W&&W(!0),F||It())},xt=function(t){f(t)&&(t.preventDefault(),W&&W(!1),F||Ft())},zt=function(){mt===t.LOADED?window.requestAnimationFrame((function(){return Bt(!0)})):bt()},Ot=function(){var t=U||M;t&&D(t)},At=function(){A&&z(e,l(dt,a),A),N&&(N.style.backgroundColor=X),U&&(k("load",At,U),h("transitionend",Ot,U),z(e,d,U)),M&&(h("transitionend",Ot,M),z(e,d,M)),Ut(t.LOADED)},Ct=function(){A&&(z(e,l(dt,i),A),window.setTimeout((function(){yt(),Et(),D(A),Ut(t.UNLOADED)}),0))},Nt=function(){W&&W(!1),F||Ft()},Tt=function(){window.requestAnimationFrame((function(){return W?W(!1):F?void 0:Ft()}))},Mt=function(t){m(t)&&(t.stopPropagation(),W&&W(!1),F||Ft())},Ut=function(t){mt=t,Bt()},Bt=function(t){if(void 0===t&&(t=!1),A){var n=ut?U:M;n&&z(e,s(t?"0ms":$,tt,A,ut,mt),n)}},It=function(){ut?Ht():St()},Ht=function(){if(A&&mt===t.UNLOADED){var i=A.alt,r=L("aria-label",A),a=L("aria-labelledby",A),d=A.sizes,u=A.src,l=A.srcset;U=new Image,h("load",At,U),h(n,kt,U),h("keydown",xt,U),z("aria-describedby",et,U),z("data-rmiz-zoomed","",U),z(o,"button",U),z(e,c,U),z("tabindex","0",U),i&&(U.alt=i),u&&(U.src=u),l&&(U.srcset=l),d&&(U.sizes=d),r&&z("aria-label",r,U),a&&z("aria-labelledby",a,U),N=Zt(),w(U,N),w(N,st),h("keydown",Mt,document),h("scroll",Tt,ft)}},St=function(){if(A&&mt===t.UNLOADED){M=y(),h(n,kt,M),h("keydown",xt,M),z("aria-describedby",et,M),z("data-rmiz-zoomed","",M),z("id","abc",M),z(o,"button",M),z(e,c,M),z("tabindex","0",M);var i=A.cloneNode(!0);x("id",i),x("tabindex",i),at?z(o,at,i):x(o,i),rt?z("aria-describedby",rt,i):x("aria-describedby",i),h(n,kt,M),w(i,M),N=Zt(),w(M,N),w(N,st),h("keydown",Mt,document),h("scroll",Tt,ft),At()}},Zt=function(){var t=y();return z("aria-label",R,t),z("aria-modal","true",t),z("data-rmiz-overlay","",t),z(o,"dialog",t),z(e,r(J,$,String(ot)),t),h(n,Nt,t),t},Ft=function(){if(mt===t.LOADED){var n=ut?U:M;n&&(n.blur(),h("transitionend",Ct,n)),N&&(N.style.backgroundColor=J)}mt!==t.UNLOADED&&Ut(t.UNLOADING)};return h("resize",zt,window),vt(),pt(),ut&&!A.complete?(console.log(A,A.getBoundingClientRect(),"NOT COMPLETE"),A.addEventListener("load",(function(){window.setTimeout((function(){bt()}),500)}))):(console.log(A,"IM FINE"),bt()),{cleanup:function(){yt(),gt(),Et(),wt(),ut&&A&&k("load",bt,A),B&&(B.removeListener(Dt),B=void 0),k("resize",zt,window)},update:function(n){void 0===n&&(n={}),n.modalText&&(R=n.modalText),n.overlayBgColorEnd&&(X=n.overlayBgColorEnd),n.overlayBgColorStart&&(J=n.overlayBgColorStart),n.transitionDuration&&($=n.transitionDuration),n.zoomMargin&&(tt=n.zoomMargin),n.zoomZindex&&(ot=n.zoomZindex),n.closeText&&(S=n.closeText,C&&O(S,C)),n.openText&&(j=n.openText,T&&O(j,T)),mt===t.UNLOADED&&(n.portalEl&&(st=n.portalEl),n.scrollableEl&&(ft=n.scrollableEl)),Bt(),mt===t.UNLOADED&&n.isZoomed?It():mt===t.LOADED&&!1===n.isZoomed&&Ft()}}}}();
