var ImageZoom=function(){"use strict";!function(){if("undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof HTMLElement){var t=!1;try{var n=document.createElement("div");n.addEventListener("focus",(function(t){t.preventDefault(),t.stopPropagation()}),!0),n.focus(Object.defineProperty({},"preventScroll",{get:function(){t=!0}}))}catch(t){}if(void 0===HTMLElement.prototype.nativeFocus&&!t){HTMLElement.prototype.nativeFocus=HTMLElement.prototype.focus;var o=function(t){for(var n=0;n<t.length;n++)t[n][0].scrollTop=t[n][1],t[n][0].scrollLeft=t[n][2];t=[]};HTMLElement.prototype.focus=function(t){if(t&&t.preventScroll){var n=function(t){for(var n=t.parentNode,o=[],e=document.scrollingElement||document.documentElement;n&&n!==e;)(n.offsetHeight<n.scrollHeight||n.offsetWidth<n.scrollWidth)&&o.push([n,n.scrollTop,n.scrollLeft]),n=n.parentNode;return n=e,o.push([n,n.scrollTop,n.scrollLeft]),o}(this);this.nativeFocus(),"function"==typeof setTimeout?setTimeout((function(){o(n)}),0):o(n)}else this.nativeFocus()}}}}();var t,n=function(t,n,o,e){void 0===e&&(e=!1),o.addEventListener(t,n,e)},o=function(t,n){return n.appendChild(t)},e=function(t){null==t||t.blur()},i=function(t,n){return void 0===t&&(t=!0),n.cloneNode(t)},r=function(t){return document.createElement(t)},a=function(t,n){for(var o,e=(null===(o=n.parentNode)||void 0===o?void 0:o.children)||[],i=0;i<e.length;i++){var r=e[i];r&&r!==n&&t(r)}},c=function(t){return t?t.getBoundingClientRect():{bottom:0,height:0,left:0,right:0,top:0,width:0,x:0,y:0}},u=function(){return window.innerHeight},d=function(){return window.innerWidth},l=function(t,n,o){var e=d()/(t+o),i=u()/(n+o);return Math.min(e,i)},f=function(t,n,o,e,i){var r=l(n,e,i),a=n>e?n/t:e/o;return r>1?a:r*a},s=function(t){return t.style},v=function(t,n){n.removeAttribute(t)},m=function(t,n){n.contains(t)&&n.removeChild(t)},p=function(t,n,o,e){void 0===e&&(e=!1),o.removeEventListener(t,n,e)},h=function(t,n,o){return o.setAttribute(t,n)},g=function(t,n,o){s(o)[t]=n};!function(t){t.LOADED="LOADED",t.UNLOADED="UNLOADED",t.UNLOADING="UNLOADING"}(t||(t={}));var b=t.LOADED,y=t.UNLOADED,x=t.UNLOADING,w=function(t,n){void 0===t&&(t={preventScroll:!1}),null==n||n.focus(t)}.bind(null,{preventScroll:!0}),E="none",L="top:0;right:0;bottom:0;left:0;",T="display:block;",k="height:100%;",D="max-height:100%;",z="max-width:100%;",C="position:absolute;",N="ease",A="width:100%;",M=C+"touch-action:manipulation;-webkit-appearance:none;-moz-appearance:none;appearance:none;background:none;border:none;margin:0;padding:0;",O=M+"cursor:pointer;cursor:-webkit-zoom-in;cursor:zoom-in;",S=M+L+k+A+"cursor:pointer;cursor:-webkit-zoom-out;cursor:zoom-out;z-index:1;",H=C+"visibility:hidden;",Z=/\.svg$/i,B=function(t){return"Escape"===t.key||27===t.keyCode},I=function(t){var n=t.tagName;return"SCRIPT"===n||"NOSCRIPT"===n||"STYLE"===n};return function(t,M){var U,W,P,F,G,R,j,Y,$,q=void 0===t?{}:t,J=q.closeText,K=void 0===J?"Unzoom image":J,Q=q.isControlled,V=void 0!==Q&&Q,X=q.modalText,_=void 0===X?"Zoomed item":X,tt=q.onZoomChange,nt=q.openText,ot=void 0===nt?"Zoom image":nt,et=q.overlayBgColorEnd,it=void 0===et?"rgba(255,255,255,0.95)":et,rt=q.overlayBgColorStart,at=void 0===rt?"rgba(255,255,255,0)":rt,ct=q.transitionDuration,ut=void 0===ct?300:ct,dt=q.zoomMargin,lt=void 0===dt?0:dt,ft=q.zoomZindex,st=void 0===ft?2147483647:ft,vt="IMG"===M.tagName,mt=!(vt&&Z.test(M.currentSrc))&&vt,pt=document.body,ht=window,gt=[],bt=y,yt=ut,xt=function(){null==j||j.disconnect(),j=void 0},wt=function(){(R=window.matchMedia("(prefers-reduced-motion:reduce)")).addListener(Et)},Et=function(){yt=0},Lt=function(){if(M&&bt===y){var t=c(M),o=t.height,e=t.width,i=M,a=i.naturalHeight,u=i.naturalWidth;(mt&&a&&u?f(e,u,o,a,lt):l(e,o,lt))>1?(Y=r("button"),h("aria-label",ot,Y),h("style",O,Y),h("type","button",Y),Tt(),n("click",Ct,Y),M.insertAdjacentElement("afterend",Y),(j=new MutationObserver((function(t){M&&t.length>0&&Tt()}))).observe(M,{attributes:!0,characterData:!0,childList:!0,subtree:!0})):(zt(),xt(),kt(),Dt())}},Tt=function(){if(Y){var t,n=c(M),o=n.height,e=n.width,i=(t=M,window.getComputedStyle(t)).display;g("width",e+"px",Y),g("height",o+"px",Y),"block"===i||"flex"===i||"grid"===i||"table"===i?g("marginTop","-"+o+"px",Y):g("marginLeft","-"+e+"px",Y)}},kt=function(){mt&&M&&p("load",Lt,M)},Dt=function(){Y&&(p("click",Ct,Y),m(Y,Y.parentNode)),Y=void 0},zt=function(){p("scroll",Bt,ht),p("keydown",It,document),U&&(p("load",St,U),p("transitionend",Ht,U),p("transitionend",Ot,U)),W&&p("click",Nt,W),P&&p("focus",At,P),F&&p("focus",At,F),G&&(p("click",Zt,G),m(G,pt)),U=void 0,W=void 0,P=void 0,F=void 0,$=void 0,G=void 0},Ct=function(t){t.preventDefault(),tt&&tt(!0),V||Wt()},Nt=function(t){t.preventDefault(),tt&&tt(!1),V||jt()},At=function(){w(W)},Mt=function(){bt===b?Ut(!0):(zt(),xt(),kt(),Dt(),Lt())},Ot=function(){w(W)},St=function(){U&&(G=Gt())&&(o(G,pt),n("keydown",It,document),n("scroll",Bt,ht),M&&g("visibility","hidden",M),U&&n("transitionend",Ot,U),bt=b,Ut(!1),Rt(),$&&(h("style",C+L+"transition:background-color "+yt+"ms "+N+";background-color:"+at+";will-change:background-color;",$),g("backgroundColor",it,$)))},Ht=function(){M&&g("visibility","",M),bt=y,Ut(!0),zt(),w(Y)},Zt=function(){tt&&tt(!1),V||jt()},Bt=function(){bt===b?(tt&&tt(!1),V||jt()):bt===x&&Ut(!1)},It=function(t){B(t)&&(t.stopPropagation(),tt&&tt(!1),V||jt())},Ut=function(t){if(M&&U){var n,o,e=t?0:yt,i=M.getBoundingClientRect(),r=i.height,a=i.left,c=i.top,v=i.width,m=(n="transform",s(M)[n]);if(bt!==b)o="scale(1) translate(0,0)"+(m?" "+m:"");else{var p=l(v,r,lt);if(mt){var g=M,y=g.naturalHeight,x=g.naturalWidth;y&&x&&(p=f(v,x,r,y,lt))}o="scale("+p+") translate("+(d()/2-(a+v/2))/p+"px,"+(u()/2-(c+r/2))/p+"px)"+(m?" "+m:"")}h("style",C+T+z+D+"width:"+v+"px;height:"+r+"px;left:"+a+"px;top:"+c+"px;transition:transform "+e+"ms "+N+";-webkit-transform:"+o+";-ms-transform:"+o+";transform:"+o+";",U)}},Wt=function(){vt?Pt():Ft(),e(Y)},Pt=function(){M&&bt===y&&(U=i(!0,M),v("id",U),h("data-rmiz-zoomed","",U),n("load",St,U))},Ft=function(){if(M&&bt===y){U=r("div"),h("data-rmiz-zoomed","",U),h("style",H,U);var t=i(!0,M);v("id",t),g("maxWidth",E,t),g("maxHeight",E,t),o(t,U),St()}},Gt=function(){if(U){var t=r("div");return h("aria-label",_,t),h("aria-modal","true",t),h("data-rmiz-overlay","",t),h("role","dialog",t),h("style","position:fixed;"+L+A+k+"z-index:"+st+";",t),n("click",Zt,t),$=r("div"),P=r("div"),h("tabindex","0",P),n("focus",At,P),F=r("div"),h("tabindex","0",F),n("focus",At,F),W=r("button"),h("aria-label",K,W),h("style",S,W),h("type","button",t),n("click",Nt,W),o($,t),o(P,t),o(W,t),o(U,t),o(F,t),t}},Rt=function(){G&&a((function(t){if(!I(t)){var n=function(t,n){return n.getAttribute(t)}("aria-hidden",t);n&&gt.push([t,n]),t.setAttribute("aria-hidden","true")}}),G)},jt=function(){bt===b?(e(W),G&&a((function(t){I(t)||v("aria-hidden",t)}),G),gt.forEach((function(t){var n=t[0],o=t[1];n&&h("aria-hidden",o,n)})),gt=[],U&&n("transitionend",Ht,U),bt=x,Ut(!1),$&&g("backgroundColor",at,$)):Ut(!1)};return n("resize",Mt,window),wt(),vt&&!M.complete?n("load",Lt,M):Lt(),{cleanup:function(){zt(),xt(),kt(),Dt(),null==R||R.removeListener(Et),R=void 0,p("resize",Mt,window)},update:function(t){void 0===t&&(t={}),t.closeText&&(K=t.closeText),t.modalText&&(_=t.modalText),t.openText&&(ot=t.openText),t.overlayBgColorEnd&&(it=t.overlayBgColorEnd),t.overlayBgColorStart&&(at=t.overlayBgColorStart),t.transitionDuration&&(yt=t.transitionDuration),t.zoomMargin&&(lt=t.zoomMargin),t.zoomZindex&&(st=t.zoomZindex),Ut(!1),bt===y&&t.isZoomed?Wt():bt===b&&!1===t.isZoomed&&jt()}}}}();
