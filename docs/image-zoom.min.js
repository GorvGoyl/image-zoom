var ImageZoom=function(){"use strict";!function(){if("undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof HTMLElement){var t=!1;try{var o=document.createElement("div");o.addEventListener("focus",(function(t){t.preventDefault(),t.stopPropagation()}),!0),o.focus(Object.defineProperty({},"preventScroll",{get:function(){t=!0}}))}catch(t){}if(void 0===HTMLElement.prototype.nativeFocus&&!t){HTMLElement.prototype.nativeFocus=HTMLElement.prototype.focus;var n=function(t){for(var o=0;o<t.length;o++)t[o][0].scrollTop=t[o][1],t[o][0].scrollLeft=t[o][2];t=[]};HTMLElement.prototype.focus=function(t){if(t&&t.preventScroll){var o=function(t){for(var o=t.parentNode,n=[],e=document.scrollingElement||document.documentElement;o&&o!==e;)(o.offsetHeight<o.scrollHeight||o.offsetWidth<o.scrollWidth)&&n.push([o,o.scrollTop,o.scrollLeft]),o=o.parentNode;return o=e,n.push([o,o.scrollTop,o.scrollLeft]),n}(this);this.nativeFocus(),"function"==typeof setTimeout?setTimeout((function(){n(o)}),0):n(o)}else this.nativeFocus()}}}}();var t,o=function(t,o,n,e){void 0===e&&(e=!1),n.addEventListener(t,o,e)},n=function(t,o){return o.appendChild(t)},e=function(t){null==t||t.blur()},i=function(t,o){return void 0===t&&(t=!0),o.cloneNode(t)},r=function(t){return document.createElement(t)},a=function(t,o){for(var n,e=(null===(n=o.parentNode)||void 0===n?void 0:n.children)||[],i=0;i<e.length;i++){var r=e[i];r&&r!==o&&t(r)}},c=function(t){return t?t.getBoundingClientRect():{bottom:0,height:0,left:0,right:0,top:0,width:0,x:0,y:0}},u=function(){return window.innerHeight},d=function(){return window.innerWidth},l=function(t,o,n){var e=d()/(t+n),i=u()/(o+n);return Math.min(e,i)},f=function(t,o,n,e,i){var r=l(o,e,i),a=o>e?o/t:e/n;return r>1?a:r*a},s=function(t){return t.style},v=function(t,o){o.removeAttribute(t)},m=function(t,o){o.contains(t)&&o.removeChild(t)},p=function(t,o,n,e){void 0===e&&(e=!1),n.removeEventListener(t,o,e)},h=function(t,o,n){return n.setAttribute(t,o)},g=function(t,o,n){s(n)[t]=o};!function(t){t.LOADED="LOADED",t.UNLOADED="UNLOADED",t.UNLOADING="UNLOADING"}(t||(t={}));var b=t.LOADED,y=t.UNLOADED,x=t.UNLOADING,w=function(t,o){void 0===t&&(t={preventScroll:!1}),null==o||o.focus(t)}.bind(null,{preventScroll:!0}),E="none",L="top:0;right:0;bottom:0;left:0;",T="display:block;",k="height:100%;",D="max-height:100%;",z="max-width:100%;",C="position:absolute;",N="ease",A="width:100%;",H=C+"touch-action:manipulation;-webkit-appearance:none;-moz-appearance:none;appearance:none;background:none;border:none;margin:0;padding:0;",M=H+"cursor:pointer;cursor:-webkit-zoom-in;cursor:zoom-in;",O=H+L+k+A+"cursor:pointer;cursor:-webkit-zoom-out;cursor:zoom-out;z-index:1;",S=C+"visibility:hidden;",Z=/\.svg$/i,B=function(t){return"Escape"===t.key||27===t.keyCode},W=function(t){var o=t.tagName;return"SCRIPT"===o||"NOSCRIPT"===o||"STYLE"===o};return function(t,H){var I,U,P,F,G,R,j,Y,$,q=void 0===t?{}:t,J=q.closeText,K=void 0===J?"Unzoom image":J,Q=q.isControlled,V=void 0!==Q&&Q,X=q.modalText,_=void 0===X?"Zoomed item":X,tt=q.onZoomChange,ot=q.openText,nt=void 0===ot?"Zoom image":ot,et=q.overlayBgColorEnd,it=void 0===et?"rgba(255,255,255,0.95)":et,rt=q.overlayBgColorStart,at=void 0===rt?"rgba(255,255,255,0)":rt,ct=q.transitionDuration,ut=void 0===ct?300:ct,dt=q.zoomMargin,lt=void 0===dt?0:dt,ft=q.zoomZindex,st=void 0===ft?2147483647:ft,vt="IMG"===H.tagName,mt=!(vt&&Z.test(H.currentSrc))&&vt,pt=document.body,ht=window,gt=[],bt=y,yt=ut,xt=H.offsetWidth,wt=H.offsetHeight,Et=function(){null==j||j.disconnect(),j=void 0},Lt=function(){(R=window.matchMedia("(prefers-reduced-motion:reduce)")).addListener(Tt)},Tt=function(){yt=0},kt=function(){if(H&&bt===y){var t=c(H),n=t.height,e=t.width,i=H,a=i.naturalHeight,u=i.naturalWidth;(mt&&a&&u?f(e,u,n,a,lt):l(e,n,lt))>1?(Y=r("button"),h("aria-label",nt,Y),h("style",M,Y),h("type","button",Y),Dt(),o("click",At,Y),H.insertAdjacentElement("afterend",Y),(j=new MutationObserver((function(){if(H){var t=H.offsetWidth,o=H.offsetHeight;xt===t&&wt===o||(Dt(),xt=t,wt=o)}}))).observe(pt,{attributes:!0,characterData:!0,childList:!0,subtree:!0})):(Nt(),Et(),zt(),Ct())}},Dt=function(){if(Y){var t,o=c(H),n=o.height,e=o.width,i=(t=H,window.getComputedStyle(t)).display;g("width",e+"px",Y),g("height",n+"px",Y),"block"===i||"flex"===i||"grid"===i||"table"===i?g("marginTop","-"+n+"px",Y):g("marginLeft","-"+e+"px",Y)}},zt=function(){mt&&H&&p("load",kt,H)},Ct=function(){Y&&(p("click",At,Y),m(Y,Y.parentNode)),Y=void 0},Nt=function(){p("scroll",It,ht),p("keydown",Ut,document),I&&(p("load",Zt,I),p("transitionend",Bt,I),p("transitionend",St,I)),U&&p("click",Ht,U),P&&p("focus",Mt,P),F&&p("focus",Mt,F),G&&(p("click",Wt,G),m(G,pt)),I=void 0,U=void 0,P=void 0,F=void 0,$=void 0,G=void 0},At=function(t){t.preventDefault(),tt&&tt(!0),V||Ft()},Ht=function(t){t.preventDefault(),tt&&tt(!1),V||$t()},Mt=function(){w(U)},Ot=function(){bt===b?Pt(!0):(Nt(),Et(),zt(),Ct(),kt())},St=function(){w(U)},Zt=function(){I&&(G=jt())&&(n(G,pt),o("keydown",Ut,document),o("scroll",It,ht),H&&g("visibility","hidden",H),I&&o("transitionend",St,I),bt=b,Pt(!1),Yt(),$&&(h("style",C+L+"transition:background-color "+yt+"ms "+N+";background-color:"+at+";will-change:background-color;",$),g("backgroundColor",it,$)))},Bt=function(){H&&g("visibility","",H),bt=y,Pt(!0),Nt(),w(Y)},Wt=function(){tt&&tt(!1),V||$t()},It=function(){bt===b?(tt&&tt(!1),V||$t()):bt===x&&Pt(!1)},Ut=function(t){B(t)&&(t.stopPropagation(),tt&&tt(!1),V||$t())},Pt=function(t){if(H&&I){var o,n,e=t?0:yt,i=H.getBoundingClientRect(),r=i.height,a=i.left,c=i.top,v=i.width,m=(o="transform",s(H)[o]);if(bt!==b)n="scale(1) translate(0,0)"+(m?" "+m:"");else{var p=l(v,r,lt);if(mt){var g=H,y=g.naturalHeight,x=g.naturalWidth;y&&x&&(p=f(v,x,r,y,lt))}n="scale("+p+") translate("+(d()/2-(a+v/2))/p+"px,"+(u()/2-(c+r/2))/p+"px)"+(m?" "+m:"")}h("style",C+T+z+D+"width:"+v+"px;height:"+r+"px;left:"+a+"px;top:"+c+"px;transition:transform "+e+"ms "+N+";-webkit-transform:"+n+";-ms-transform:"+n+";transform:"+n+";",I)}},Ft=function(){vt?Gt():Rt(),e(Y)},Gt=function(){H&&bt===y&&(I=i(!0,H),v("id",I),h("data-rmiz-zoomed","",I),o("load",Zt,I))},Rt=function(){if(H&&bt===y){I=r("div"),h("data-rmiz-zoomed","",I),h("style",S,I);var t=i(!0,H);v("id",t),g("maxWidth",E,t),g("maxHeight",E,t),n(t,I),Zt()}},jt=function(){if(I){var t=r("div");return h("aria-label",_,t),h("aria-modal","true",t),h("data-rmiz-overlay","",t),h("role","dialog",t),h("style","position:fixed;"+L+A+k+"z-index:"+st+";",t),o("click",Wt,t),$=r("div"),P=r("div"),h("tabindex","0",P),o("focus",Mt,P),F=r("div"),h("tabindex","0",F),o("focus",Mt,F),U=r("button"),h("aria-label",K,U),h("style",O,U),h("type","button",t),o("click",Ht,U),n($,t),n(P,t),n(U,t),n(I,t),n(F,t),t}},Yt=function(){G&&a((function(t){if(!W(t)){var o=function(t,o){return o.getAttribute(t)}("aria-hidden",t);o&&gt.push([t,o]),t.setAttribute("aria-hidden","true")}}),G)},$t=function(){bt===b?(e(U),G&&a((function(t){W(t)||v("aria-hidden",t)}),G),gt.forEach((function(t){var o=t[0],n=t[1];o&&h("aria-hidden",n,o)})),gt=[],I&&o("transitionend",Bt,I),bt=x,Pt(!1),$&&g("backgroundColor",at,$)):Pt(!1)};return o("resize",Ot,window),Lt(),vt&&!H.complete?o("load",kt,H):kt(),{cleanup:function(){Nt(),Et(),zt(),Ct(),null==R||R.removeListener(Tt),R=void 0,p("resize",Ot,window)},update:function(t){void 0===t&&(t={}),t.closeText&&(K=t.closeText),t.modalText&&(_=t.modalText),t.openText&&(nt=t.openText),t.overlayBgColorEnd&&(it=t.overlayBgColorEnd),t.overlayBgColorStart&&(at=t.overlayBgColorStart),t.transitionDuration&&(yt=t.transitionDuration),t.zoomMargin&&(lt=t.zoomMargin),t.zoomZindex&&(st=t.zoomZindex),Pt(!1),bt===y&&t.isZoomed?Ft():bt===b&&!1===t.isZoomed&&$t()}}}}();
