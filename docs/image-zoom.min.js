var ImageZoom=function(){"use strict";!function(){if("undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof HTMLElement){var t=!1;try{var n=document.createElement("div");n.addEventListener("focus",(function(t){t.preventDefault(),t.stopPropagation()}),!0),n.focus(Object.defineProperty({},"preventScroll",{get:function(){t=!0}}))}catch(t){}if(void 0===HTMLElement.prototype.nativeFocus&&!t){HTMLElement.prototype.nativeFocus=HTMLElement.prototype.focus;var o=function(t){for(var n=0;n<t.length;n++)t[n][0].scrollTop=t[n][1],t[n][0].scrollLeft=t[n][2];t=[]};HTMLElement.prototype.focus=function(t){if(t&&t.preventScroll){var n=function(t){for(var n=t.parentNode,o=[],i=document.scrollingElement||document.documentElement;n&&n!==i;)(n.offsetHeight<n.scrollHeight||n.offsetWidth<n.scrollWidth)&&o.push([n,n.scrollTop,n.scrollLeft]),n=n.parentNode;return n=i,o.push([n,n.scrollTop,n.scrollLeft]),o}(this);this.nativeFocus(),"function"==typeof setTimeout?setTimeout((function(){o(n)}),0):o(n)}else this.nativeFocus()}}}}();var t,n=function(t,n,o,i){void 0===i&&(i=!1),o.addEventListener(t,n,i)},o=function(t,n){return n.appendChild(t)},i=function(t){null==t||t.blur()},e=function(t,n){return void 0===t&&(t=!0),n.cloneNode(t)},r=function(t){return document.createElement(t)},a=function(t,n){for(var o,i=(null===(o=n.parentNode)||void 0===o?void 0:o.children)||[],e=0;e<i.length;e++){var r=i[e];r&&r!==n&&t(r)}},u=function(t){return t.parentNode},c=function(t){return t.style},d=function(t,n){return c(n)[t]},l=function(){return window.innerHeight},f=function(){return window.innerWidth},s=function(t,n){n.removeAttribute(t)},v=function(t,n){n.contains(t)&&n.removeChild(t)},m=function(t,n,o,i){void 0===i&&(i=!1),o.removeEventListener(t,n,i)},p=function(t,n,o){return o.setAttribute(t,n)},g=function(t,n,o){c(o)[t]=n};!function(t){t.LOADED="LOADED",t.UNLOADED="UNLOADED",t.UNLOADING="UNLOADING"}(t||(t={}));var h=function(t,n){void 0===t&&(t={preventScroll:!1}),null==n||n.focus(t)}.bind(null,{preventScroll:!0}),b="div",D="none",y="style",E="position:absolute;",L=E+"top:0;right:0;bottom:0;left:0;height:100%;width:100%;background:none;border:none;margin:0;padding:0;"+"touch-action:manipulation;-webkit-appearance:none;-moz-appearance:none;appearance:none;",x=L+"cursor:pointer;cursor:-webkit-zoom-in;cursor:zoom-in;",w=L+"cursor:pointer;cursor:-webkit-zoom-out;cursor:zoom-out;z-index:1;",A=E+"visibility:hidden;",k="display:block;max-width:100%;max-height:100%;",N=function(t,n){return E+"top:0;right:0;bottom:0;left:0;transition:background "+(n?n/3:n)+"ms cubic-bezier(.42,0,.58,1);;background:"+t+";"},T=function(t){return"position:fixed;top:0;right:0;bottom:0;left:0;width:100%;height:100%;z-index:"+t+";"},z=function(t,n,o,i,e,r){return E+"height:"+t+"px;width:"+n+"px;left:"+o+"px;top:"+i+"px;transition:transform "+r+"ms cubic-bezier(.42,0,.58,1);;-webkit-transform:"+e+";-ms-transform:"+e+";transform:"+e+";"},O=function(n,o,i,e,r,a){if(!i)return z(0,0,0,0,D,0);var u=i.getBoundingClientRect(),c=u.height,s=u.left,v=u.top,m=u.width,p=d("transform",e);if(a!==t.LOADED)return z(c,m,s,v,"scale(1) translate(0,0)"+(p?" "+p:""),n);var g=e,h=g.naturalHeight,b=g.naturalWidth,y=r&&h&&b?U(c,m,o,h,b):S(c,m,o),E=f()/2,L=l()/2;return z(c,m,s,v,"scale("+y+") translate("+(E-(s+m/2))/y+"px,"+(L-(v+c/2))/y+"px)"+(p?" "+p:""),n)},C=function(t){return"Escape"===t.key||27===t.keyCode},S=function(t,n,o){var i=f()/(n+o),e=l()/(t+o);return Math.min(i,e)},U=function(t,n,o,i,e){var r=S(i,e,o),a=e>i?e/n:i/t;return r>1?a:r*a},M=/\.svg$/i,H=function(t){var n=t.tagName;return"SCRIPT"===n||"NOSCRIPT"===n||"STYLE"===n};return function(c,l){var f,L,z,B,Z,I,W,P,F,G,R,j,Y=void 0===c?{}:c,$=Y.closeText,q=void 0===$?"Unzoom image":$,J=Y.isControlled,K=void 0!==J&&J,Q=Y.modalText,V=void 0===Q?"Zoomed item":Q,X=Y.onZoomChange,_=Y.openText,tt=void 0===_?"Zoom image":_,nt=Y.overlayBgColorEnd,ot=void 0===nt?"rgba(255,255,255,0.95)":nt,it=Y.overlayBgColorStart,et=void 0===it?"rgba(255,255,255,0)":it,rt=Y.transitionDuration,at=void 0===rt?300:rt,ut=Y.zoomMargin,ct=void 0===ut?0:ut,dt=Y.zoomZindex,lt=void 0===dt?2147483647:dt,ft="IMG"===l.tagName,st=!(ft&&M.test(l.currentSrc))&&ft,vt=window,mt=document,pt=mt.body,gt=vt,ht=[],bt=t.UNLOADED,Dt=at,yt="",Et="",Lt=function(){n("resize",Zt,vt),wt(),ft&&!l.complete?n("load",kt,l):kt()},xt=function(){null==W||W.disconnect(),W=void 0},wt=function(){(I=vt.matchMedia("(prefers-reduced-motion:reduce)")).addListener(At)},At=function(){Dt=0},kt=function(){if(l&&bt===t.UNLOADED){var n,i=l.getBoundingClientRect(),e=i.height,r=i.width,a=l,c=a.naturalHeight,f=a.naturalWidth;if((st&&c&&f?U(e,r,ct,c,f):S(e,r,ct))>1){if(!G){var s=(n=l,window.getComputedStyle(n));Et=s.display,yt=d("display",l),G=Nt(),R=Tt(),P=zt(),g("margin-top",s["margin-top"],R),g("margin-right",s["margin-right"],R),g("margin-bottom",s["margin-bottom"],R),g("margin-left",s["margin-left"],R),g("margin-top","0",G),g("margin-right","0",G),g("margin-bottom","0",G),g("margin-left","0",G),o(G,R),o(P,R);var v=u(l);v&&(g("display",D,l),v.insertBefore(R,l),(W=new MutationObserver((function(){Ot(),Lt()}))).observe(l,{attributes:!0,characterData:!0,childList:!0,subtree:!0}))}}else Ut(),xt(),Ct(),St()}},Nt=function(){var t=e(!0,l);return s("tabindex",t),g("display","inline-block",t),g("verticalAlign","top",t),t},Tt=function(){var t=r(b);return p("data-rmiz-wrap","",t),g("position","relative",t),"block"===Et?g("display","block",t):(g("display","inline-block",t),g("verticalAlign","top",t)),t},zt=function(){var t=r("button");return p("aria-label",tt,t),p(y,x,t),p("type","button",t),n("click",Mt,t),t},Ot=function(){Ut(),xt(),Ct(),St(),null==I||I.removeListener(At),I=void 0,m("resize",Zt,vt)},Ct=function(){st&&l&&m("load",kt,l)},St=function(){P&&m("click",Mt,P),R&&v(R,u(R)),g("display",yt,l),P=void 0,R=void 0,G=void 0},Ut=function(){m("scroll",Gt,gt),m("keydown",Rt,mt),f&&m("load",Wt,f),j&&(m("transitionend",Pt,j),m("transitionend",It,j)),L&&m("click",Ht,L),z&&m("focus",Bt,z),B&&m("focus",Bt,B),Z&&(m("click",Ft,Z),v(Z,pt)),f=void 0,L=void 0,z=void 0,B=void 0,j=void 0,F=void 0,Z=void 0},Mt=function(t){t.preventDefault(),X&&X(!0),K||$t()},Ht=function(t){t.preventDefault(),X&&X(!1),K||Vt()},Bt=function(){h(L)},Zt=function(){bt===t.LOADED?Yt(!0):kt()},It=function(){h(L)},Wt=function(){G&&g("visibility","hidden",G),F&&p(y,N(ot,Dt),F),j&&(n("transitionend",It,j),p(y,E,j)),jt(t.LOADED),Qt()},Pt=function(){vt.setTimeout((function(){G&&g("visibility","",G),Ut(),jt(t.UNLOADED),h(P)}),0)},Ft=function(){X&&X(!1),K||Vt()},Gt=function(){X&&X(!1),K||Vt()},Rt=function(t){C(t)&&(t.stopPropagation(),X&&X(!1),K||Vt())},jt=function(t){bt=t,Yt()},Yt=function(t){void 0===t&&(t=!1),G&&j&&p(y,O(t?0:Dt,ct,R,G,st,bt),j)},$t=function(){ft?qt():Jt(),i(P)},qt=function(){G&&bt===t.UNLOADED&&(f=e(!0,G),n("load",Wt,f),s("id",f),s("class",f),p(y,k,f),Z=Kt(f),o(Z,pt),n("keydown",Rt,mt),n("scroll",Gt,gt))},Jt=function(){if(G&&bt===t.UNLOADED){var i=e(!0,G);s("id",i),g("maxWidth",D,i),g("maxHeight",D,i),Z=Kt(i),o(Z,pt),n("keydown",Rt,mt),n("scroll",Gt,gt),Wt()}},Kt=function(t){var i=r(b);return p("aria-label",V,i),p("aria-modal","true",i),p("data-rmiz-overlay","",i),p("role","dialog",i),p(y,T(String(lt)),i),n("click",Ft,i),F=r(b),p(y,N(et,Dt),F),z=r(b),p("tabindex","0",z),n("focus",Bt,z),B=r(b),p("tabindex","0",B),n("focus",Bt,B),L=r("button"),p("aria-label",q,L),p(y,w,L),p("type","button",i),n("click",Ht,L),j=r(b),p("data-rmiz-zoomed","",j),p(y,A,j),o(t,j),o(F,i),o(z,i),o(L,i),o(j,i),o(B,i),i},Qt=function(){Z&&a((function(t){if(!H(t)){var n=function(t,n){return n.getAttribute(t)}("aria-hidden",t);n&&ht.push([t,n]),t.setAttribute("aria-hidden","true")}}),Z)},Vt=function(){bt===t.LOADED&&(i(L),Z&&a((function(t){H(t)||s("aria-hidden",t)}),Z),ht.forEach((function(t){var n=t[0],o=t[1];n&&p("aria-hidden",o,n)})),ht=[],j&&n("transitionend",Pt,j),F&&p(y,N(et,Dt),F)),bt!==t.UNLOADED&&jt(t.UNLOADING)};return Lt(),{cleanup:Ot,update:function(n){void 0===n&&(n={}),n.closeText&&(q=n.closeText),n.modalText&&(V=n.modalText),n.openText&&(tt=n.openText),n.overlayBgColorEnd&&(ot=n.overlayBgColorEnd),n.overlayBgColorStart&&(et=n.overlayBgColorStart),n.transitionDuration&&(Dt=n.transitionDuration),n.zoomMargin&&(ct=n.zoomMargin),n.zoomZindex&&(lt=n.zoomZindex),Yt(),bt===t.UNLOADED&&n.isZoomed?$t():bt===t.LOADED&&!1===n.isZoomed&&Vt()}}}}();
