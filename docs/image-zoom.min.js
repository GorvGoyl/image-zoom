var ImageZoom=function(){"use strict";var n;!function(){if("undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof HTMLElement){var n=!1;try{var t=document.createElement("div");t.addEventListener("focus",(function(n){n.preventDefault(),n.stopPropagation()}),!0),t.focus(Object.defineProperty({},"preventScroll",{get:function(){n=!0}}))}catch(n){}if(void 0===HTMLElement.prototype.nativeFocus&&!n){HTMLElement.prototype.nativeFocus=HTMLElement.prototype.focus;var o=function(n){for(var t=0;t<n.length;t++)n[t][0].scrollTop=n[t][1],n[t][0].scrollLeft=n[t][2];n=[]};HTMLElement.prototype.focus=function(n){if(n&&n.preventScroll){var t=function(n){for(var t=n.parentNode,o=[],e=document.scrollingElement||document.documentElement;t&&t!==e;)(t.offsetHeight<t.scrollHeight||t.offsetWidth<t.scrollWidth)&&o.push([t,t.scrollTop,t.scrollLeft]),t=t.parentNode;return t=e,o.push([t,t.scrollTop,t.scrollLeft]),o}(this);this.nativeFocus(),"function"==typeof setTimeout?setTimeout((function(){o(t)}),0):o(t)}else this.nativeFocus()}}}}(),function(n){n.LOADED="LOADED",n.UNLOADED="UNLOADED",n.UNLOADING="UNLOADING"}(n||(n={}));var t="div",o="style",e="position:absolute;",i="display:inline-flex;position:relative;",r=i+"width:100%;",a=e+"top:0;right:0;bottom:0;left:0;height:100%;width:100%;background:none;border:none;margin:0;padding:0;"+"touch-action:manipulation;-webkit-appearance:none;-moz-appearance:none;appearance:none;",u=a+"cursor:-webkit-zoom-in;cursor:zoom-in;",c=a+"cursor:-webkit-zoom-out;cursor:zoom-out;z-index:1;",d=e+"visibility:hidden;",l="display:block;height:100%;max-width:100%;",f=function(n,t){return e+"top:0;right:0;bottom:0;left:0;transition:background "+(t?t/3:t)+"ms cubic-bezier(.42,0,.58,1);;background:"+n+";"},s=function(n){return"position:fixed;top:0;right:0;bottom:0;left:0;width:100%;height:100%;z-index:"+n+";"},v=function(n,t,o,i,r,a){return e+"height:"+n+"px;width:"+t+"px;left:"+o+"px;top:"+i+"px;transition:transform "+a+"ms cubic-bezier(.42,0,.58,1);;-webkit-transform:"+r+";-ms-transform:"+r+";transform:"+r+";"},m=function(t,o,e,i,r,a){if(!e)return v(0,0,0,0,"none",0);var u=e.getBoundingClientRect(),c=u.height,d=u.left,l=u.top,f=u.width,s=C("transform",i);if(a!==n.LOADED)return v(c,f,d,l,"scale(1) translate(0,0)"+(s?" "+s:""),t);var m=i,p=m.naturalHeight,b=m.naturalWidth,D=r&&p&&b?g(c,f,o,p,b):h(c,f,o),w=window.innerWidth/2,y=window.innerHeight/2;return v(c,f,d,l,"scale("+D+") translate("+(w-(d+f/2))/D+"px,"+(y-(l+c/2))/D+"px)"+(s?" "+s:""),t)},p=function(n){return"Escape"===n.key||27===n.keyCode},h=function(n,t,o){var e=window.innerWidth/(t+o),i=window.innerHeight/(n+o);return Math.min(e,i)},g=function(n,t,o,e,i){var r=h(e,i,o),a=i>e?i/t:e/n;return r>1?a:r*a},b=/\.svg$/i,D=function(n,t){return t.appendChild(n)},w=function(n,t){n&&t&&t.removeChild(n)},y=function(n){return document.createElement(n)},E=function(n,t){return t.cloneNode(n)},L=function(n){null==n||n.blur()},x=function(n){n&&n.focus({preventScroll:!0})},N=function(n,t){for(var o,e=(null===(o=t.parentNode)||void 0===o?void 0:o.children)||[],i=0;i<e.length;i++){var r=e[i];if(!r)return;var a=r.tagName;if("SCRIPT"===a||"NOSCRIPT"===a||"STYLE"===a||r===t)return;n(r)}},A=function(n,t,o,e){void 0===e&&(e=!1),o.addEventListener(n,t,e)},T=function(n,t,o,e){void 0===e&&(e=!1),o.removeEventListener(n,t,e)},z=function(n,t){t.removeAttribute(n)},O=function(n,t,o){return o.setAttribute(n,t)},k=function(n){return n.style},C=function(n,t){return k(t)[n]},U=function(n,t,o){k(o)[n]=t},M=function(n){return window.getComputedStyle(n)};return function(a,v){var k,S,H,B,Z,I,W,P,F,G,R,j=void 0===a?{}:a,Y=j.closeText,$=void 0===Y?"Unzoom image":Y,q=j.isControlled,J=void 0!==q&&q,K=j.modalText,Q=void 0===K?"Zoomed item":K,V=j.onZoomChange,X=j.openText,_=void 0===X?"Zoom image":X,nn=j.overlayBgColorEnd,tn=void 0===nn?"rgba(255,255,255,0.95)":nn,on=j.overlayBgColorStart,en=void 0===on?"rgba(255,255,255,0)":on,rn=j.transitionDuration,an=void 0===rn?300:rn,un=j.zoomMargin,cn=void 0===un?0:un,dn=j.zoomZindex,ln=void 0===dn?2147483647:dn,fn="block"===M(v).display,sn="IMG"===v.tagName,vn=!(sn&&b.test(v.currentSrc))&&sn,mn=document.body,pn=window,hn=[],gn=n.UNLOADED,bn=an,Dn="",wn=function(){A("resize",Hn,window),En(),vn&&!v.complete?A("load",xn,v):xn()},yn=function(){null==I||I.disconnect(),I=void 0},En=function(){(Z=window.matchMedia("(prefers-reduced-motion:reduce)")).addListener(Ln)},Ln=function(){bn=0},xn=function(){if(v&&gn===n.UNLOADED){var t=v.getBoundingClientRect(),o=t.height,e=t.width,i=v,r=i.naturalHeight,a=i.naturalWidth;(vn&&r&&a?g(o,e,cn,r,a):h(o,e,cn))>1?F||(F=Nn(),G=An(),W=Tn(),U("margin",M(v).margin,G),U("margin","0",F),D(F,G),D(W,G),v.parentNode&&(Dn=C("display",v),U("display","none",v),v.parentNode.insertBefore(G,v)),(I=new MutationObserver((function(){zn(),wn()}))).observe(v,{attributes:!0,characterData:!0,childList:!0,subtree:!0})):(Cn(),yn(),On(),kn())}},Nn=function(){var n=E(!0,v);return z("tabindex",n),vn&&(U("display","block",n),U("maxWidth","100%",n)),n},An=function(){var n=y(t),e=fn?r:i;return O("data-rmiz-wrap","",n),O(o,e,n),n},Tn=function(){var n=y("button");return O("aria-label",_,n),O(o,u,n),A("click",Un,n),n},zn=function(){Cn(),yn(),On(),kn(),null==Z||Z.removeListener(Ln),Z=void 0,T("resize",Hn,window)},On=function(){vn&&v&&T("load",xn,v)},kn=function(){W&&T("click",Un,W),w(G,null==G?void 0:G.parentNode),U("display",Dn,v),W=void 0,G=void 0,F=void 0},Cn=function(){T("scroll",Pn,pn),T("keydown",Fn,document),R&&(T("transitionend",In,R),T("transitionend",Bn,R)),k&&T("click",Mn,k),S&&T("focus",Sn,S),H&&T("focus",Sn,H),B&&(T("click",Wn,B),w(B,mn)),k=void 0,S=void 0,H=void 0,R=void 0,P=void 0,B=void 0},Un=function(n){n.preventDefault(),V&&V(!0),J||jn()},Mn=function(n){n.preventDefault(),V&&V(!1),J||Kn()},Sn=function(){x(k)},Hn=function(){gn===n.LOADED?Rn(!0):xn()},Bn=function(){x(k)},Zn=function(){F&&U("visibility","hidden",F),P&&O(o,f(tn,bn),P),R&&(A("transitionend",Bn,R),O(o,e,R)),Gn(n.LOADED)},In=function(){window.setTimeout((function(){F&&U("visibility","",F),Cn(),Gn(n.UNLOADED),x(W)}),0)},Wn=function(){V&&V(!1),J||Kn()},Pn=function(){V&&V(!1),J||Kn()},Fn=function(n){p(n)&&(n.stopPropagation(),V&&V(!1),J||Kn())},Gn=function(n){gn=n,Rn()},Rn=function(n){void 0===n&&(n=!1),F&&R&&O(o,m(n?0:bn,cn,G,F,vn,gn),R)},jn=function(){vn?Yn():$n(),L(W),Jn()},Yn=function(){if(F&&gn===n.UNLOADED){var t=E(!0,F);z("id",t),z("class",t),O(o,l,t),B=qn(t),D(B,mn),A("keydown",Fn,document),A("scroll",Pn,pn),Zn()}},$n=function(){if(F&&gn===n.UNLOADED){var t=E(!0,F);z("id",t),B=qn(t),D(B,mn),A("keydown",Fn,document),A("scroll",Pn,pn),Zn()}},qn=function(n){var e=y(t);return O("aria-label",Q,e),O("aria-modal","true",e),O("data-rmiz-overlay","",e),O("role","dialog",e),O(o,s(String(ln)),e),A("click",Wn,e),P=y(t),O(o,f(en,bn),P),S=y(t),O("tabindex","0",S),A("focus",Sn,S),H=y(t),O("tabindex","0",H),A("focus",Sn,H),k=y("button"),O(o,c,k),O("aria-label",$,k),A("click",Mn,k),R=y(t),O("data-rmiz-zoomed","",R),O(o,d,R),D(n,R),D(P,e),D(S,e),D(k,e),D(R,e),D(H,e),e},Jn=function(){N((function(n){var t=n.getAttribute("aria-hidden");t&&hn.push([n,t]),n.setAttribute("aria-hidden","true")}),mn)},Kn=function(){gn===n.LOADED&&(L(k),R&&A("transitionend",In,R),P&&O(o,f(en,bn),P)),gn!==n.UNLOADED&&Gn(n.UNLOADING),N((function(n){z("aria-hidden",n)}),mn),hn.forEach((function(n){var t=n[0],o=n[1];t&&O("aria-hidden",o,t)})),hn=[]};return wn(),{cleanup:zn,update:function(t){void 0===t&&(t={}),t.closeText&&($=t.closeText),t.modalText&&(Q=t.modalText),t.openText&&(_=t.openText),t.overlayBgColorEnd&&(tn=t.overlayBgColorEnd),t.overlayBgColorStart&&(en=t.overlayBgColorStart),t.transitionDuration&&(bn=t.transitionDuration),t.zoomMargin&&(cn=t.zoomMargin),t.zoomZindex&&(ln=t.zoomZindex),Rn(),gn===n.UNLOADED&&t.isZoomed?jn():gn===n.LOADED&&!1===t.isZoomed&&Kn()}}}}();
