var ImageZoom=function(){"use strict";!function(){if("undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof HTMLElement){var t=!1;try{var n=document.createElement("div");n.addEventListener("focus",(function(t){t.preventDefault(),t.stopPropagation()}),!0),n.focus(Object.defineProperty({},"preventScroll",{get:function(){t=!0}}))}catch(t){}if(void 0===HTMLElement.prototype.nativeFocus&&!t){HTMLElement.prototype.nativeFocus=HTMLElement.prototype.focus;var o=function(t){for(var n=0;n<t.length;n++)t[n][0].scrollTop=t[n][1],t[n][0].scrollLeft=t[n][2];t=[]};HTMLElement.prototype.focus=function(t){if(t&&t.preventScroll){var n=function(t){for(var n=t.parentNode,o=[],i=document.scrollingElement||document.documentElement;n&&n!==i;)(n.offsetHeight<n.scrollHeight||n.offsetWidth<n.scrollWidth)&&o.push([n,n.scrollTop,n.scrollLeft]),n=n.parentNode;return n=i,o.push([n,n.scrollTop,n.scrollLeft]),o}(this);this.nativeFocus(),"function"==typeof setTimeout?setTimeout((function(){o(n)}),0):o(n)}else this.nativeFocus()}}}}();var t,n=function(t,n,o,i){void 0===i&&(i=!1),o.addEventListener(t,n,i)},o=function(t,n){return n.appendChild(t)},i=function(t){null==t||t.blur()},e=function(t,n){return void 0===t&&(t=!0),n.cloneNode(t)},r=function(t){return document.createElement(t)},a=function(t,n){for(var o,i=(null===(o=n.parentNode)||void 0===o?void 0:o.children)||[],e=0;e<i.length;e++){var r=i[e];r&&r!==n&&t(r)}},u=function(t,n){return n.getAttribute(t)},c=function(t){return window.getComputedStyle(t)},d=function(t){return t.style},l=function(t,n){return d(n)[t]},f=function(t,n){n.removeAttribute(t)},s=function(t,n){n.contains(t)&&n.removeChild(t)},v=function(t,n,o,i){void 0===i&&(i=!1),o.removeEventListener(t,n,i)},p=function(t,n,o){return o.setAttribute(t,n)},m=function(t,n,o){d(o)[t]=n};!function(t){t.LOADED="LOADED",t.UNLOADED="UNLOADED",t.UNLOADING="UNLOADING"}(t||(t={}));var h=function(t,n){void 0===t&&(t={preventScroll:!1}),null==n||n.focus(t)}.bind(null,{preventScroll:!0}),g="div",b="none",w="style",D="position:absolute;",y="position:relative;display:block;",E="position:relative;display:inline-block;vertical-align:top;",L=D+"top:0;right:0;bottom:0;left:0;height:100%;width:100%;background:none;border:none;margin:0;padding:0;"+"touch-action:manipulation;-webkit-appearance:none;-moz-appearance:none;appearance:none;",x=L+"cursor:pointer;cursor:-webkit-zoom-in;cursor:zoom-in;",k=L+"cursor:pointer;cursor:-webkit-zoom-out;cursor:zoom-out;z-index:1;",N=D+"visibility:hidden;",A="display:block;height:100%;max-width:100%;",T=function(t,n){return D+"top:0;right:0;bottom:0;left:0;transition:background "+(n?n/3:n)+"ms cubic-bezier(.42,0,.58,1);;background:"+t+";"},z=function(t){return"position:fixed;top:0;right:0;bottom:0;left:0;width:100%;height:100%;z-index:"+t+";"},O=function(t,n,o,i,e,r){return D+"height:"+t+"px;width:"+n+"px;left:"+o+"px;top:"+i+"px;transition:transform "+r+"ms cubic-bezier(.42,0,.58,1);;-webkit-transform:"+e+";-ms-transform:"+e+";transform:"+e+";"},C=function(n,o,i,e,r,a){if(!i)return O(0,0,0,0,b,0);var u=i.getBoundingClientRect(),c=u.height,d=u.left,f=u.top,s=u.width,v=l("transform",e);if(a!==t.LOADED)return O(c,s,d,f,"scale(1) translate(0,0)"+(v?" "+v:""),n);var p=e,m=p.naturalHeight,h=p.naturalWidth,g=r&&m&&h?H(c,s,o,m,h):U(c,s,o),w=window.innerWidth/2,D=window.innerHeight/2;return O(c,s,d,f,"scale("+g+") translate("+(w-(d+s/2))/g+"px,"+(D-(f+c/2))/g+"px)"+(v?" "+v:""),n)},S=function(t){return"Escape"===t.key||27===t.keyCode},U=function(t,n,o){var i=window.innerWidth/(n+o),e=window.innerHeight/(t+o);return Math.min(i,e)},H=function(t,n,o,i,e){var r=U(i,e,o),a=e>i?e/n:i/t;return r>1?a:r*a},M=/\.svg$/i,B=function(t){var n=t.tagName;return"SCRIPT"===n||"NOSCRIPT"===n||"STYLE"===n};return function(d,L){var O,W,Z,I,P,F,G,R,j,Y,$,q,J=void 0===d?{}:d,K=J.closeText,Q=void 0===K?"Unzoom image":K,V=J.isControlled,X=void 0!==V&&V,_=J.modalText,tt=void 0===_?"Zoomed item":_,nt=J.onZoomChange,ot=J.openText,it=void 0===ot?"Zoom image":ot,et=J.overlayBgColorEnd,rt=void 0===et?"rgba(255,255,255,0.95)":et,at=J.overlayBgColorStart,ut=void 0===at?"rgba(255,255,255,0)":at,ct=J.transitionDuration,dt=void 0===ct?300:ct,lt=J.zoomMargin,ft=void 0===lt?0:lt,st=J.zoomZindex,vt=void 0===st?2147483647:st,pt="IMG"===L.tagName,mt=pt&&M.test(L.currentSrc),ht=!mt&&pt,gt=document.body,bt=window,wt=[],Dt=t.UNLOADED,yt=dt,Et="",Lt="",xt="",kt=function(){n("resize",Pt,window),At(),pt&&!L.complete?n("load",zt,L):zt()},Nt=function(){null==G||G.disconnect(),G=void 0},At=function(){(F=window.matchMedia("(prefers-reduced-motion:reduce)")).addListener(Tt)},Tt=function(){yt=0},zt=function(){if(L&&Dt===t.UNLOADED){var n=L.getBoundingClientRect(),i=n.height,e=n.width,r=L,a=r.naturalHeight,u=r.naturalWidth;if((ht&&a&&u?H(i,e,ft,a,u):U(i,e,ft))>1){if(!Y){var d=c(L);Lt=d.display,xt=d.maxWidth,Et=l("display",L),Y=Ot(),$=Ct(),R=St(),m("margin",c(L).margin,$),m("margin","0",Y),o(Y,$),o(R,$),L.parentNode&&(m("display",b,L),L.parentNode.insertBefore($,L)),(G=new MutationObserver((function(){Ut(),kt()}))).observe(L,{attributes:!0,characterData:!0,childList:!0,subtree:!0})}}else Bt(),Nt(),Ht(),Mt()}},Ot=function(){var t=e(!0,L);if(f("tabindex",t),m("maxWidth",b,t),m("maxHeight",b,t),(ht||"block"!==Lt)&&(m("display","block",t),m("maxWidth",xt&&xt!==b?xt:"100%",t)),mt){var n=u("width",L),o=u("height",L),i=l("width",L),r=l("height",L);n||o||i||r||m("width","100%",t)}return t},Ct=function(){var t=r(g),n="block"===Lt?y:E;if(p("data-rmiz-wrap","",t),p(w,n,t),mt){var o=u("width",L),i=u("height",L),e=l("width",L),a=l("height",L);o||i||e||a||m("display","block",t)}return t},St=function(){var t=r("button");return p("aria-label",it,t),p(w,x,t),p("type","button",t),n("click",Wt,t),t},Ut=function(){Bt(),Nt(),Ht(),Mt(),null==F||F.removeListener(Tt),F=void 0,v("resize",Pt,window)},Ht=function(){ht&&L&&v("load",zt,L)},Mt=function(){R&&v("click",Wt,R),$&&s($,null==$?void 0:$.parentNode),m("display",Et,L),R=void 0,$=void 0,Y=void 0},Bt=function(){v("scroll",Yt,bt),v("keydown",$t,document),O&&v("load",Gt,O),q&&(v("transitionend",Rt,q),v("transitionend",Ft,q)),W&&v("click",Zt,W),Z&&v("focus",It,Z),I&&v("focus",It,I),P&&(v("click",jt,P),s(P,gt)),O=void 0,W=void 0,Z=void 0,I=void 0,q=void 0,j=void 0,P=void 0},Wt=function(t){t.preventDefault(),nt&&nt(!0),X||Kt()},Zt=function(t){t.preventDefault(),nt&&nt(!1),X||tn()},It=function(){h(W)},Pt=function(){Dt===t.LOADED?Jt(!0):zt()},Ft=function(){h(W)},Gt=function(){Y&&m("visibility","hidden",Y),j&&p(w,T(rt,yt),j),q&&(n("transitionend",Ft,q),p(w,D,q)),qt(t.LOADED),_t()},Rt=function(){window.setTimeout((function(){Y&&m("visibility","",Y),Bt(),qt(t.UNLOADED),h(R)}),0)},jt=function(){nt&&nt(!1),X||tn()},Yt=function(){nt&&nt(!1),X||tn()},$t=function(t){S(t)&&(t.stopPropagation(),nt&&nt(!1),X||tn())},qt=function(t){Dt=t,Jt()},Jt=function(t){void 0===t&&(t=!1),Y&&q&&p(w,C(t?0:yt,ft,$,Y,ht,Dt),q)},Kt=function(){pt?Qt():Vt(),i(R)},Qt=function(){Y&&Dt===t.UNLOADED&&(O=e(!0,Y),n("load",Gt,O),f("id",O),f("class",O),p(w,A,O),P=Xt(O),o(P,gt),n("keydown",$t,document),n("scroll",Yt,bt))},Vt=function(){if(Y&&Dt===t.UNLOADED){var i=e(!0,Y);f("id",i),P=Xt(i),o(P,gt),n("keydown",$t,document),n("scroll",Yt,bt),Gt()}},Xt=function(t){var i=r(g);return p("aria-label",tt,i),p("aria-modal","true",i),p("data-rmiz-overlay","",i),p("role","dialog",i),p(w,z(String(vt)),i),n("click",jt,i),j=r(g),p(w,T(ut,yt),j),Z=r(g),p("tabindex","0",Z),n("focus",It,Z),I=r(g),p("tabindex","0",I),n("focus",It,I),W=r("button"),p("aria-label",Q,W),p(w,k,W),p("type","button",i),n("click",Zt,W),q=r(g),p("data-rmiz-zoomed","",q),p(w,N,q),o(t,q),o(j,i),o(Z,i),o(W,i),o(q,i),o(I,i),i},_t=function(){P&&a((function(t){if(!B(t)){var n=u("aria-hidden",t);n&&wt.push([t,n]),t.setAttribute("aria-hidden","true")}}),P)},tn=function(){Dt===t.LOADED&&(i(W),P&&a((function(t){B(t)||f("aria-hidden",t)}),P),wt.forEach((function(t){var n=t[0],o=t[1];n&&p("aria-hidden",o,n)})),wt=[],q&&n("transitionend",Rt,q),j&&p(w,T(ut,yt),j)),Dt!==t.UNLOADED&&qt(t.UNLOADING)};return kt(),{cleanup:Ut,update:function(n){void 0===n&&(n={}),n.closeText&&(Q=n.closeText),n.modalText&&(tt=n.modalText),n.openText&&(it=n.openText),n.overlayBgColorEnd&&(rt=n.overlayBgColorEnd),n.overlayBgColorStart&&(ut=n.overlayBgColorStart),n.transitionDuration&&(yt=n.transitionDuration),n.zoomMargin&&(ft=n.zoomMargin),n.zoomZindex&&(vt=n.zoomZindex),Jt(),Dt===t.UNLOADED&&n.isZoomed?Kt():Dt===t.LOADED&&!1===n.isZoomed&&tn()}}}}();
