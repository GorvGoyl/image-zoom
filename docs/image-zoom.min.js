var ImageZoom=function(){"use strict";var t;!function(){if("undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof HTMLElement){var t=!1;try{var n=document.createElement("div");n.addEventListener("focus",(function(t){t.preventDefault(),t.stopPropagation()}),!0),n.focus(Object.defineProperty({},"preventScroll",{get:function(){t=!0}}))}catch(t){}if(void 0===HTMLElement.prototype.nativeFocus&&!t){HTMLElement.prototype.nativeFocus=HTMLElement.prototype.focus;var o=function(t){for(var n=0;n<t.length;n++)t[n][0].scrollTop=t[n][1],t[n][0].scrollLeft=t[n][2];t=[]};HTMLElement.prototype.focus=function(t){if(t&&t.preventScroll){var n=function(t){for(var n=t.parentNode,o=[],e=document.scrollingElement||document.documentElement;n&&n!==e;)(n.offsetHeight<n.scrollHeight||n.offsetWidth<n.scrollWidth)&&o.push([n,n.scrollTop,n.scrollLeft]),n=n.parentNode;return n=e,o.push([n,n.scrollTop,n.scrollLeft]),o}(this);this.nativeFocus(),"function"==typeof setTimeout?setTimeout((function(){o(n)}),0):o(n)}else this.nativeFocus()}}}}(),function(t){t.LOADED="LOADED",t.UNLOADED="UNLOADED",t.UNLOADING="UNLOADING"}(t||(t={}));var n="click",o="role",e="style",r="cursor:-webkit-zoom-in;cursor:zoom-in;",i=function(t,n,o){return"cursor:-webkit-zoom-out;cursor:zoom-out;position:fixed;top:0;right:0;bottom:0;left:0;width:100%;height:100%;-webkit-transition-property:background-color;-o-transition-property:background-color;transition-property:background-color;background-color:"+t+";transition-duration:"+n+";transition-timing-function:ease;z-index:"+o+";"},a="visibility:hidden;",u="cursor:-webkit-zoom-out;cursor:zoom-out;position:absolute;-webkit-transition-property:-webkit-transform;transition-property:-webkit-transform;-o-transition-property:transform;transition-property:transform;transition-property:transform,-webkit-transform;-webkit-transform-origin:center center;-ms-transform-origin:center center;transform-origin:center center;",c=u+a,d=function(t,n,o,e,r,i){return u+"height:"+t+"px;width:"+n+"px;left:"+o+"px;top:"+e+"px;-webkit-transform:"+r+";transform:"+r+";-webkit-transition-duration:"+i+";transition-duration:"+i+";transition-timing-function:ease;"},s=function(t,n){var o=(t||"").trim(),e=";"===o.slice(-1)?"":";";return[o,n].join(e)},l=function(n,o,e,r,i){if(!e)return d(0,0,0,0,"none","0ms");var a=e.getBoundingClientRect(),u=a.height,c=a.left,s=a.top,l=a.width,f=e.style.transform;if(i!==t.LOADED)return d(u,l,c,s,"scale(1) translate(0,0)"+(f?" "+f:""),n);var m=e,p=m.naturalHeight,y=m.naturalWidth,g=r&&p&&y?b(u,l,o,p,y):v(u,l,o),w=window.innerWidth/2,D=window.innerHeight/2;return d(u,l,c,s,"scale("+g+") translate("+(w-(c+l/2))/g+"px,"+(D-(s+u/2))/g+"px)"+(f?" "+f:""),n)},f=function(t){return"Enter"===t.key||13===t.keyCode||"Space"===t.key||32===t.keyCode},m=function(t){return"Escape"===t.key||27===t.keyCode},p=function(t){return void 0===t&&(t=""),t.concat(Math.random().toString(16).slice(-4))},v=function(t,n,o){var e=window.innerWidth/(n+o),r=window.innerHeight/(t+o);return Math.min(e,r)},b=function(t,n,o,e,r){var i=v(e,r,o),a=r>e?r/n:e/t;return i>1?a:i*a},y=/\.svg$/i,g=function(t,n){return n.appendChild(t)},w=function(t,n){t&&n&&n.removeChild(t)},D=function(){return document.createElement("div")},E=function(t,n){var o=D();return O("id",t,o),O("data-rmiz-desc","",o),O(e,"display:none;",o),T(n,o),o},h=function(t){t.focus({preventScroll:!0})},L=function(t,n,o){o.addEventListener(t,n)},k=function(t,n,o){o.removeEventListener(t,n)},z=function(t){return document.getElementById(t)},x=function(t,n){return n.getAttribute(t)},A=function(t,n){return n.removeAttribute(t)},O=function(t,n,o){return o.setAttribute(t,n)},T=function(t,n){return n.textContent=t};return function(d,N){var C,U,M,H,S,B,Z,I=void 0===d?{}:d,F=I.closeText,W=void 0===F?"Press to unzoom image":F,P=I.isControlled,G=void 0!==P&&P,q=I.modalText,j=void 0===q?"Zoomed item":q,R=I.onZoomChange,$=I.openText,J=void 0===$?"Press to zoom image":$,K=I.overlayBgColorEnd,Q=void 0===K?"rgba(255,255,255,0.95)":K,V=I.overlayBgColorStart,X=void 0===V?"rgba(255,255,255,0)":V,Y=I.portalEl,_=I.scrollableEl,tt=I.transitionDuration,nt=void 0===tt?"300ms":tt,ot=I.zoomMargin,et=void 0===ot?0:ot,rt=I.zoomZindex,it=void 0===rt?2147483647:rt,at=p("rmiz-close-"),ut=p("rmiz-open-"),ct=x("aria-describedby",N),dt=x(o,N),st=x(e,N),lt=x("tabindex",N),ft="IMG"===N.tagName,mt=!(ft&&y.test(N.currentSrc))&&ft,pt=document.body,vt=Y||pt,bt=_||window,yt=t.UNLOADED,gt=function(){var t=vt.querySelector("[data-rmiz-wrap]");t?S=t:(S=D(),O("data-rmiz-wrap","",S),g(S,vt))},wt=function(){(M=window.matchMedia("(prefers-reduced-motion:reduce)")).addListener(xt)},Dt=function(){H=E(ut,J),C=E(at,W),g(H,S),g(C,S)},Et=function(){if(N&&yt===t.UNLOADED){var i=N.getBoundingClientRect(),a=i.height,u=i.width,c=N,d=c.naturalHeight,l=c.naturalWidth;(mt&&d&&l?b(a,u,et,d,l):v(a,u,et))>1?(O("aria-describedby",ut,N),O(o,"button",N),O("tabindex",lt||"0",N),O(e,s(st,r),N),L(n,At,N),L("keydown",Tt,N)):Lt()}},ht=function(){var t=z(ut),n=z(at);w(t,S),w(n,S)},Lt=function(){N&&(k("keydown",Tt,N),k(n,At,N),lt?O("tabindex",lt,N):A("tabindex",N),st?O(e,st,N):A(e,N),dt?O(o,dt,N):A(o,N),ct?O("aria-describedby",ct,N):A("aria-describedby",N))},kt=function(){var t=mt?Z:B;t&&(k("transitionend",Ht,t),k("transitionend",Ut,t),k(n,Ot,t),k("keydown",Nt,t),k("load",Mt,t),w(t,U)),Z=void 0,B=void 0,k("scroll",Bt,bt),k("keydown",Zt,document)},zt=function(){U&&(k(n,St,U),w(U,S),U=void 0)},xt=function(){nt="0ms"},At=function(t){t.preventDefault(),R&&R(!0),G||Wt()},Ot=function(t){t.preventDefault(),R&&R(!1),G||jt()},Tt=function(t){f(t)&&(t.preventDefault(),R&&R(!0),G||Wt())},Nt=function(t){f(t)&&(t.preventDefault(),R&&R(!1),G||jt())},Ct=function(){yt===t.LOADED?window.requestAnimationFrame((function(){return Ft(!0)})):Et()},Ut=function(){var t=Z||B;t&&h(t)},Mt=function(){N&&O(e,s(st,a),N),U&&(U.style.backgroundColor=Q),Z&&(k("load",Mt,Z),L("transitionend",Ut,Z),O(e,u,Z)),B&&(L("transitionend",Ut,B),O(e,u,B)),It(t.LOADED)},Ht=function(){N&&(O(e,s(st,r),N),window.setTimeout((function(){kt(),zt(),h(N),It(t.UNLOADED)}),0))},St=function(){R&&R(!1),G||jt()},Bt=function(){window.requestAnimationFrame((function(){return R?R(!1):G?void 0:jt()}))},Zt=function(t){m(t)&&(t.stopPropagation(),R&&R(!1),G||jt())},It=function(t){yt=t,Ft()},Ft=function(t){if(void 0===t&&(t=!1),N){var n=mt?Z:B;n&&O(e,l(t?"0ms":nt,et,N,mt,yt),n)}},Wt=function(){mt?Pt():Gt()},Pt=function(){if(N&&yt===t.UNLOADED){var r=N.alt,i=x("aria-label",N),a=x("aria-labelledby",N),u=N.sizes,d=N.src,s=N.srcset;Z=new Image,L("load",Mt,Z),L(n,Ot,Z),L("keydown",Nt,Z),O("aria-describedby",at,Z),O("data-rmiz-zoomed","",Z),O(o,"button",Z),O(e,c,Z),O("tabindex","0",Z),r&&(Z.alt=r),d&&(Z.src=d),s&&(Z.srcset=s),u&&(Z.sizes=u),i&&O("aria-label",i,Z),a&&O("aria-labelledby",a,Z),U=qt(),g(Z,U),g(U,S),L("keydown",Zt,document),L("scroll",Bt,bt)}},Gt=function(){if(N&&yt===t.UNLOADED){B=D(),L(n,Ot,B),L("keydown",Nt,B),O("aria-describedby",at,B),O("data-rmiz-zoomed","",B),O(o,"button",B),O(e,c,B),O("tabindex","0",B);var r=N.cloneNode(!0);A("id",r),A("tabindex",r),dt?O(o,dt,r):A(o,r),ct?O("aria-describedby",ct,r):A("aria-describedby",r),L(n,Ot,B),g(r,B),U=qt(),g(B,U),g(U,S),L("keydown",Zt,document),L("scroll",Bt,bt),Mt()}},qt=function(){var t=D();return O("aria-label",j,t),O("aria-modal","true",t),O("data-rmiz-overlay","",t),O(o,"dialog",t),O(e,i(X,nt,String(it)),t),L(n,St,t),t},jt=function(){if(yt===t.LOADED){var n=mt?Z:B;n&&(n.blur(),L("transitionend",Ht,n)),U&&(U.style.backgroundColor=X)}yt!==t.UNLOADED&&It(t.UNLOADING)};return L("resize",Ct,window),gt(),wt(),Dt(),mt&&!N.complete?N.addEventListener("load",(function(){window.setTimeout((function(){Et()}),500)})):Et(),{cleanup:function(){kt(),Lt(),zt(),ht(),mt&&N&&k("load",Et,N),M&&(M.removeListener(xt),M=void 0),k("resize",Ct,window)},update:function(n){void 0===n&&(n={}),n.modalText&&(j=n.modalText),n.overlayBgColorEnd&&(Q=n.overlayBgColorEnd),n.overlayBgColorStart&&(X=n.overlayBgColorStart),n.transitionDuration&&(nt=n.transitionDuration),n.zoomMargin&&(et=n.zoomMargin),n.zoomZindex&&(it=n.zoomZindex),n.closeText&&(W=n.closeText,C&&T(W,C)),n.openText&&(J=n.openText,H&&T(J,H)),yt===t.UNLOADED&&(n.portalEl&&(vt=n.portalEl),n.scrollableEl&&(bt=n.scrollableEl)),Ft(),yt===t.UNLOADED&&n.isZoomed?Wt():yt===t.LOADED&&!1===n.isZoomed&&jt()}}}}();
