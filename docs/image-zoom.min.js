var ImageZoom=function(){"use strict";!function(){if("undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof HTMLElement){var t=!1;try{var n=document.createElement("div");n.addEventListener("focus",(function(t){t.preventDefault(),t.stopPropagation()}),!0),n.focus(Object.defineProperty({},"preventScroll",{get:function(){t=!0}}))}catch(t){}if(void 0===HTMLElement.prototype.nativeFocus&&!t){HTMLElement.prototype.nativeFocus=HTMLElement.prototype.focus;var o=function(t){for(var n=0;n<t.length;n++)t[n][0].scrollTop=t[n][1],t[n][0].scrollLeft=t[n][2];t=[]};HTMLElement.prototype.focus=function(t){if(t&&t.preventScroll){var n=function(t){for(var n=t.parentNode,o=[],e=document.scrollingElement||document.documentElement;n&&n!==e;)(n.offsetHeight<n.scrollHeight||n.offsetWidth<n.scrollWidth)&&o.push([n,n.scrollTop,n.scrollLeft]),n=n.parentNode;return n=e,o.push([n,n.scrollTop,n.scrollLeft]),o}(this);this.nativeFocus(),"function"==typeof setTimeout?setTimeout((function(){o(n)}),0):o(n)}else this.nativeFocus()}}}}();var t,n=function(t,n,o,e){void 0===e&&(e=!1),o.addEventListener(t,n,e)},o=function(t,n){return n.appendChild(t)},e=function(t){null==t||t.blur()},i=function(t,n){return void 0===t&&(t=!0),n.cloneNode(t)},r=function(t){return document.createElement(t)},a=function(t,n){for(var o,e=(null===(o=n.parentNode)||void 0===o?void 0:o.children)||[],i=0;i<e.length;i++){var r=e[i];r&&r!==n&&t(r)}},u=function(t){return t?t.getBoundingClientRect():{bottom:0,height:0,left:0,right:0,top:0,width:0,x:0,y:0}},c=function(){return window.innerHeight},d=function(){return window.innerWidth},l=function(t,n,o){var e=d()/(t+o),i=c()/(n+o);return Math.min(e,i)},f=function(t,n,o,e,i){var r=l(n,e,i),a=n>e?n/t:e/o;return r>1?a:r*a},s=function(t){return t.style},v=function(t,n){n.removeAttribute(t)},m=function(t,n){n.contains(t)&&n.removeChild(t)},p=function(t,n,o,e){void 0===e&&(e=!1),o.removeEventListener(t,n,e)},h=function(t,n,o){return o.setAttribute(t,n)},g=function(t,n,o){s(o)[t]=n};!function(t){t.LOADED="LOADED",t.UNLOADED="UNLOADED",t.UNLOADING="UNLOADING"}(t||(t={}));var b=t.LOADED,y=t.UNLOADED,x=t.UNLOADING,w=function(t,n){void 0===t&&(t={preventScroll:!1}),null==n||n.focus(t)}.bind(null,{preventScroll:!0}),E="none",L="style",T="position:absolute;",D=T+"touch-action:manipulation;-webkit-appearance:none;-moz-appearance:none;appearance:none;background:none;border:none;margin:0;padding:0;",z=D+"cursor:pointer;cursor:-webkit-zoom-in;cursor:zoom-in;",k=D+"top:0;right:0;bottom:0;left:0;height:100%;width:100%;cursor:pointer;cursor:-webkit-zoom-out;cursor:zoom-out;z-index:1;",N=T+"visibility:hidden;",C="display:block;max-width:100%;max-height:100%;",A=function(t,n){return T+"top:0;right:0;bottom:0;left:0;transition:background "+n+"ms cubic-bezier(.42,0,.58,1);;background:"+t+";"},S=function(t){return"position:fixed;top:0;right:0;bottom:0;left:0;width:100%;height:100%;z-index:"+t+";"},M=function(t,n,o,e,i,r){return T+"height:"+t+"px;width:"+n+"px;left:"+o+"px;top:"+e+"px;transition:transform "+r+"ms cubic-bezier(.42,0,.58,1);;-webkit-transform:"+i+";-ms-transform:"+i+";transform:"+i+";"},O=function(t,n,o,e,i){if(!o)return M(0,0,0,0,E,0);var r,a=o.getBoundingClientRect(),u=a.height,v=a.left,m=a.top,p=a.width,h=(r="transform",s(o)[r]);if(i!==b)return M(u,p,v,m,"scale(1) translate(0,0)"+(h?" "+h:""),t);var g=o,y=g.naturalHeight,x=g.naturalWidth,w=e&&y&&x?f(p,x,u,y,n):l(p,u,n),L=d()/2,T=c()/2;return M(u,p,v,m,"scale("+w+") translate("+(L-(v+p/2))/w+"px,"+(T-(m+u/2))/w+"px)"+(h?" "+h:""),t)},H=/\.svg$/i,Z=function(t){return"Escape"===t.key||27===t.keyCode},B=function(t){var n=t.tagName;return"SCRIPT"===n||"NOSCRIPT"===n||"STYLE"===n};return function(t,c){var d,s,D,M,I,U,W,P,F,G,R=void 0===t?{}:t,j=R.closeText,Y=void 0===j?"Unzoom image":j,$=R.isControlled,q=void 0!==$&&$,J=R.modalText,K=void 0===J?"Zoomed item":J,Q=R.onZoomChange,V=R.openText,X=void 0===V?"Zoom image":V,_=R.overlayBgColorEnd,tt=void 0===_?"rgba(255,255,255,0.95)":_,nt=R.overlayBgColorStart,ot=void 0===nt?"rgba(255,255,255,0)":nt,et=R.transitionDuration,it=void 0===et?300:et,rt=R.zoomMargin,at=void 0===rt?0:rt,ut=R.zoomZindex,ct=void 0===ut?2147483647:ut,dt="IMG"===c.tagName,lt=!(dt&&H.test(c.currentSrc))&&dt,ft=window,st=document,vt=st.body,mt=ft,pt=[],ht=y,gt=it,bt=function(){null==W||W.disconnect(),W=void 0},yt=function(){(U=ft.matchMedia("(prefers-reduced-motion:reduce)")).addListener(xt)},xt=function(){gt=0},wt=function(){if(c&&ht===y){var t=u(c),o=t.height,e=t.width,i=c,a=i.naturalHeight,d=i.naturalWidth;(lt&&a&&d?f(e,d,o,a,at):l(e,o,at))>1?(P=r("button"),h("aria-label",X,P),h(L,z,P),h("type","button",P),Et(),n("click",zt,P),c.insertAdjacentElement("afterend",P),(W=new MutationObserver((function(t){c&&t.length>0&&Et()}))).observe(c,{attributes:!0,characterData:!0,childList:!0,subtree:!0})):(Dt(),bt(),Lt(),Tt())}},Et=function(){if(P){var t,n=u(c),o=n.height,e=n.width,i=(t=c,window.getComputedStyle(t)).display;g("width",e+"px",P),g("height",o+"px",P),"block"===i?g("marginTop","-"+o+"px",P):g("marginLeft","-"+e+"px",P)}},Lt=function(){lt&&c&&p("load",wt,c)},Tt=function(){P&&(p("click",zt,P),m(P,P.parentNode)),P=void 0},Dt=function(){p("scroll",Ht,mt),p("keydown",Zt,st),d&&p("load",St,d),G&&(p("transitionend",Mt,G),p("transitionend",At,G)),s&&p("click",kt,s),D&&p("focus",Nt,D),M&&p("focus",Nt,M),I&&(p("click",Ot,I),m(I,vt)),d=void 0,s=void 0,D=void 0,M=void 0,G=void 0,F=void 0,I=void 0},zt=function(t){t.preventDefault(),Q&&Q(!0),q||It()},kt=function(t){t.preventDefault(),Q&&Q(!1),q||Gt()},Nt=function(){w(s)},Ct=function(){ht===b?Bt(!0):wt()},At=function(){w(s)},St=function(){c&&g("visibility","hidden",c),F&&h(L,A(tt,gt),F),G&&(n("transitionend",At,G),h(L,T,G)),ht=b,Bt(),Ft()},Mt=function(){c&&g("visibility","",c),ht=y,Bt(!0),Dt(),w(P)},Ot=function(){Q&&Q(!1),q||Gt()},Ht=function(){ht===b&&(Q&&Q(!1),q||Gt())},Zt=function(t){Z(t)&&(t.stopPropagation(),Q&&Q(!1),q||Gt())},Bt=function(t){void 0===t&&(t=!1),c&&G&&h(L,O(t?0:gt,at,c,lt,ht),G)},It=function(){dt?Ut():Wt(),e(P)},Ut=function(){c&&ht===y&&(d=i(!0,c),n("load",St,d),v("id",d),h(L,C,d),I=Pt(d),o(I,vt),n("keydown",Zt,st),n("scroll",Ht,mt))},Wt=function(){if(c&&ht===y){var t=i(!0,c);v("id",t),g("maxWidth",E,t),g("maxHeight",E,t),I=Pt(t),o(I,vt),n("keydown",Zt,st),n("scroll",Ht,mt),St()}},Pt=function(t){var e=r("div");return h("aria-label",K,e),h("aria-modal","true",e),h("data-rmiz-overlay","",e),h("role","dialog",e),h(L,S(String(ct)),e),n("click",Ot,e),F=r("div"),h(L,A(ot,gt),F),D=r("div"),h("tabindex","0",D),n("focus",Nt,D),M=r("div"),h("tabindex","0",M),n("focus",Nt,M),s=r("button"),h("aria-label",Y,s),h(L,k,s),h("type","button",e),n("click",kt,s),G=r("div"),h("data-rmiz-zoomed","",G),h(L,N,G),o(t,G),o(F,e),o(D,e),o(s,e),o(G,e),o(M,e),e},Ft=function(){I&&a((function(t){if(!B(t)){var n=function(t,n){return n.getAttribute(t)}("aria-hidden",t);n&&pt.push([t,n]),t.setAttribute("aria-hidden","true")}}),I)},Gt=function(){ht===b&&(e(s),I&&a((function(t){B(t)||v("aria-hidden",t)}),I),pt.forEach((function(t){var n=t[0],o=t[1];n&&h("aria-hidden",o,n)})),pt=[],G&&n("transitionend",Mt,G),F&&h(L,A(ot,gt),F),ht=x,Bt())};return n("resize",Ct,ft),yt(),dt&&!c.complete?n("load",wt,c):wt(),{cleanup:function(){Dt(),bt(),Lt(),Tt(),null==U||U.removeListener(xt),U=void 0,p("resize",Ct,ft)},update:function(t){void 0===t&&(t={}),t.closeText&&(Y=t.closeText),t.modalText&&(K=t.modalText),t.openText&&(X=t.openText),t.overlayBgColorEnd&&(tt=t.overlayBgColorEnd),t.overlayBgColorStart&&(ot=t.overlayBgColorStart),t.transitionDuration&&(gt=t.transitionDuration),t.zoomMargin&&(at=t.zoomMargin),t.zoomZindex&&(ct=t.zoomZindex),Bt(),ht===y&&t.isZoomed?It():ht===b&&!1===t.isZoomed&&Gt()}}}}();
