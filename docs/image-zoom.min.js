var ImageZoom=function(){"use strict";!function(){if("undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof HTMLElement){var t=!1;try{var n=document.createElement("div");n.addEventListener("focus",(function(t){t.preventDefault(),t.stopPropagation()}),!0),n.focus(Object.defineProperty({},"preventScroll",{get:function(){t=!0}}))}catch(t){}if(void 0===HTMLElement.prototype.nativeFocus&&!t){HTMLElement.prototype.nativeFocus=HTMLElement.prototype.focus;var o=function(t){for(var n=0;n<t.length;n++)t[n][0].scrollTop=t[n][1],t[n][0].scrollLeft=t[n][2];t=[]};HTMLElement.prototype.focus=function(t){if(t&&t.preventScroll){var n=function(t){for(var n=t.parentNode,o=[],e=document.scrollingElement||document.documentElement;n&&n!==e;)(n.offsetHeight<n.scrollHeight||n.offsetWidth<n.scrollWidth)&&o.push([n,n.scrollTop,n.scrollLeft]),n=n.parentNode;return n=e,o.push([n,n.scrollTop,n.scrollLeft]),o}(this);this.nativeFocus(),"function"==typeof setTimeout?setTimeout((function(){o(n)}),0):o(n)}else this.nativeFocus()}}}}();var t,n=function(t,n,o,e){void 0===e&&(e=!1),o.addEventListener(t,n,e)},o=function(t,n){return n.appendChild(t)},e=function(t){null==t||t.blur()},i=function(t,n){return void 0===t&&(t=!0),n.cloneNode(t)},r=function(t){return document.createElement(t)},a=function(t,n){for(var o,e=(null===(o=n.parentNode)||void 0===o?void 0:o.children)||[],i=0;i<e.length;i++){var r=e[i];r&&r!==n&&t(r)}},c=function(t){return t?t.getBoundingClientRect():{bottom:0,height:0,left:0,right:0,top:0,width:0,x:0,y:0}},u=function(){return window.innerHeight},d=function(){return window.innerWidth},l=function(t,n,o){var e=d()/(t+o),i=u()/(n+o);return Math.min(e,i)},f=function(t,n,o,e,i){var r=l(n,e,i),a=n>e?n/t:e/o;return r>1?a:r*a},s=function(t){return t.style},v=function(t,n){n.removeAttribute(t)},m=function(t,n){n.contains(t)&&n.removeChild(t)},p=function(t,n,o,e){void 0===e&&(e=!1),o.removeEventListener(t,n,e)},h=function(t,n,o){return o.setAttribute(t,n)},g=function(t,n,o){s(o)[t]=n};!function(t){t.LOADED="LOADED",t.UNLOADED="UNLOADED",t.UNLOADING="UNLOADING"}(t||(t={}));var b=t.LOADED,x=t.UNLOADED,y=t.UNLOADING,w=function(t,n){void 0===t&&(t={preventScroll:!1}),null==n||n.focus(t)}.bind(null,{preventScroll:!0}),E="none",L="style",T="top:0;right:0;bottom:0;left:0;",k="height:100%;",D="position:absolute;",z="ease",C="width:100%;",N=D+"touch-action:manipulation;-webkit-appearance:none;-moz-appearance:none;appearance:none;background:none;border:none;margin:0;padding:0;",A=N+"cursor:pointer;cursor:-webkit-zoom-in;cursor:zoom-in;",M=N+T+k+C+"cursor:pointer;cursor:-webkit-zoom-out;cursor:zoom-out;z-index:1;",O=D+"visibility:hidden;",S="display:block;max-width:100%;max-height:100%;",H=/\.svg$/i,Z=function(t){return"Escape"===t.key||27===t.keyCode},B=function(t){var n=t.tagName;return"SCRIPT"===n||"NOSCRIPT"===n||"STYLE"===n};return function(t,N){var I,U,W,P,F,G,R,j,Y,$=void 0===t?{}:t,q=$.closeText,J=void 0===q?"Unzoom image":q,K=$.isControlled,Q=void 0!==K&&K,V=$.modalText,X=void 0===V?"Zoomed item":V,_=$.onZoomChange,tt=$.openText,nt=void 0===tt?"Zoom image":tt,ot=$.overlayBgColorEnd,et=void 0===ot?"rgba(255,255,255,0.95)":ot,it=$.overlayBgColorStart,rt=void 0===it?"rgba(255,255,255,0)":it,at=$.transitionDuration,ct=void 0===at?300:at,ut=$.zoomMargin,dt=void 0===ut?0:ut,lt=$.zoomZindex,ft=void 0===lt?2147483647:lt,st="IMG"===N.tagName,vt=!(st&&H.test(N.currentSrc))&&st,mt=document.body,pt=window,ht=[],gt=x,bt=ct,xt=function(){null==R||R.disconnect(),R=void 0},yt=function(){(G=window.matchMedia("(prefers-reduced-motion:reduce)")).addListener(wt)},wt=function(){bt=0},Et=function(){if(N&&gt===x){var t=c(N),o=t.height,e=t.width,i=N,a=i.naturalHeight,u=i.naturalWidth;(vt&&a&&u?f(e,u,o,a,dt):l(e,o,dt))>1?(j=r("button"),h("aria-label",nt,j),h(L,A,j),h("type","button",j),Lt(),n("click",zt,j),N.insertAdjacentElement("afterend",j),(R=new MutationObserver((function(t){N&&t.length>0&&Lt()}))).observe(N,{attributes:!0,characterData:!0,childList:!0,subtree:!0})):(Dt(),xt(),Tt(),kt())}},Lt=function(){if(j){var t,n=c(N),o=n.height,e=n.width,i=(t=N,window.getComputedStyle(t)).display;g("width",e+"px",j),g("height",o+"px",j),"block"===i||"flex"===i||"grid"===i||"table"===i?g("marginTop","-"+o+"px",j):g("marginLeft","-"+e+"px",j)}},Tt=function(){vt&&N&&p("load",Et,N)},kt=function(){j&&(p("click",zt,j),m(j,j.parentNode)),j=void 0},Dt=function(){p("scroll",Zt,pt),p("keydown",Bt,document),I&&(p("load",Ot,I),p("transitionend",St,I),p("transitionend",Mt,I)),U&&p("click",Ct,U),W&&p("focus",Nt,W),P&&p("focus",Nt,P),F&&(p("click",Ht,F),m(F,mt)),I=void 0,U=void 0,W=void 0,P=void 0,Y=void 0,F=void 0},zt=function(t){t.preventDefault(),_&&_(!0),Q||Ut()},Ct=function(t){t.preventDefault(),_&&_(!1),Q||Rt()},Nt=function(){w(U)},At=function(){gt===b?It(!0):Et()},Mt=function(){w(U)},Ot=function(){I&&(F=Ft())&&(o(F,mt),n("keydown",Bt,document),n("scroll",Zt,pt),N&&g("visibility","hidden",N),I&&(n("transitionend",Mt,I),h(L,D,I)),gt=b,It(!1),Gt(),Y&&(h(L,D+T+"transition:background-color "+bt+"ms "+z+";background-color:"+rt+";will-change:background-color;",Y),g("backgroundColor",et,Y)))},St=function(){N&&g("visibility","",N),gt=x,It(!0),Dt(),w(j)},Ht=function(){_&&_(!1),Q||Rt()},Zt=function(){gt===b?(_&&_(!1),Q||Rt()):gt===y&&It(!1)},Bt=function(t){Z(t)&&(t.stopPropagation(),_&&_(!1),Q||Rt())},It=function(t){if(N&&I){var n,o,e=t?0:bt,i=N.getBoundingClientRect(),r=i.height,a=i.left,c=i.top,v=i.width,m=(n="transform",s(N)[n]);if(gt!==b)o="scale(1) translate(0,0)"+(m?" "+m:"");else{var p=l(v,r,dt);if(vt){var g=N,x=g.naturalHeight,y=g.naturalWidth;x&&y&&(p=f(v,y,r,x,dt))}o="scale("+p+") translate("+(d()/2-(a+v/2))/p+"px,"+(u()/2-(c+r/2))/p+"px)"+(m?" "+m:"")}h(L,D+"width:"+v+"px;height:"+r+"px;left:"+a+"px;top:"+c+"px;transition:transform "+e+"ms "+z+";-webkit-transform:"+o+";-ms-transform:"+o+";transform:"+o+";",I)}},Ut=function(){st?Wt():Pt(),e(j)},Wt=function(){N&&gt===x&&(I=i(!0,N),v("id",I),h("data-rmiz-zoomed","",I),h(L,S,I),n("load",Ot,I))},Pt=function(){if(N&&gt===x){I=r("div"),h("data-rmiz-zoomed","",I),h(L,O,I);var t=i(!0,N);v("id",t),g("maxWidth",E,t),g("maxHeight",E,t),o(t,I),Ot()}},Ft=function(){if(I){var t=r("div");return h("aria-label",X,t),h("aria-modal","true",t),h("data-rmiz-overlay","",t),h("role","dialog",t),h(L,"position:fixed;"+T+C+k+"z-index:"+ft+";",t),n("click",Ht,t),Y=r("div"),W=r("div"),h("tabindex","0",W),n("focus",Nt,W),P=r("div"),h("tabindex","0",P),n("focus",Nt,P),U=r("button"),h("aria-label",J,U),h(L,M,U),h("type","button",t),n("click",Ct,U),o(Y,t),o(W,t),o(U,t),o(I,t),o(P,t),t}},Gt=function(){F&&a((function(t){if(!B(t)){var n=function(t,n){return n.getAttribute(t)}("aria-hidden",t);n&&ht.push([t,n]),t.setAttribute("aria-hidden","true")}}),F)},Rt=function(){gt===b?(e(U),F&&a((function(t){B(t)||v("aria-hidden",t)}),F),ht.forEach((function(t){var n=t[0],o=t[1];n&&h("aria-hidden",o,n)})),ht=[],I&&n("transitionend",St,I),gt=y,It(!1),Y&&g("backgroundColor",rt,Y)):It(!1)};return n("resize",At,window),yt(),st&&!N.complete?n("load",Et,N):Et(),{cleanup:function(){Dt(),xt(),Tt(),kt(),null==G||G.removeListener(wt),G=void 0,p("resize",At,window)},update:function(t){void 0===t&&(t={}),t.closeText&&(J=t.closeText),t.modalText&&(X=t.modalText),t.openText&&(nt=t.openText),t.overlayBgColorEnd&&(et=t.overlayBgColorEnd),t.overlayBgColorStart&&(rt=t.overlayBgColorStart),t.transitionDuration&&(bt=t.transitionDuration),t.zoomMargin&&(dt=t.zoomMargin),t.zoomZindex&&(ft=t.zoomZindex),It(!1),gt===x&&t.isZoomed?Ut():gt===b&&!1===t.isZoomed&&Rt()}}}}();
