var ImageZoom=function(){"use strict";var t;!function(){if("undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof HTMLElement){var t=!1;try{var n=document.createElement("div");n.addEventListener("focus",(function(t){t.preventDefault(),t.stopPropagation()}),!0),n.focus(Object.defineProperty({},"preventScroll",{get:function(){t=!0}}))}catch(t){}if(void 0===HTMLElement.prototype.nativeFocus&&!t){HTMLElement.prototype.nativeFocus=HTMLElement.prototype.focus;var o=function(t){for(var n=0;n<t.length;n++)t[n][0].scrollTop=t[n][1],t[n][0].scrollLeft=t[n][2];t=[]};HTMLElement.prototype.focus=function(t){if(t&&t.preventScroll){var n=function(t){for(var n=t.parentNode,o=[],e=document.scrollingElement||document.documentElement;n&&n!==e;)(n.offsetHeight<n.scrollHeight||n.offsetWidth<n.scrollWidth)&&o.push([n,n.scrollTop,n.scrollLeft]),n=n.parentNode;return n=e,o.push([n,n.scrollTop,n.scrollLeft]),o}(this);this.nativeFocus(),"function"==typeof setTimeout?setTimeout((function(){o(n)}),0):o(n)}else this.nativeFocus()}}}}(),function(t){t.LOADED="LOADED",t.UNLOADED="UNLOADED",t.UNLOADING="UNLOADING"}(t||(t={}));var n="click",o="role",e="style",r="cursor:-webkit-zoom-in;cursor:zoom-in;",i=function(t,n,o){return"cursor:-webkit-zoom-out;cursor:zoom-out;position:fixed;top:0;right:0;bottom:0;left:0;width:100%;height:100%;-webkit-transition-property:background-color;-o-transition-property:background-color;transition-property:background-color;background-color:"+t+";transition-duration:"+n+";z-index:"+o+";"},a="visibility:hidden;",d="cursor:-webkit-zoom-out;cursor:zoom-out;position:absolute;-webkit-transition-property:-webkit-transform;transition-property:-webkit-transform;-o-transition-property:transform;transition-property:transform;transition-property:transform,-webkit-transform;-webkit-transform-origin:center center;-ms-transform-origin:center center;transform-origin:center center;",u=d+a,c=function(t,n,o,e,r,i){return d+"height:"+t+"px;width:"+n+"px;left:"+o+"px;top:"+e+"px;-webkit-transform:"+r+";transform:"+r+";-webkit-transition-duration:"+i+";transition-duration:"+i+";"},l=function(t,n){var o=(t||"").trim(),e=";"===o.slice(-1)?"":";";return[o,n].join(e)},s=function(n,o,e,r,i){if(!e)return c(0,0,0,0,"none","0ms");var a=e.getBoundingClientRect(),d=a.height,u=a.left,l=a.top,s=a.width,f=e.style.transform;if(i!==t.LOADED)return c(d,s,u,l,"scale(1) translate(0,0)"+(f?" "+f:""),n);var m=e,p=m.naturalHeight,y=m.naturalWidth,g=r&&p&&y?b(d,s,o,p,y):v(d,s,o),w=window.innerWidth/2,D=window.innerHeight/2;return c(d,s,u,l,"scale("+g+") translate("+(w-(u+s/2))/g+"px,"+(D-(l+d/2))/g+"px)"+(f?" "+f:""),n)},f=function(t){return"Enter"===t.key||13===t.keyCode||"Space"===t.key||32===t.keyCode},m=function(t){return"Escape"===t.key||27===t.keyCode},p=function(t){return void 0===t&&(t=""),t.concat(Math.random().toString(16).slice(-4))},v=function(t,n,o){var e=window.innerWidth/(n+o),r=window.innerHeight/(t+o);return Math.min(e,r)},b=function(t,n,o,e,r){var i=v(e,r,o),a=r>e?r/n:e/t;return i>1?a:i*a},y=/\.svg$/i,g=function(t,n){return n.appendChild(t)},w=function(t,n){return n.removeChild(t)},D=function(){return document.createElement("div")},E=function(t,n){var o=D();return A("id",t,o),A("data-rmiz-desc","",o),A(e,"display:none;",o),O(n,o),o},h=function(t){t.focus({preventScroll:!0})},L=function(t,n,o){o.addEventListener(t,n)},k=function(t,n,o){o.removeEventListener(t,n)},x=function(t,n){return n.getAttribute(t)},z=function(t,n){return n.removeAttribute(t)},A=function(t,n,o){return o.setAttribute(t,n)},O=function(t,n){return n.textContent=t};return function(c,T){var N,C,U,M,H,B,S=void 0===c?{}:c,I=S.closeText,Z=void 0===I?"Press to unzoom image":I,F=S.isControlled,W=void 0!==F&&F,P=S.modalText,G=void 0===P?"Zoomed item":P,j=S.onZoomChange,q=S.openText,R=void 0===q?"Press to zoom image":q,$=S.overlayBgColorEnd,J=void 0===$?"rgba(255,255,255,0.95)":$,K=S.overlayBgColorStart,Q=void 0===K?"rgba(255,255,255,0)":K,V=S.portalEl,X=S.scrollableEl,Y=S.transitionDuration,_=void 0===Y?"300ms":Y,tt=S.zoomMargin,nt=void 0===tt?0:tt,ot=S.zoomZindex,et=void 0===ot?2147483647:ot,rt=p("rmiz-close-"),it=p("rmiz-open-"),at=x("aria-describedby",T),dt=x(o,T),ut=x(e,T),ct=x("tabindex",T),lt="IMG"===T.tagName,st=!(lt&&y.test(T.currentSrc))&&lt,ft=document.body,mt=V||ft,pt=X||window,vt=t.UNLOADED,bt=function(){(B=window.matchMedia("(prefers-reduced-motion:reduce)")).addListener(Lt)},yt=function(){U=E(it,R),N=E(rt,Z),g(U,ft),g(N,ft)},gt=function(){if(T&&vt===t.UNLOADED){var i=T.getBoundingClientRect(),a=i.height,d=i.width,u=T,c=u.naturalHeight,s=u.naturalWidth;(st&&c&&s?b(a,d,nt,c,s):v(a,d,nt))>1?(A("aria-describedby",it,T),A(o,"button",T),A("tabindex",ct||"0",T),A(e,l(ut,r),T),L(n,kt,T),L("keydown",zt,T)):Dt()}},wt=function(){var t=document.getElementById(it),n=document.getElementById(rt);t&&w(t,ft),n&&w(n,ft)},Dt=function(){T&&(k("keydown",zt,T),k(n,kt,T),ct?A("tabindex",ct,T):z("tabindex",T),ut?A(e,ut,T):z(e,T),dt?A(o,dt,T):z(o,T),at?A("aria-describedby",at,T):z("aria-describedby",T))},Et=function(){var t=st?H:M;t&&(k("transitionend",Ct,t),k("transitionend",Tt,t),k(n,xt,t),k("keydown",At,t),k("load",Nt,t),C&&C.firstChild===t&&w(t,C)),H=void 0,M=void 0,k("scroll",Mt,pt),k("keydown",Ht,document)},ht=function(){C&&(k(n,Ut,C),w(C,mt),C=void 0)},Lt=function(){_="0ms"},kt=function(t){t.preventDefault(),j&&j(!0),W||It()},xt=function(t){t.preventDefault(),j&&j(!1),W||Pt()},zt=function(t){f(t)&&(t.preventDefault(),j&&j(!0),W||It())},At=function(t){f(t)&&(t.preventDefault(),j&&j(!1),W||Pt())},Ot=function(){vt===t.LOADED?window.requestAnimationFrame((function(){return St(!0)})):gt()},Tt=function(){var t=H||M;t&&h(t)},Nt=function(){T&&A(e,l(ut,a),T),C&&(C.style.backgroundColor=J),H&&(k("load",Nt,H),L("transitionend",Tt,H),A(e,d,H)),M&&(L("transitionend",Tt,M),A(e,d,M)),Bt(t.LOADED)},Ct=function(){T&&(A(e,l(ut,r),T),window.setTimeout((function(){Et(),ht(),h(T),Bt(t.UNLOADED)}),0))},Ut=function(){j&&j(!1),W||Pt()},Mt=function(){window.requestAnimationFrame((function(){return j?j(!1):W?void 0:Pt()}))},Ht=function(t){m(t)&&(t.stopPropagation(),j&&j(!1),W||Pt())},Bt=function(t){vt=t,St()},St=function(t){if(void 0===t&&(t=!1),T){var n=st?H:M;n&&A(e,s(t?"0ms":_,nt,T,st,vt),n)}},It=function(){st?Zt():Ft()},Zt=function(){if(T&&vt===t.UNLOADED){var r=T.alt,i=x("aria-label",T),a=x("aria-labelledby",T),d=T.sizes,c=T.src,l=T.srcset;H=new Image,L("load",Nt,H),L(n,xt,H),L("keydown",At,H),A("aria-describedby",rt,H),A("data-rmiz-zoomed","",H),A(o,"button",H),A(e,u,H),A("tabindex","0",H),r&&(H.alt=r),c&&(H.src=c),l&&(H.srcset=l),d&&(H.sizes=d),i&&A("aria-label",i,H),a&&A("aria-labelledby",a,H),C=Wt(),g(H,C),g(C,mt),L("keydown",Ht,document),L("scroll",Mt,pt)}},Ft=function(){if(T&&vt===t.UNLOADED){M=D(),L(n,xt,M),L("keydown",At,M),A("aria-describedby",rt,M),A("data-rmiz-zoomed","",M),A("id","abc",M),A(o,"button",M),A(e,u,M),A("tabindex","0",M);var r=T.cloneNode(!0);z("id",r),z("tabindex",r),dt?A(o,dt,r):z(o,r),at?A("aria-describedby",at,r):z("aria-describedby",r),L(n,xt,M),g(r,M),C=Wt(),g(M,C),g(C,mt),L("keydown",Ht,document),L("scroll",Mt,pt),Nt()}},Wt=function(){var t=D();return A("aria-label",G,t),A("aria-modal","true",t),A("data-rmiz-overlay","",t),A(o,"dialog",t),A(e,i(Q,_,String(et)),t),L(n,Ut,t),t},Pt=function(){if(vt===t.LOADED){var n=st?H:M;n&&(n.blur(),L("transitionend",Ct,n)),C&&(C.style.backgroundColor=Q)}vt!==t.UNLOADED&&Bt(t.UNLOADING)};return L("resize",Ot,window),bt(),yt(),st&&!T.complete?T.addEventListener("load",(function(){window.setTimeout((function(){gt()}),500)})):gt(),{cleanup:function(){Et(),Dt(),ht(),wt(),st&&T&&k("load",gt,T),B&&(B.removeListener(Lt),B=void 0),k("resize",Ot,window)},update:function(n){void 0===n&&(n={}),n.modalText&&(G=n.modalText),n.overlayBgColorEnd&&(J=n.overlayBgColorEnd),n.overlayBgColorStart&&(Q=n.overlayBgColorStart),n.transitionDuration&&(_=n.transitionDuration),n.zoomMargin&&(nt=n.zoomMargin),n.zoomZindex&&(et=n.zoomZindex),n.closeText&&(Z=n.closeText,N&&O(Z,N)),n.openText&&(R=n.openText,U&&O(R,U)),vt===t.UNLOADED&&(n.portalEl&&(mt=n.portalEl),n.scrollableEl&&(pt=n.scrollableEl)),St(),vt===t.UNLOADED&&n.isZoomed?It():vt===t.LOADED&&!1===n.isZoomed&&Pt()}}}}();
