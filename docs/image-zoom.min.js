var ImageZoom=function(){"use strict";var t;!function(){if("undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof HTMLElement){var t=!1;try{var o=document.createElement("div");o.addEventListener("focus",(function(t){t.preventDefault(),t.stopPropagation()}),!0),o.focus(Object.defineProperty({},"preventScroll",{get:function(){t=!0}}))}catch(t){}if(void 0===HTMLElement.prototype.nativeFocus&&!t){HTMLElement.prototype.nativeFocus=HTMLElement.prototype.focus;var n=function(t){for(var o=0;o<t.length;o++)t[o][0].scrollTop=t[o][1],t[o][0].scrollLeft=t[o][2];t=[]};HTMLElement.prototype.focus=function(t){if(t&&t.preventScroll){var o=function(t){for(var o=t.parentNode,n=[],e=document.scrollingElement||document.documentElement;o&&o!==e;)(o.offsetHeight<o.scrollHeight||o.offsetWidth<o.scrollWidth)&&n.push([o,o.scrollTop,o.scrollLeft]),o=o.parentNode;return o=e,n.push([o,o.scrollTop,o.scrollLeft]),n}(this);this.nativeFocus(),"function"==typeof setTimeout?setTimeout((function(){n(o)}),0):n(o)}else this.nativeFocus()}}}}(),function(t){t.LOADED="LOADED",t.UNLOADED="UNLOADED",t.UNLOADING="UNLOADING"}(t||(t={}));var o="div",n="style",e="position:relative;display:inline-flex;align-items:flex-start;",i=e+"width:100%;",r="position:absolute;top:0;right:0;bottom:0;left:0;background:none;border:none;margin:0;padding:0;touch-action:manipulation;-webkit-appearance:none;-moz-appearance:none;appearance:none;",a=r+"cursor:-webkit-zoom-in;cursor:zoom-in;",c=r+"cursor:-webkit-zoom-out;cursor:zoom-out;z-index:1;",l="position:absolute;-webkit-transition-property:-webkit-transform;transition-property:-webkit-transform;-o-transition-property:transform;transition-property:transform;transition-property:transform,-webkit-transform;-webkit-transform-origin:center center;-ms-transform-origin:center center;transform-origin:center center;",d=l+"visibility:hidden;",u="height:100%;max-width:100%;",s=function(t,o,n){return"position:fixed;top:0;right:0;bottom:0;left:0;width:100%;height:100%;-webkit-transition-property:background-color;-o-transition-property:background-color;transition-property:background-color;background-color:"+t+";transition-duration:"+o+";transition-timing-function:cubic-bezier(0.2,0,0.2,1);z-index:"+n+";"},f=function(t,o,n,e,i,r){return l+"height:"+t+"px;width:"+o+"px;left:"+n+"px;top:"+e+"px;-webkit-transform:"+i+";transform:"+i+";-webkit-transition-duration:"+r+";transition-duration:"+r+";transition-timing-function:ease;"},m=function(o,n,e,i,r,a){if(!e)return f(0,0,0,0,"none","0ms");var c=e.getBoundingClientRect(),l=c.height,d=c.left,u=c.top,s=c.width,m=i.style.transform;if(a!==t.LOADED)return f(l,s,d,u,"scale(1) translate(0,0)"+(m?" "+m:""),o);var p=i,g=p.naturalHeight,h=p.naturalWidth,w=r&&g&&h?b(l,s,n,g,h):v(l,s,n),y=window.innerWidth/2,D=window.innerHeight/2;return f(l,s,d,u,"scale("+w+") translate("+(y-(d+s/2))/w+"px,"+(D-(u+l/2))/w+"px)"+(m?" "+m:""),o)},p=function(t){return"Escape"===t.key||27===t.keyCode},v=function(t,o,n){var e=window.innerWidth/(o+n),i=window.innerHeight/(t+n);return Math.min(e,i)},b=function(t,o,n,e,i){var r=v(e,i,n),a=i>e?i/o:e/t;return r>1?a:r*a},g=/\.svg$/i,h=function(t,o){return o.appendChild(t)},w=function(t,o){t&&o&&o.removeChild(t)},y=function(t){return document.createElement(t)},D=function(t){t&&t.blur()},E=function(t){t&&t.focus({preventScroll:!0})},L=function(t,o){for(var n,e=(null===(n=o.parentNode)||void 0===n?void 0:n.children)||[],i=0;i<e.length;i++){var r=e[i];if(!r)return;var a=r.tagName;if("SCRIPT"===a||"NOSCRIPT"===a||"STYLE"===a||r===o)return;t(r)}},k=function(t,o,n){t&&o&&n&&t.replaceChild(n,o)},x=function(t,o,n,e){void 0===e&&(e=!1),n.addEventListener(t,o,e)},A=function(t,o,n,e){void 0===e&&(e=!1),n.removeEventListener(t,o,e)},N=function(t,o){return o.getAttribute(t)},z=function(t,o){return o.removeAttribute(t)},T=function(t,o,n){return n.setAttribute(t,o)};return function(r,f){var O,C,U,S,H,M,Z,B,I,W,P,F=void 0===r?{}:r,G=F.closeText,R=void 0===G?"Unzoom image":G,j=F.isControlled,Y=void 0!==j&&j,$=F.modalText,q=void 0===$?"Zoomed item":$,J=F.onZoomChange,K=F.openText,Q=void 0===K?"Zoom image":K,V=F.overlayBgColorEnd,X=void 0===V?"rgba(255,255,255,0.95)":V,_=F.overlayBgColorStart,tt=void 0===_?"rgba(255,255,255,0)":_,ot=F.scrollableEl,nt=F.transitionDuration,et=void 0===nt?"300ms":nt,it=F.zoomMargin,rt=void 0===it?0:it,at=F.zoomZindex,ct=void 0===at?2147483647:at,lt=N("role",f),dt="block"===window.getComputedStyle(f).display,ut="IMG"===f.tagName,st=!(ut&&g.test(f.currentSrc))&&ut,ft=document.body,mt=[],pt=ot||window,vt=t.UNLOADED,bt=function(){(H=window.matchMedia("(prefers-reduced-motion:reduce)")).addListener(gt)},gt=function(){et="0ms"},ht=function(){if(f&&vt===t.UNLOADED){var r=f.getBoundingClientRect(),c=r.height,l=r.width,d=f,u=d.naturalHeight,s=d.naturalWidth;(st&&u&&s?b(c,l,rt,u,s):v(c,l,rt))>1?Z||(Z=f.cloneNode(!0),B=y(o),M=y("button"),T("data-rmiz-wrap","",B),T(n,dt?i:e,B),T("aria-label",Q,M),T(n,a,M),x("click",Dt,M),h(Z,B),h(M,B),k(f.parentNode,f,B)):(yt(),wt())}},wt=function(){M&&A("click",Dt,M),k(null==B?void 0:B.parentNode,B,f),M=void 0,B=void 0,Z=void 0},yt=function(){A("scroll",Tt,pt),A("keydown",Ot,document),P&&A("load",At,P),I&&(A("transitionend",Nt,I),A("transitionend",xt,I)),O&&A("click",Et,O),C&&A("focus",Lt,C),U&&A("focus",Lt,U),S&&(A("click",zt,S),w(S,ft)),O=void 0,C=void 0,U=void 0,P=void 0,W=void 0,I=void 0,S=void 0},Dt=function(t){t.preventDefault(),J&&J(!0),Y||St()},Et=function(t){t.preventDefault(),J&&J(!1),Y||It()},Lt=function(){E(O)},kt=function(){vt===t.LOADED?Ut(!0):ht()},xt=function(){E(O)},At=function(){Z&&(Z.style.visibility="hidden"),S&&(S.style.backgroundColor=X),P&&A("load",At,P),I&&(x("transitionend",xt,I),T(n,l,I)),W&&(x("transitionend",xt,W),T(n,l,W)),Ct(t.LOADED)},Nt=function(){window.setTimeout((function(){Z&&(Z.style.visibility=""),yt(),E(M),Ct(t.UNLOADED)}),0)},zt=function(){J&&J(!1),Y||It()},Tt=function(){J&&J(!1),Y||It()},Ot=function(t){p(t)&&(t.stopPropagation(),J&&J(!1),Y||It())},Ct=function(t){vt=t,Ut()},Ut=function(t){void 0===t&&(t=!1),Z&&I&&T(n,m(t?"0ms":et,rt,B,Z,st,vt),I)},St=function(){st?Ht():Mt(),D(M),Bt()},Ht=function(){if(Z&&vt===t.UNLOADED){var e=Z.alt,i=N("aria-label",Z),r=N("aria-labelledby",Z),a=Z.sizes,l=Z.src,s=Z.srcset;I=y(o),T(n,d,I),C=y(o),T("tabindex","0",C),x("focus",Lt,C),U=y(o),T("tabindex","0",U),x("focus",Lt,U),O=y("button"),T(n,c,O),T("aria-label",R,O),x("click",Et,O),P=new Image,x("load",At,P),T("data-rmiz-zoomed","",P),T(n,u,P),e&&(P.alt=e),l&&(P.src=l),s&&(P.srcset=s),a&&(P.sizes=a),i&&T("aria-label",i,P),r&&T("aria-labelledby",r,P),h(P,I),S=Zt(),h(C,S),h(O,S),h(I,S),h(U,S),h(S,ft),x("keydown",Ot,document),x("scroll",Tt,pt)}},Mt=function(){if(f&&vt===t.UNLOADED){C=y(o),T("tabindex","0",C),x("focus",Lt,C),U=y(o),T("tabindex","0",U),x("focus",Lt,U),O=y("button"),T(n,c,O),T("aria-label",R,O),x("click",Et,O),I=y(o),T("data-rmiz-zoomed","",I),T(n,d,I);var e=f.cloneNode(!0);z("id",e),z("tabindex",e),lt?T("role",lt,e):z("role",e),h(e,I),S=Zt(),h(C,S),h(O,S),h(I,S),h(U,S),h(S,ft),x("keydown",Ot,document),x("scroll",Tt,pt),At()}},Zt=function(){var t=y(o);return T("aria-label",q,t),T("aria-modal","true",t),T("data-rmiz-overlay","",t),T("role","dialog",t),T(n,s(tt,et,String(ct)),t),x("click",zt,t),t},Bt=function(){L((function(t){var o=t.getAttribute("aria-hidden");o&&mt.push([t,o]),t.setAttribute("aria-hidden","true")}),ft)},It=function(){vt===t.LOADED&&(D(O),I&&x("transitionend",Nt,I),S&&(S.style.backgroundColor=tt)),vt!==t.UNLOADED&&Ct(t.UNLOADING),L((function(t){t.removeAttribute("aria-hidden")}),ft),mt.forEach((function(t){var o=t[0],n=t[1];null==o||o.setAttribute("aria-hidden",n)})),mt=[]};return x("resize",kt,window),bt(),st&&!f.complete?f.addEventListener("load",(function(){window.setTimeout((function(){ht()}),500)})):ht(),{cleanup:function(){yt(),st&&f&&A("load",ht,f),wt(),null==H||H.removeListener(gt),H=void 0,A("resize",kt,window)},update:function(o){void 0===o&&(o={}),o.closeText&&(R=o.closeText),o.modalText&&(q=o.modalText),o.openText&&(Q=o.openText),o.overlayBgColorEnd&&(X=o.overlayBgColorEnd),o.overlayBgColorStart&&(tt=o.overlayBgColorStart),o.transitionDuration&&(et=o.transitionDuration),o.zoomMargin&&(rt=o.zoomMargin),o.zoomZindex&&(ct=o.zoomZindex),vt===t.UNLOADED&&o.scrollableEl&&(pt=o.scrollableEl),Ut(),vt===t.UNLOADED&&o.isZoomed?St():vt===t.LOADED&&!1===o.isZoomed&&It()}}}}();
