var ImageZoom=function(){"use strict";var t;!function(){if("undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof HTMLElement){var t=!1;try{var n=document.createElement("div");n.addEventListener("focus",(function(t){t.preventDefault(),t.stopPropagation()}),!0),n.focus(Object.defineProperty({},"preventScroll",{get:function(){t=!0}}))}catch(t){}if(void 0===HTMLElement.prototype.nativeFocus&&!t){HTMLElement.prototype.nativeFocus=HTMLElement.prototype.focus;var o=function(t){for(var n=0;n<t.length;n++)t[n][0].scrollTop=t[n][1],t[n][0].scrollLeft=t[n][2];t=[]};HTMLElement.prototype.focus=function(t){if(t&&t.preventScroll){var n=function(t){for(var n=t.parentNode,o=[],i=document.scrollingElement||document.documentElement;n&&n!==i;)(n.offsetHeight<n.scrollHeight||n.offsetWidth<n.scrollWidth)&&o.push([n,n.scrollTop,n.scrollLeft]),n=n.parentNode;return n=i,o.push([n,n.scrollTop,n.scrollLeft]),o}(this);this.nativeFocus(),"function"==typeof setTimeout?setTimeout((function(){o(n)}),0):o(n)}else this.nativeFocus()}}}}(),function(t){t.LOADED="LOADED",t.UNLOADED="UNLOADED",t.UNLOADING="UNLOADING"}(t||(t={}));var n="div",o="none",i="style",e="position:absolute;",r="position:relative;display:block;",a="position:relative;display:inline-block;vertical-align:top;",u=e+"top:0;right:0;bottom:0;left:0;height:100%;width:100%;background:none;border:none;margin:0;padding:0;"+"touch-action:manipulation;-webkit-appearance:none;-moz-appearance:none;appearance:none;",c=u+"cursor:pointer;cursor:-webkit-zoom-in;cursor:zoom-in;",d=u+"cursor:pointer;cursor:-webkit-zoom-out;cursor:zoom-out;z-index:1;",l=e+"visibility:hidden;",f="display:block;height:100%;max-width:100%;",s=function(t,n){return e+"top:0;right:0;bottom:0;left:0;transition:background "+(n?n/3:n)+"ms cubic-bezier(.42,0,.58,1);;background:"+t+";"},v=function(t){return"position:fixed;top:0;right:0;bottom:0;left:0;width:100%;height:100%;z-index:"+t+";"},m=function(t,n,o,i,r,a){return e+"height:"+t+"px;width:"+n+"px;left:"+o+"px;top:"+i+"px;transition:transform "+a+"ms cubic-bezier(.42,0,.58,1);;-webkit-transform:"+r+";-ms-transform:"+r+";transform:"+r+";"},p=function(n,i,e,r,a,u){if(!e)return m(0,0,0,0,o,0);var c=e.getBoundingClientRect(),d=c.height,l=c.left,f=c.top,s=c.width,v=U("transform",r);if(u!==t.LOADED)return m(d,s,l,f,"scale(1) translate(0,0)"+(v?" "+v:""),n);var p=r,h=p.naturalHeight,D=p.naturalWidth,y=a&&h&&D?b(d,s,i,h,D):g(d,s,i),w=window.innerWidth/2,E=window.innerHeight/2;return m(d,s,l,f,"scale("+y+") translate("+(w-(l+s/2))/y+"px,"+(E-(f+d/2))/y+"px)"+(v?" "+v:""),n)},h=function(t){return"Escape"===t.key||27===t.keyCode},g=function(t,n,o){var i=window.innerWidth/(n+o),e=window.innerHeight/(t+o);return Math.min(i,e)},b=function(t,n,o,i,e){var r=g(i,e,o),a=e>i?e/n:i/t;return r>1?a:r*a},D=/\.svg$/i,y=function(t,n){return n.appendChild(t)},w=function(t,n){t&&n&&n.removeChild(t)},E=function(t){return document.createElement(t)},L=function(t,n){return n.cloneNode(t)},x=function(t){null==t||t.blur()},N=function(t){t&&t.focus({preventScroll:!0})},k=function(t,n){for(var o,i=(null===(o=n.parentNode)||void 0===o?void 0:o.children)||[],e=0;e<i.length;e++){var r=i[e];if(!r)return;var a=r.tagName;"SCRIPT"!==a&&"NOSCRIPT"!==a&&"STYLE"!==a&&r!==n&&t(r)}},A=function(t,n,o,i){void 0===i&&(i=!1),o.addEventListener(t,n,i)},T=function(t,n,o,i){void 0===i&&(i=!1),o.removeEventListener(t,n,i)},z=function(t,n){return n.getAttribute(t)},O=function(t,n){n.removeAttribute(t)},C=function(t,n,o){return o.setAttribute(t,n)},S=function(t){return t.style},U=function(t,n){return S(n)[t]},H=function(t,n,o){S(o)[t]=n},M=function(t){return window.getComputedStyle(t)};return function(u,m){var S,W,B,Z,I,P,F,G,R,j,Y,$,q=void 0===u?{}:u,J=q.closeText,K=void 0===J?"Unzoom image":J,Q=q.isControlled,V=void 0!==Q&&Q,X=q.modalText,_=void 0===X?"Zoomed item":X,tt=q.onZoomChange,nt=q.openText,ot=void 0===nt?"Zoom image":nt,it=q.overlayBgColorEnd,et=void 0===it?"rgba(255,255,255,0.95)":it,rt=q.overlayBgColorStart,at=void 0===rt?"rgba(255,255,255,0)":rt,ut=q.transitionDuration,ct=void 0===ut?300:ut,dt=q.zoomMargin,lt=void 0===dt?0:dt,ft=q.zoomZindex,st=void 0===ft?2147483647:ft,vt="IMG"===m.tagName,mt=!(vt&&D.test(m.currentSrc))&&vt,pt=document.body,ht=window,gt=[],bt=t.UNLOADED,Dt=ct,yt="",wt="",Et="",Lt=function(){A("resize",Zt,window),Nt(),mt&&!m.complete?A("load",At,m):At()},xt=function(){null==F||F.disconnect(),F=void 0},Nt=function(){(P=window.matchMedia("(prefers-reduced-motion:reduce)")).addListener(kt)},kt=function(){Dt=0},At=function(){if(m&&bt===t.UNLOADED){var n=m.getBoundingClientRect(),i=n.height,e=n.width,r=m,a=r.naturalHeight,u=r.naturalWidth;if((mt&&a&&u?b(i,e,lt,a,u):g(i,e,lt))>1){if(!j){var c=getComputedStyle(m);wt=c.display,Et=c.maxWidth,yt=U("display",m),j=Tt(),Y=zt(),G=Ot(),H("margin",M(m).margin,Y),H("margin","0",j),y(j,Y),y(G,Y),m.parentNode&&(H("display",o,m),m.parentNode.insertBefore(Y,m)),(F=new MutationObserver((function(){Ct(),Lt()}))).observe(m,{attributes:!0,characterData:!0,childList:!0,subtree:!0})}}else Ht(),xt(),St(),Ut()}},Tt=function(){var t=L(!0,m);return O("tabindex",t),H("maxWidth",o,t),H("maxHeight",o,t),(mt||"block"!==wt)&&(H("display","block",t),H("minWidth","40px",t),H("maxWidth",Et&&Et!==o?Et:"100%",t)),t},zt=function(){var t=E(n),o="block"===wt?r:a;return C("data-rmiz-wrap","",t),C(i,o,t),t},Ot=function(){var t=E("button");return C("aria-label",ot,t),C(i,c,t),C("type","button",t),A("click",Mt,t),t},Ct=function(){Ht(),xt(),St(),Ut(),null==P||P.removeListener(kt),P=void 0,T("resize",Zt,window)},St=function(){mt&&m&&T("load",At,m)},Ut=function(){G&&T("click",Mt,G),w(Y,null==Y?void 0:Y.parentNode),H("display",yt,m),G=void 0,Y=void 0,j=void 0},Ht=function(){T("scroll",Rt,ht),T("keydown",jt,document),S&&T("load",Pt,S),$&&(T("transitionend",Ft,$),T("transitionend",It,$)),W&&T("click",Wt,W),B&&T("focus",Bt,B),Z&&T("focus",Bt,Z),I&&(T("click",Gt,I),w(I,pt)),S=void 0,W=void 0,B=void 0,Z=void 0,$=void 0,R=void 0,I=void 0},Mt=function(t){t.preventDefault(),tt&&tt(!0),V||qt()},Wt=function(t){t.preventDefault(),tt&&tt(!1),V||Xt()},Bt=function(){N(W)},Zt=function(){bt===t.LOADED?$t(!0):At()},It=function(){N(W)},Pt=function(){j&&H("visibility","hidden",j),R&&C(i,s(et,Dt),R),$&&(A("transitionend",It,$),C(i,e,$)),Yt(t.LOADED),Vt()},Ft=function(){window.setTimeout((function(){j&&H("visibility","",j),Ht(),Yt(t.UNLOADED),N(G)}),0)},Gt=function(){tt&&tt(!1),V||Xt()},Rt=function(){tt&&tt(!1),V||Xt()},jt=function(t){h(t)&&(t.stopPropagation(),tt&&tt(!1),V||Xt())},Yt=function(t){bt=t,$t()},$t=function(t){void 0===t&&(t=!1),j&&$&&C(i,p(t?0:Dt,lt,Y,j,mt,bt),$)},qt=function(){mt?Jt():Kt(),x(G)},Jt=function(){j&&bt===t.UNLOADED&&(S=L(!0,j),A("load",Pt,S),O("id",S),O("class",S),C(i,f,S),I=Qt(S),y(I,pt),A("keydown",jt,document),A("scroll",Rt,ht))},Kt=function(){if(j&&bt===t.UNLOADED){var n=L(!0,j);O("id",n),I=Qt(n),y(I,pt),A("keydown",jt,document),A("scroll",Rt,ht),Pt()}},Qt=function(t){var o=E(n);return C("aria-label",_,o),C("aria-modal","true",o),C("data-rmiz-overlay","",o),C("role","dialog",o),C(i,v(String(st)),o),A("click",Gt,o),R=E(n),C(i,s(at,Dt),R),B=E(n),C("tabindex","0",B),A("focus",Bt,B),Z=E(n),C("tabindex","0",Z),A("focus",Bt,Z),W=E("button"),C("aria-label",K,W),C(i,d,W),C("type","button",o),A("click",Wt,W),$=E(n),C("data-rmiz-zoomed","",$),C(i,l,$),y(t,$),y(R,o),y(B,o),y(W,o),y($,o),y(Z,o),o},Vt=function(){I&&k((function(t){var n=z("aria-hidden",t);n&&gt.push([t,n]),t.setAttribute("aria-hidden","true")}),I)},Xt=function(){bt===t.LOADED&&(x(W),I&&k((function(t){O("aria-hidden",t)}),I),gt.forEach((function(t){var n=t[0],o=t[1];n&&C("aria-hidden",o,n)})),gt=[],$&&A("transitionend",Ft,$),R&&C(i,s(at,Dt),R)),bt!==t.UNLOADED&&Yt(t.UNLOADING)};return Lt(),{cleanup:Ct,update:function(n){void 0===n&&(n={}),n.closeText&&(K=n.closeText),n.modalText&&(_=n.modalText),n.openText&&(ot=n.openText),n.overlayBgColorEnd&&(et=n.overlayBgColorEnd),n.overlayBgColorStart&&(at=n.overlayBgColorStart),n.transitionDuration&&(Dt=n.transitionDuration),n.zoomMargin&&(lt=n.zoomMargin),n.zoomZindex&&(st=n.zoomZindex),$t(),bt===t.UNLOADED&&n.isZoomed?qt():bt===t.LOADED&&!1===n.isZoomed&&Xt()}}}}();
