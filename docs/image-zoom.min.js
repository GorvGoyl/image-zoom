var ImageZoom=function(){"use strict";var n;!function(){if("undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof HTMLElement){var n=!1;try{var t=document.createElement("div");t.addEventListener("focus",(function(n){n.preventDefault(),n.stopPropagation()}),!0),t.focus(Object.defineProperty({},"preventScroll",{get:function(){n=!0}}))}catch(n){}if(void 0===HTMLElement.prototype.nativeFocus&&!n){HTMLElement.prototype.nativeFocus=HTMLElement.prototype.focus;var o=function(n){for(var t=0;t<n.length;t++)n[t][0].scrollTop=n[t][1],n[t][0].scrollLeft=n[t][2];n=[]};HTMLElement.prototype.focus=function(n){if(n&&n.preventScroll){var t=function(n){for(var t=n.parentNode,o=[],e=document.scrollingElement||document.documentElement;t&&t!==e;)(t.offsetHeight<t.scrollHeight||t.offsetWidth<t.scrollWidth)&&o.push([t,t.scrollTop,t.scrollLeft]),t=t.parentNode;return t=e,o.push([t,t.scrollTop,t.scrollLeft]),o}(this);this.nativeFocus(),"function"==typeof setTimeout?setTimeout((function(){o(t)}),0):o(t)}else this.nativeFocus()}}}}(),function(n){n.LOADED="LOADED",n.UNLOADED="UNLOADED",n.UNLOADING="UNLOADING"}(n||(n={}));var t="div",o="none",e="style",i="position:absolute;",r="position:relative;display:inline-block;vertical-align:top;",a="position:relative;display:block;",u=i+"top:0;right:0;bottom:0;left:0;height:100%;width:100%;background:none;border:none;margin:0;padding:0;"+"touch-action:manipulation;-webkit-appearance:none;-moz-appearance:none;appearance:none;",c=u+"cursor:-webkit-zoom-in;cursor:zoom-in;",d=u+"cursor:-webkit-zoom-out;cursor:zoom-out;z-index:1;",l=i+"visibility:hidden;",f="display:block;height:100%;max-width:100%;",s=function(n,t){return i+"top:0;right:0;bottom:0;left:0;transition:background "+(t?t/3:t)+"ms cubic-bezier(.42,0,.58,1);;background:"+n+";"},v=function(n){return"position:fixed;top:0;right:0;bottom:0;left:0;width:100%;height:100%;z-index:"+n+";"},m=function(n,t,o,e,r,a){return i+"height:"+n+"px;width:"+t+"px;left:"+o+"px;top:"+e+"px;transition:transform "+a+"ms cubic-bezier(.42,0,.58,1);;-webkit-transform:"+r+";-ms-transform:"+r+";transform:"+r+";"},p=function(t,e,i,r,a,u){if(!i)return m(0,0,0,0,o,0);var c=i.getBoundingClientRect(),d=c.height,l=c.left,f=c.top,s=c.width,v=S("transform",r);if(u!==n.LOADED)return m(d,s,l,f,"scale(1) translate(0,0)"+(v?" "+v:""),t);var p=r,h=p.naturalHeight,D=p.naturalWidth,y=a&&h&&D?b(d,s,e,h,D):g(d,s,e),w=window.innerWidth/2,E=window.innerHeight/2;return m(d,s,l,f,"scale("+y+") translate("+(w-(l+s/2))/y+"px,"+(E-(f+d/2))/y+"px)"+(v?" "+v:""),t)},h=function(n){return"Escape"===n.key||27===n.keyCode},g=function(n,t,o){var e=window.innerWidth/(t+o),i=window.innerHeight/(n+o);return Math.min(e,i)},b=function(n,t,o,e,i){var r=g(e,i,o),a=i>e?i/t:e/n;return r>1?a:r*a},D=/\.svg$/i,y=function(n,t){return t.appendChild(n)},w=function(n,t){n&&t&&t.removeChild(n)},E=function(n){return document.createElement(n)},L=function(n,t){return t.cloneNode(n)},x=function(n){null==n||n.blur()},N=function(n){n&&n.focus({preventScroll:!0})},k=function(n,t){for(var o,e=(null===(o=t.parentNode)||void 0===o?void 0:o.children)||[],i=0;i<e.length;i++){var r=e[i];if(!r)return;var a=r.tagName;if("SCRIPT"===a||"NOSCRIPT"===a||"STYLE"===a||r===t)return;n(r)}},A=function(n,t,o,e){void 0===e&&(e=!1),o.addEventListener(n,t,e)},T=function(n,t,o,e){void 0===e&&(e=!1),o.removeEventListener(n,t,e)},z=function(n,t){t.removeAttribute(n)},O=function(n,t,o){return o.setAttribute(n,t)},C=function(n){return n.style},S=function(n,t){return C(t)[n]},U=function(n,t,o){C(o)[n]=t},M=function(n){return window.getComputedStyle(n)};return function(u,m){var C,S,H,B,Z,W,I,P,F,G,R,j=void 0===u?{}:u,Y=j.closeText,$=void 0===Y?"Unzoom image":Y,q=j.isControlled,J=void 0!==q&&q,K=j.modalText,Q=void 0===K?"Zoomed item":K,V=j.onZoomChange,X=j.openText,_=void 0===X?"Zoom image":X,nn=j.overlayBgColorEnd,tn=void 0===nn?"rgba(255,255,255,0.95)":nn,on=j.overlayBgColorStart,en=void 0===on?"rgba(255,255,255,0)":on,rn=j.transitionDuration,an=void 0===rn?300:rn,un=j.zoomMargin,cn=void 0===un?0:un,dn=j.zoomZindex,ln=void 0===dn?2147483647:dn,fn="IMG"===m.tagName,sn=!(fn&&D.test(m.currentSrc))&&fn,vn=document.body,mn=window,pn=[],hn=n.UNLOADED,gn=an,bn="",Dn="",yn=function(){A("resize",Hn,window),En(),sn&&!m.complete?A("load",xn,m):xn()},wn=function(){null==W||W.disconnect(),W=void 0},En=function(){(Z=window.matchMedia("(prefers-reduced-motion:reduce)")).addListener(Ln)},Ln=function(){gn=0},xn=function(){if(m&&hn===n.UNLOADED){var t=m.getBoundingClientRect(),e=t.height,i=t.width,r=m,a=r.naturalHeight,u=r.naturalWidth;(sn&&a&&u?b(e,i,cn,a,u):g(e,i,cn))>1?F||(bn=getComputedStyle(m).display,Dn=getComputedStyle(m).maxWidth,F=Nn(),G=kn(),I=An(),U("margin",M(m).margin,G),U("margin","0",F),y(F,G),y(I,G),m.parentNode&&(U("display",o,m),m.parentNode.insertBefore(G,m)),(W=new MutationObserver((function(){Tn(),yn()}))).observe(m,{attributes:!0,characterData:!0,childList:!0,subtree:!0})):(Cn(),wn(),zn(),On())}},Nn=function(){var n=L(!0,m);return z("tabindex",n),(sn||"block"!==bn)&&(U("display","block",n),U("maxWidth",Dn||"100%",n)),n},kn=function(){var n=E(t),o="block"===bn?a:r;return O("data-rmiz-wrap","",n),O(e,o,n),n},An=function(){var n=E("button");return O("aria-label",_,n),O(e,c,n),A("click",Sn,n),n},Tn=function(){Cn(),wn(),zn(),On(),null==Z||Z.removeListener(Ln),Z=void 0,T("resize",Hn,window)},zn=function(){sn&&m&&T("load",xn,m)},On=function(){I&&T("click",Sn,I),w(G,null==G?void 0:G.parentNode),U("display",bn,m),I=void 0,G=void 0,F=void 0},Cn=function(){T("scroll",Pn,mn),T("keydown",Fn,document),R&&(T("transitionend",Wn,R),T("transitionend",Bn,R)),C&&T("click",Un,C),S&&T("focus",Mn,S),H&&T("focus",Mn,H),B&&(T("click",In,B),w(B,vn)),C=void 0,S=void 0,H=void 0,R=void 0,P=void 0,B=void 0},Sn=function(n){n.preventDefault(),V&&V(!0),J||jn()},Un=function(n){n.preventDefault(),V&&V(!1),J||Kn()},Mn=function(){N(C)},Hn=function(){hn===n.LOADED?Rn(!0):xn()},Bn=function(){N(C)},Zn=function(){F&&U("visibility","hidden",F),P&&O(e,s(tn,gn),P),R&&(A("transitionend",Bn,R),O(e,i,R)),Gn(n.LOADED)},Wn=function(){window.setTimeout((function(){F&&U("visibility","",F),Cn(),Gn(n.UNLOADED),N(I)}),0)},In=function(){V&&V(!1),J||Kn()},Pn=function(){V&&V(!1),J||Kn()},Fn=function(n){h(n)&&(n.stopPropagation(),V&&V(!1),J||Kn())},Gn=function(n){hn=n,Rn()},Rn=function(n){void 0===n&&(n=!1),F&&R&&O(e,p(n?0:gn,cn,G,F,sn,hn),R)},jn=function(){sn?Yn():$n(),x(I),Jn()},Yn=function(){if(F&&hn===n.UNLOADED){var t=L(!0,F);z("id",t),z("class",t),O(e,f,t),B=qn(t),y(B,vn),A("keydown",Fn,document),A("scroll",Pn,mn),Zn()}},$n=function(){if(F&&hn===n.UNLOADED){var t=L(!0,F);z("id",t),B=qn(t),y(B,vn),A("keydown",Fn,document),A("scroll",Pn,mn),Zn()}},qn=function(n){var o=E(t);return O("aria-label",Q,o),O("aria-modal","true",o),O("data-rmiz-overlay","",o),O("role","dialog",o),O(e,v(String(ln)),o),A("click",In,o),P=E(t),O(e,s(en,gn),P),S=E(t),O("tabindex","0",S),A("focus",Mn,S),H=E(t),O("tabindex","0",H),A("focus",Mn,H),C=E("button"),O(e,d,C),O("aria-label",$,C),A("click",Un,C),R=E(t),O("data-rmiz-zoomed","",R),O(e,l,R),y(n,R),y(P,o),y(S,o),y(C,o),y(R,o),y(H,o),o},Jn=function(){k((function(n){var t=n.getAttribute("aria-hidden");t&&pn.push([n,t]),n.setAttribute("aria-hidden","true")}),vn)},Kn=function(){hn===n.LOADED&&(x(C),R&&A("transitionend",Wn,R),P&&O(e,s(en,gn),P)),hn!==n.UNLOADED&&Gn(n.UNLOADING),k((function(n){z("aria-hidden",n)}),vn),pn.forEach((function(n){var t=n[0],o=n[1];t&&O("aria-hidden",o,t)})),pn=[]};return yn(),{cleanup:Tn,update:function(t){void 0===t&&(t={}),t.closeText&&($=t.closeText),t.modalText&&(Q=t.modalText),t.openText&&(_=t.openText),t.overlayBgColorEnd&&(tn=t.overlayBgColorEnd),t.overlayBgColorStart&&(en=t.overlayBgColorStart),t.transitionDuration&&(gn=t.transitionDuration),t.zoomMargin&&(cn=t.zoomMargin),t.zoomZindex&&(ln=t.zoomZindex),Rn(),hn===n.UNLOADED&&t.isZoomed?jn():hn===n.LOADED&&!1===t.isZoomed&&Kn()}}}}();
