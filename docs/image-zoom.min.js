var ImageZoom=function(){"use strict";var t;!function(){if("undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof HTMLElement){var t=!1;try{var n=document.createElement("div");n.addEventListener("focus",(function(t){t.preventDefault(),t.stopPropagation()}),!0),n.focus(Object.defineProperty({},"preventScroll",{get:function(){t=!0}}))}catch(t){}if(void 0===HTMLElement.prototype.nativeFocus&&!t){HTMLElement.prototype.nativeFocus=HTMLElement.prototype.focus;var o=function(t){for(var n=0;n<t.length;n++)t[n][0].scrollTop=t[n][1],t[n][0].scrollLeft=t[n][2];t=[]};HTMLElement.prototype.focus=function(t){if(t&&t.preventScroll){var n=function(t){for(var n=t.parentNode,o=[],e=document.scrollingElement||document.documentElement;n&&n!==e;)(n.offsetHeight<n.scrollHeight||n.offsetWidth<n.scrollWidth)&&o.push([n,n.scrollTop,n.scrollLeft]),n=n.parentNode;return n=e,o.push([n,n.scrollTop,n.scrollLeft]),o}(this);this.nativeFocus(),"function"==typeof setTimeout?setTimeout((function(){o(n)}),0):o(n)}else this.nativeFocus()}}}}(),function(t){t.LOADED="LOADED",t.UNLOADED="UNLOADED",t.UNLOADING="UNLOADING"}(t||(t={}));var n="div",o="none",e="style",i="position:absolute;",r="position:relative;display:block;",a="position:relative;display:inline-block;vertical-align:top;",u=i+"top:0;right:0;bottom:0;left:0;height:100%;width:100%;background:none;border:none;margin:0;padding:0;"+"touch-action:manipulation;-webkit-appearance:none;-moz-appearance:none;appearance:none;",c=u+"cursor:pointer;cursor:-webkit-zoom-in;cursor:zoom-in;",d=u+"cursor:pointer;cursor:-webkit-zoom-out;cursor:zoom-out;z-index:1;",l=i+"visibility:hidden;",f="display:block;height:100%;max-width:100%;",s=function(t,n){return i+"top:0;right:0;bottom:0;left:0;transition:background "+(n?n/3:n)+"ms cubic-bezier(.42,0,.58,1);;background:"+t+";"},v=function(t){return"position:fixed;top:0;right:0;bottom:0;left:0;width:100%;height:100%;z-index:"+t+";"},p=function(t,n,o,e,r,a){return i+"height:"+t+"px;width:"+n+"px;left:"+o+"px;top:"+e+"px;transition:transform "+a+"ms cubic-bezier(.42,0,.58,1);;-webkit-transform:"+r+";-ms-transform:"+r+";transform:"+r+";"},m=function(n,e,i,r,a,u){if(!i)return p(0,0,0,0,o,0);var c=i.getBoundingClientRect(),d=c.height,l=c.left,f=c.top,s=c.width,v=S("transform",r);if(u!==t.LOADED)return p(d,s,l,f,"scale(1) translate(0,0)"+(v?" "+v:""),n);var m=r,h=m.naturalHeight,D=m.naturalWidth,y=a&&h&&D?b(d,s,e,h,D):g(d,s,e),w=window.innerWidth/2,E=window.innerHeight/2;return p(d,s,l,f,"scale("+y+") translate("+(w-(l+s/2))/y+"px,"+(E-(f+d/2))/y+"px)"+(v?" "+v:""),n)},h=function(t){return"Escape"===t.key||27===t.keyCode},g=function(t,n,o){var e=window.innerWidth/(n+o),i=window.innerHeight/(t+o);return Math.min(e,i)},b=function(t,n,o,e,i){var r=g(e,i,o),a=i>e?i/n:e/t;return r>1?a:r*a},D=/\.svg$/i,y=function(t,n){return n.appendChild(t)},w=function(t,n){t&&n&&n.removeChild(t)},E=function(t){return document.createElement(t)},L=function(t,n){return n.cloneNode(t)},x=function(t){null==t||t.blur()},N=function(t){t&&t.focus({preventScroll:!0})},k=function(t,n){for(var o,e=(null===(o=n.parentNode)||void 0===o?void 0:o.children)||[],i=0;i<e.length;i++){var r=e[i];if(!r)return;var a=r.tagName;"SCRIPT"!==a&&"NOSCRIPT"!==a&&"STYLE"!==a&&r!==n&&t(r)}},A=function(t,n,o,e){void 0===e&&(e=!1),o.addEventListener(t,n,e)},T=function(t,n,o,e){void 0===e&&(e=!1),o.removeEventListener(t,n,e)},z=function(t,n){n.removeAttribute(t)},O=function(t,n,o){return o.setAttribute(t,n)},C=function(t){return t.style},S=function(t,n){return C(n)[t]},U=function(t,n,o){C(o)[t]=n},M=function(t){return window.getComputedStyle(t)};return function(u,p){var C,H,B,Z,W,I,P,F,G,R,j,Y,$=void 0===u?{}:u,q=$.closeText,J=void 0===q?"Unzoom image":q,K=$.isControlled,Q=void 0!==K&&K,V=$.modalText,X=void 0===V?"Zoomed item":V,_=$.onZoomChange,tt=$.openText,nt=void 0===tt?"Zoom image":tt,ot=$.overlayBgColorEnd,et=void 0===ot?"rgba(255,255,255,0.95)":ot,it=$.overlayBgColorStart,rt=void 0===it?"rgba(255,255,255,0)":it,at=$.transitionDuration,ut=void 0===at?300:at,ct=$.zoomMargin,dt=void 0===ct?0:ct,lt=$.zoomZindex,ft=void 0===lt?2147483647:lt,st="IMG"===p.tagName,vt=!(st&&D.test(p.currentSrc))&&st,pt=document.body,mt=window,ht=[],gt=t.UNLOADED,bt=ut,Dt="",yt="",wt="",Et=function(){A("resize",Zt,window),xt(),vt&&!p.complete?A("load",kt,p):kt()},Lt=function(){null==P||P.disconnect(),P=void 0},xt=function(){(I=window.matchMedia("(prefers-reduced-motion:reduce)")).addListener(Nt)},Nt=function(){bt=0},kt=function(){if(p&&gt===t.UNLOADED){var n=p.getBoundingClientRect(),e=n.height,i=n.width,r=p,a=r.naturalHeight,u=r.naturalWidth;if((vt&&a&&u?b(e,i,dt,a,u):g(e,i,dt))>1){if(!R){var c=getComputedStyle(p);yt=c.display,wt=c.maxWidth,Dt=S("display",p),R=At(),j=Tt(),F=zt(),U("margin",M(p).margin,j),U("margin","0",R),y(R,j),y(F,j),p.parentNode&&(U("display",o,p),p.parentNode.insertBefore(j,p)),(P=new MutationObserver((function(){Ot(),Et()}))).observe(p,{attributes:!0,characterData:!0,childList:!0,subtree:!0})}}else Ut(),Lt(),Ct(),St()}},At=function(){var t=L(!0,p);return z("tabindex",t),(vt||"block"!==yt)&&(U("display","block",t),U("maxWidth",wt||"100%",t)),t},Tt=function(){var t=E(n),o="block"===yt?r:a;return O("data-rmiz-wrap","",t),O(e,o,t),t},zt=function(){var t=E("button");return O("aria-label",nt,t),O(e,c,t),O("type","button",t),A("click",Mt,t),t},Ot=function(){Ut(),Lt(),Ct(),St(),null==I||I.removeListener(Nt),I=void 0,T("resize",Zt,window)},Ct=function(){vt&&p&&T("load",kt,p)},St=function(){F&&T("click",Mt,F),w(j,null==j?void 0:j.parentNode),U("display",Dt,p),F=void 0,j=void 0,R=void 0},Ut=function(){T("scroll",Gt,mt),T("keydown",Rt,document),C&&T("load",It,C),Y&&(T("transitionend",Pt,Y),T("transitionend",Wt,Y)),H&&T("click",Ht,H),B&&T("focus",Bt,B),Z&&T("focus",Bt,Z),W&&(T("click",Ft,W),w(W,pt)),C=void 0,H=void 0,B=void 0,Z=void 0,Y=void 0,G=void 0,W=void 0},Mt=function(t){t.preventDefault(),_&&_(!0),Q||$t()},Ht=function(t){t.preventDefault(),_&&_(!1),Q||Vt()},Bt=function(){N(H)},Zt=function(){gt===t.LOADED?Yt(!0):kt()},Wt=function(){N(H)},It=function(){R&&U("visibility","hidden",R),G&&O(e,s(et,bt),G),Y&&(A("transitionend",Wt,Y),O(e,i,Y)),jt(t.LOADED)},Pt=function(){window.setTimeout((function(){R&&U("visibility","",R),Ut(),jt(t.UNLOADED),N(F)}),0)},Ft=function(){_&&_(!1),Q||Vt()},Gt=function(){_&&_(!1),Q||Vt()},Rt=function(t){h(t)&&(t.stopPropagation(),_&&_(!1),Q||Vt())},jt=function(t){gt=t,Yt()},Yt=function(t){void 0===t&&(t=!1),R&&Y&&O(e,m(t?0:bt,dt,j,R,vt,gt),Y)},$t=function(){vt?qt():Jt(),x(F),Qt()},qt=function(){R&&gt===t.UNLOADED&&(C=L(!0,R),A("load",It,C),z("id",C),z("class",C),O(e,f,C),W=Kt(C),y(W,pt),A("keydown",Rt,document),A("scroll",Gt,mt))},Jt=function(){if(R&&gt===t.UNLOADED){var n=L(!0,R);z("id",n),W=Kt(n),y(W,pt),A("keydown",Rt,document),A("scroll",Gt,mt),It()}},Kt=function(t){var o=E(n);return O("aria-label",X,o),O("aria-modal","true",o),O("data-rmiz-overlay","",o),O("role","dialog",o),O(e,v(String(ft)),o),A("click",Ft,o),G=E(n),O(e,s(rt,bt),G),B=E(n),O("tabindex","0",B),A("focus",Bt,B),Z=E(n),O("tabindex","0",Z),A("focus",Bt,Z),H=E("button"),O("aria-label",J,H),O(e,d,H),O("type","button",o),A("click",Ht,H),Y=E(n),O("data-rmiz-zoomed","",Y),O(e,l,Y),y(t,Y),y(G,o),y(B,o),y(H,o),y(Y,o),y(Z,o),o},Qt=function(){W&&k((function(t){var n=t.getAttribute("aria-hidden");n&&ht.push([t,n]),t.setAttribute("aria-hidden","true")}),W)},Vt=function(){gt===t.LOADED&&(x(H),Y&&A("transitionend",Pt,Y),G&&O(e,s(rt,bt),G)),gt!==t.UNLOADED&&jt(t.UNLOADING),W&&(k((function(t){z("aria-hidden",t)}),W),ht.forEach((function(t){var n=t[0],o=t[1];n&&O("aria-hidden",o,n)})),ht=[])};return Et(),{cleanup:Ot,update:function(n){void 0===n&&(n={}),n.closeText&&(J=n.closeText),n.modalText&&(X=n.modalText),n.openText&&(nt=n.openText),n.overlayBgColorEnd&&(et=n.overlayBgColorEnd),n.overlayBgColorStart&&(rt=n.overlayBgColorStart),n.transitionDuration&&(bt=n.transitionDuration),n.zoomMargin&&(dt=n.zoomMargin),n.zoomZindex&&(ft=n.zoomZindex),Yt(),gt===t.UNLOADED&&n.isZoomed?$t():gt===t.LOADED&&!1===n.isZoomed&&Vt()}}}}();
