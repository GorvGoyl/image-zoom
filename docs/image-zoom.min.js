var ImageZoom=function(){"use strict";var t;!function(){if("undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof HTMLElement){var t=!1;try{var n=document.createElement("div");n.addEventListener("focus",(function(t){t.preventDefault(),t.stopPropagation()}),!0),n.focus(Object.defineProperty({},"preventScroll",{get:function(){t=!0}}))}catch(t){}if(void 0===HTMLElement.prototype.nativeFocus&&!t){HTMLElement.prototype.nativeFocus=HTMLElement.prototype.focus;var o=function(t){for(var n=0;n<t.length;n++)t[n][0].scrollTop=t[n][1],t[n][0].scrollLeft=t[n][2];t=[]};HTMLElement.prototype.focus=function(t){if(t&&t.preventScroll){var n=function(t){for(var n=t.parentNode,o=[],e=document.scrollingElement||document.documentElement;n&&n!==e;)(n.offsetHeight<n.scrollHeight||n.offsetWidth<n.scrollWidth)&&o.push([n,n.scrollTop,n.scrollLeft]),n=n.parentNode;return n=e,o.push([n,n.scrollTop,n.scrollLeft]),o}(this);this.nativeFocus(),"function"==typeof setTimeout?setTimeout((function(){o(n)}),0):o(n)}else this.nativeFocus()}}}}(),function(t){t.LOADED="LOADED",t.UNLOADED="UNLOADED",t.UNLOADING="UNLOADING"}(t||(t={}));var n="div",o="style",e="position:relative;display:inline-flex;align-items:flex-start;",i=e+"width:100%;",r="position:absolute;top:0;right:0;bottom:0;left:0;background:none;border:none;margin:0;padding:0;touch-action:manipulation;-webkit-appearance:none;-moz-appearance:none;appearance:none;",a=r+"cursor:-webkit-zoom-in;cursor:zoom-in;",c=r+"cursor:-webkit-zoom-out;cursor:zoom-out;z-index:1;",l="position:absolute;-webkit-transition-property:-webkit-transform;transition-property:-webkit-transform;-o-transition-property:transform;transition-property:transform;transition-property:transform,-webkit-transform;-webkit-transform-origin:center center;-ms-transform-origin:center center;transform-origin:center center;",u=l+"visibility:hidden;",d=function(t,n,o){return"position:fixed;top:0;right:0;bottom:0;left:0;width:100%;height:100%;-webkit-transition-property:background-color;-o-transition-property:background-color;transition-property:background-color;background-color:"+t+";transition-duration:"+n+";transition-timing-function:cubic-bezier(0.2,0,0.2,1);z-index:"+o+";"},s=function(t,n,o,e,i,r){return l+"height:"+t+"px;width:"+n+"px;left:"+o+"px;top:"+e+"px;-webkit-transform:"+i+";transform:"+i+";-webkit-transition-duration:"+r+";transition-duration:"+r+";transition-timing-function:ease;"},f=function(n,o,e,i,r){if(!e)return s(0,0,0,0,"none","0ms");var a=e.getBoundingClientRect(),c=a.height,l=a.left,u=a.top,d=a.width,f=e.style.transform;if(r!==t.LOADED)return s(c,d,l,u,"scale(1) translate(0,0)"+(f?" "+f:""),n);var m=e,b=m.naturalHeight,g=m.naturalWidth,h=i&&b&&g?v(c,d,o,b,g):p(c,d,o),w=window.innerWidth/2,y=window.innerHeight/2;return s(c,d,l,u,"scale("+h+") translate("+(w-(l+d/2))/h+"px,"+(y-(u+c/2))/h+"px)"+(f?" "+f:""),n)},m=function(t){return"Escape"===t.key||27===t.keyCode},p=function(t,n,o){var e=window.innerWidth/(n+o),i=window.innerHeight/(t+o);return Math.min(e,i)},v=function(t,n,o,e,i){var r=p(e,i,o),a=i>e?i/n:e/t;return r>1?a:r*a},b=/\.svg$/i,g=function(t,n){return n.appendChild(t)},h=function(t,n){t&&n&&n.removeChild(t)},w=function(t){return document.createElement(t)},y=function(t){t&&t.blur()},D=function(t){t&&t.focus({preventScroll:!0})},E=function(t,n){for(var o,e=(null===(o=n.parentNode)||void 0===o?void 0:o.children)||[],i=0;i<e.length;i++){var r=e[i];if(!r)return;var a=r.tagName;if("SCRIPT"===a||"NOSCRIPT"===a||"STYLE"===a||r===n)return;t(r)}},L=function(t,n,o){t&&n&&o&&t.replaceChild(o,n)},k=function(t,n,o){o.addEventListener(t,n)},x=function(t,n,o){o.removeEventListener(t,n)},A=function(t,n){return n.getAttribute(t)},N=function(t,n){return n.removeAttribute(t)},z=function(t,n,o){return o.setAttribute(t,n)};return function(r,s){var T,O,C,U,S,H,M,Z,B,I,W=void 0===r?{}:r,P=W.closeText,F=void 0===P?"Unzoom image":P,G=W.isControlled,R=void 0!==G&&G,j=W.modalText,Y=void 0===j?"Zoomed item":j,$=W.onZoomChange,q=W.openText,J=void 0===q?"Zoom image":q,K=W.overlayBgColorEnd,Q=void 0===K?"rgba(255,255,255,0.95)":K,V=W.overlayBgColorStart,X=void 0===V?"rgba(255,255,255,0)":V,_=W.scrollableEl,tt=W.transitionDuration,nt=void 0===tt?"300ms":tt,ot=W.zoomMargin,et=void 0===ot?0:ot,it=W.zoomZindex,rt=void 0===it?2147483647:it,at=A("role",s),ct="block"===window.getComputedStyle(s).display,lt="IMG"===s.tagName,ut=!(lt&&b.test(s.currentSrc))&&lt,dt=document.body,st=[],ft=_||window,mt=t.UNLOADED,pt=function(){(S=window.matchMedia("(prefers-reduced-motion:reduce)")).addListener(vt)},vt=function(){nt="0ms"},bt=function(){if(s&&mt===t.UNLOADED){var r=s.getBoundingClientRect(),c=r.height,l=r.width,u=s,d=u.naturalHeight,f=u.naturalWidth;(ut&&d&&f?v(c,l,et,d,f):p(c,l,et))>1?M||(M=s.cloneNode(!0),Z=w(n),H=w("button"),z("data-rmiz-wrap","",Z),z(o,ct?i:e,Z),z("aria-label",J,H),z(o,a,H),k("click",wt,H),g(M,Z),g(H,Z),L(s.parentNode,s,Z)):(ht(),gt())}},gt=function(){H&&x("click",wt,H),L(null==Z?void 0:Z.parentNode,Z,s),H=void 0,Z=void 0,M=void 0},ht=function(){var t=ut?I:B;t&&(x("transitionend",xt,t),x("transitionend",Lt,t),x("load",kt,t),h(t,U)),T&&x("click",yt,T),O&&x("focus",Dt,O),C&&x("focus",Dt,C),U&&(x("click",At,U),h(U,dt)),I=void 0,B=void 0,T=void 0,O=void 0,C=void 0,U=void 0,x("scroll",Nt,ft),x("keydown",zt,document)},wt=function(t){t.preventDefault(),$&&$(!0),R||Ct()},yt=function(t){t.preventDefault(),$&&$(!1),R||Zt()},Dt=function(){D(T)},Et=function(){mt===t.LOADED?Ot(!0):bt()},Lt=function(){D(T)},kt=function(){M&&(M.style.visibility="hidden"),U&&(U.style.backgroundColor=Q),I&&(x("load",kt,I),k("transitionend",Lt,I),z(o,l,I)),B&&(k("transitionend",Lt,B),z(o,l,B)),Tt(t.LOADED)},xt=function(){M&&(M.style.visibility="",window.setTimeout((function(){ht(),D(H),Tt(t.UNLOADED)}),0))},At=function(){$&&$(!1),R||Zt()},Nt=function(){$&&$(!1),R||Zt()},zt=function(t){m(t)&&(t.stopPropagation(),$&&$(!1),R||Zt())},Tt=function(t){mt=t,Ot()},Ot=function(t){if(void 0===t&&(t=!1),M){var n=ut?I:B;n&&z(o,f(t?"0ms":nt,et,M,ut,mt),n)}},Ct=function(){ut?Ut():St(),y(H),Mt()},Ut=function(){if(M&&mt===t.UNLOADED){var e=M.alt,i=A("aria-label",M),r=A("aria-labelledby",M),a=M.sizes,l=M.src,d=M.srcset;O=w(n),z("tabindex","0",O),k("focus",Dt,O),C=w(n),z("tabindex","0",C),k("focus",Dt,C),T=w("button"),z(o,c,T),z("aria-label",F,T),k("click",yt,T),I=new Image,k("load",kt,I),z("data-rmiz-zoomed","",I),z(o,u,I),e&&(I.alt=e),l&&(I.src=l),d&&(I.srcset=d),a&&(I.sizes=a),i&&z("aria-label",i,I),r&&z("aria-labelledby",r,I),U=Ht(),g(O,U),g(T,U),g(I,U),g(C,U),g(U,dt),k("keydown",zt,document),k("scroll",Nt,ft)}},St=function(){if(s&&mt===t.UNLOADED){O=w(n),z("tabindex","0",O),k("focus",Dt,O),C=w(n),z("tabindex","0",C),k("focus",Dt,C),T=w("button"),z(o,c,T),z("aria-label",F,T),k("click",yt,T),B=w(n),z("data-rmiz-zoomed","",B),z(o,u,B);var e=s.cloneNode(!0);N("id",e),N("tabindex",e),at?z("role",at,e):N("role",e),g(e,B),U=Ht(),g(O,U),g(T,U),g(B,U),g(C,U),g(U,dt),k("keydown",zt,document),k("scroll",Nt,ft),kt()}},Ht=function(){var t=w(n);return z("aria-label",Y,t),z("aria-modal","true",t),z("data-rmiz-overlay","",t),z("role","dialog",t),z(o,d(X,nt,String(rt)),t),k("click",At,t),t},Mt=function(){E((function(t){var n=t.getAttribute("aria-hidden");n&&st.push([t,n]),t.setAttribute("aria-hidden","true")}),dt)},Zt=function(){if(mt===t.LOADED){var n=ut?I:B;n&&(y(n),k("transitionend",xt,n)),U&&(U.style.backgroundColor=X)}mt!==t.UNLOADED&&Tt(t.UNLOADING),E((function(t){t.removeAttribute("aria-hidden")}),dt),st.forEach((function(t){var n=t[0],o=t[1];null==n||n.setAttribute("aria-hidden",o)})),st=[]};return k("resize",Et,window),pt(),ut&&!s.complete?s.addEventListener("load",(function(){window.setTimeout((function(){bt()}),500)})):bt(),{cleanup:function(){ht(),ut&&s&&x("load",bt,s),gt(),null==S||S.removeListener(vt),S=void 0,x("resize",Et,window)},update:function(n){void 0===n&&(n={}),n.closeText&&(F=n.closeText),n.modalText&&(Y=n.modalText),n.openText&&(J=n.openText),n.overlayBgColorEnd&&(Q=n.overlayBgColorEnd),n.overlayBgColorStart&&(X=n.overlayBgColorStart),n.transitionDuration&&(nt=n.transitionDuration),n.zoomMargin&&(et=n.zoomMargin),n.zoomZindex&&(rt=n.zoomZindex),mt===t.UNLOADED&&n.scrollableEl&&(ft=n.scrollableEl),Ot(),mt===t.UNLOADED&&n.isZoomed?Ct():mt===t.LOADED&&!1===n.isZoomed&&Zt()}}}}();
