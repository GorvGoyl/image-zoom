var ImageZoom=function(){"use strict";!function(){if("undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof HTMLElement){var t=!1;try{var n=document.createElement("div");n.addEventListener("focus",(function(t){t.preventDefault(),t.stopPropagation()}),!0),n.focus(Object.defineProperty({},"preventScroll",{get:function(){t=!0}}))}catch(t){}if(void 0===HTMLElement.prototype.nativeFocus&&!t){HTMLElement.prototype.nativeFocus=HTMLElement.prototype.focus;var o=function(t){for(var n=0;n<t.length;n++)t[n][0].scrollTop=t[n][1],t[n][0].scrollLeft=t[n][2];t=[]};HTMLElement.prototype.focus=function(t){if(t&&t.preventScroll){var n=function(t){for(var n=t.parentNode,o=[],e=document.scrollingElement||document.documentElement;n&&n!==e;)(n.offsetHeight<n.scrollHeight||n.offsetWidth<n.scrollWidth)&&o.push([n,n.scrollTop,n.scrollLeft]),n=n.parentNode;return n=e,o.push([n,n.scrollTop,n.scrollLeft]),o}(this);this.nativeFocus(),"function"==typeof setTimeout?setTimeout((function(){o(n)}),0):o(n)}else this.nativeFocus()}}}}();var t,n=function(t,n,o,e){void 0===e&&(e=!1),o.addEventListener(t,n,e)},o=function(t,n){return n.appendChild(t)},e=function(t){null==t||t.blur()},i=function(t,n){return void 0===t&&(t=!0),n.cloneNode(t)},r=function(t){return document.createElement(t)},u=function(t,n){for(var o,e=(null===(o=n.parentNode)||void 0===o?void 0:o.children)||[],i=0;i<e.length;i++){var r=e[i];r&&r!==n&&t(r)}},a=function(t){return t?t.getBoundingClientRect():{bottom:0,height:0,left:0,right:0,top:0,width:0,x:0,y:0}},c=function(t){return t.style},d=function(){return window.innerHeight},l=function(){return window.innerWidth},f=function(t,n){n.removeAttribute(t)},s=function(t,n){n.contains(t)&&n.removeChild(t)},v=function(t,n,o,e){void 0===e&&(e=!1),o.removeEventListener(t,n,e)},m=function(t,n,o){return o.setAttribute(t,n)},p=function(t,n,o){c(o)[t]=n};!function(t){t.LOADED="LOADED",t.UNLOADED="UNLOADED",t.UNLOADING="UNLOADING"}(t||(t={}));var h=function(t,n){void 0===t&&(t={preventScroll:!1}),null==n||n.focus(t)}.bind(null,{preventScroll:!0}),g="none",b="style",D="position:absolute;",E=D+"touch-action:manipulation;-webkit-appearance:none;-moz-appearance:none;appearance:none;background:none;border:none;margin:0;padding:0;",L=E+"cursor:pointer;cursor:-webkit-zoom-in;cursor:zoom-in;",y=E+"top:0;right:0;bottom:0;left:0;height:100%;width:100%;cursor:pointer;cursor:-webkit-zoom-out;cursor:zoom-out;z-index:1;",x=D+"visibility:hidden;",w="display:block;max-width:100%;max-height:100%;",A=function(t,n){return D+"top:0;right:0;bottom:0;left:0;transition:background "+n+"ms cubic-bezier(.42,0,.58,1);;background:"+t+";"},T=function(t){return"position:fixed;top:0;right:0;bottom:0;left:0;width:100%;height:100%;z-index:"+t+";"},N=function(t,n,o,e,i,r){return D+"height:"+t+"px;width:"+n+"px;left:"+o+"px;top:"+e+"px;transition:transform "+r+"ms cubic-bezier(.42,0,.58,1);;-webkit-transform:"+i+";-ms-transform:"+i+";transform:"+i+";"},O=function(n,o,e,i,r){if(!e)return N(0,0,0,0,g,0);var u,a=e.getBoundingClientRect(),f=a.height,s=a.left,v=a.top,m=a.width,p=(u="transform",c(e)[u]);if(r!==t.LOADED)return N(f,m,s,v,"scale(1) translate(0,0)"+(p?" "+p:""),n);var h=e,b=h.naturalHeight,D=h.naturalWidth,E=i&&b&&D?C(f,m,o,b,D):k(f,m,o),L=l()/2,y=d()/2;return N(f,m,s,v,"scale("+E+") translate("+(L-(s+m/2))/E+"px,"+(y-(v+f/2))/E+"px)"+(p?" "+p:""),n)},z=function(t){return"Escape"===t.key||27===t.keyCode},k=function(t,n,o){var e=l()/(n+o),i=d()/(t+o);return Math.min(e,i)},C=function(t,n,o,e,i){var r=k(e,i,o),u=i>e?i/n:e/t;return r>1?u:r*u},S=/\.svg$/i,U=function(t){var n=t.tagName;return"SCRIPT"===n||"NOSCRIPT"===n||"STYLE"===n};return function(c,d){var l,E,N,M,H,Z,B,I,W,P,F=void 0===c?{}:c,G=F.closeText,R=void 0===G?"Unzoom image":G,j=F.isControlled,Y=void 0!==j&&j,$=F.modalText,q=void 0===$?"Zoomed item":$,J=F.onZoomChange,K=F.openText,Q=void 0===K?"Zoom image":K,V=F.overlayBgColorEnd,X=void 0===V?"rgba(255,255,255,0.95)":V,_=F.overlayBgColorStart,tt=void 0===_?"rgba(255,255,255,0)":_,nt=F.transitionDuration,ot=void 0===nt?300:nt,et=F.zoomMargin,it=void 0===et?0:et,rt=F.zoomZindex,ut=void 0===rt?2147483647:rt,at="IMG"===d.tagName,ct=!(at&&S.test(d.currentSrc))&&at,dt=window,lt=document,ft=lt.body,st=dt,vt=[],mt=t.UNLOADED,pt=ot,ht=function(){null==B||B.disconnect(),B=void 0},gt=function(){(Z=dt.matchMedia("(prefers-reduced-motion:reduce)")).addListener(bt)},bt=function(){pt=0},Dt=function(){if(d&&mt===t.UNLOADED){var o=a(d),e=o.height,i=o.width,u=d,c=u.naturalHeight,l=u.naturalWidth;(ct&&c&&l?C(e,i,it,c,l):k(e,i,it))>1?(I=r("button"),m("aria-label",Q,I),m(b,L,I),m("type","button",I),Et(),n("click",wt,I),d.insertAdjacentElement("afterend",I),(B=new MutationObserver((function(t){d&&t.length>0&&Et()}))).observe(d,{attributes:!0,characterData:!0,childList:!0,subtree:!0})):(xt(),ht(),Lt(),yt())}},Et=function(){if(I){var t,n=a(d),o=n.height,e=n.width,i=(t=d,window.getComputedStyle(t)).display;p("width",e+"px",I),p("height",o+"px",I),"block"===i?p("marginTop","-"+o+"px",I):p("marginLeft","-"+e+"px",I)}},Lt=function(){ct&&d&&v("load",Dt,d)},yt=function(){I&&(v("click",wt,I),s(I,I.parentNode)),I=void 0},xt=function(){v("scroll",St,st),v("keydown",Ut,lt),l&&v("load",zt,l),P&&(v("transitionend",kt,P),v("transitionend",Ot,P)),E&&v("click",At,E),N&&v("focus",Tt,N),M&&v("focus",Tt,M),H&&(v("click",Ct,H),s(H,ft)),l=void 0,E=void 0,N=void 0,M=void 0,P=void 0,W=void 0,H=void 0},wt=function(t){t.preventDefault(),J&&J(!0),Y||Zt()},At=function(t){t.preventDefault(),J&&J(!1),Y||Ft()},Tt=function(){h(E)},Nt=function(){mt===t.LOADED?Ht(!0):Dt()},Ot=function(){h(E)},zt=function(){d&&p("visibility","hidden",d),W&&m(b,A(X,pt),W),P&&(n("transitionend",Ot,P),m(b,D,P)),Mt(t.LOADED),Pt()},kt=function(){dt.setTimeout((function(){d&&p("visibility","",d),xt(),Mt(t.UNLOADED),h(I)}),0)},Ct=function(){J&&J(!1),Y||Ft()},St=function(){J&&J(!1),Y||Ft()},Ut=function(t){z(t)&&(t.stopPropagation(),J&&J(!1),Y||Ft())},Mt=function(t){mt=t,Ht()},Ht=function(t){void 0===t&&(t=!1),d&&P&&m(b,O(t?0:pt,it,d,ct,mt),P)},Zt=function(){at?Bt():It(),e(I)},Bt=function(){d&&mt===t.UNLOADED&&(l=i(!0,d),n("load",zt,l),f("id",l),m(b,w,l),H=Wt(l),o(H,ft),n("keydown",Ut,lt),n("scroll",St,st))},It=function(){if(d&&mt===t.UNLOADED){var e=i(!0,d);f("id",e),p("maxWidth",g,e),p("maxHeight",g,e),H=Wt(e),o(H,ft),n("keydown",Ut,lt),n("scroll",St,st),zt()}},Wt=function(t){var e=r("div");return m("aria-label",q,e),m("aria-modal","true",e),m("data-rmiz-overlay","",e),m("role","dialog",e),m(b,T(String(ut)),e),n("click",Ct,e),W=r("div"),m(b,A(tt,pt),W),N=r("div"),m("tabindex","0",N),n("focus",Tt,N),M=r("div"),m("tabindex","0",M),n("focus",Tt,M),E=r("button"),m("aria-label",R,E),m(b,y,E),m("type","button",e),n("click",At,E),P=r("div"),m("data-rmiz-zoomed","",P),m(b,x,P),o(t,P),o(W,e),o(N,e),o(E,e),o(P,e),o(M,e),e},Pt=function(){H&&u((function(t){if(!U(t)){var n=function(t,n){return n.getAttribute(t)}("aria-hidden",t);n&&vt.push([t,n]),t.setAttribute("aria-hidden","true")}}),H)},Ft=function(){mt===t.LOADED&&(e(E),H&&u((function(t){U(t)||f("aria-hidden",t)}),H),vt.forEach((function(t){var n=t[0],o=t[1];n&&m("aria-hidden",o,n)})),vt=[],P&&n("transitionend",kt,P),W&&m(b,A(tt,pt),W)),mt!==t.UNLOADED&&Mt(t.UNLOADING)};return n("resize",Nt,dt),gt(),at&&!d.complete?n("load",Dt,d):Dt(),{cleanup:function(){xt(),ht(),Lt(),yt(),null==Z||Z.removeListener(bt),Z=void 0,v("resize",Nt,dt)},update:function(n){void 0===n&&(n={}),n.closeText&&(R=n.closeText),n.modalText&&(q=n.modalText),n.openText&&(Q=n.openText),n.overlayBgColorEnd&&(X=n.overlayBgColorEnd),n.overlayBgColorStart&&(tt=n.overlayBgColorStart),n.transitionDuration&&(pt=n.transitionDuration),n.zoomMargin&&(it=n.zoomMargin),n.zoomZindex&&(ut=n.zoomZindex),Ht(),mt===t.UNLOADED&&n.isZoomed?Zt():mt===t.LOADED&&!1===n.isZoomed&&Ft()}}}}();
