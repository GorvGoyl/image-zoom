var ImageZoom=function(){"use strict";var t;!function(){if("undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof HTMLElement){var t=!1;try{var n=document.createElement("div");n.addEventListener("focus",(function(t){t.preventDefault(),t.stopPropagation()}),!0),n.focus(Object.defineProperty({},"preventScroll",{get:function(){t=!0}}))}catch(t){}if(void 0===HTMLElement.prototype.nativeFocus&&!t){HTMLElement.prototype.nativeFocus=HTMLElement.prototype.focus;var o=function(t){for(var n=0;n<t.length;n++)t[n][0].scrollTop=t[n][1],t[n][0].scrollLeft=t[n][2];t=[]};HTMLElement.prototype.focus=function(t){if(t&&t.preventScroll){var n=function(t){for(var n=t.parentNode,o=[],e=document.scrollingElement||document.documentElement;n&&n!==e;)(n.offsetHeight<n.scrollHeight||n.offsetWidth<n.scrollWidth)&&o.push([n,n.scrollTop,n.scrollLeft]),n=n.parentNode;return n=e,o.push([n,n.scrollTop,n.scrollLeft]),o}(this);this.nativeFocus(),"function"==typeof setTimeout?setTimeout((function(){o(n)}),0):o(n)}else this.nativeFocus()}}}}(),function(t){t.LOADED="LOADED",t.UNLOADED="UNLOADED",t.UNLOADING="UNLOADING"}(t||(t={}));var n="div",o="style",e="position:absolute;",i="position:relative;display:inline-flex;align-items:flex-start;",r=i+"width:100%;",a=e+"top:0;right:0;bottom:0;left:0;height:100%;width:100%;background:none;border:none;margin:0;padding:0;"+"touch-action:manipulation;-webkit-appearance:none;-moz-appearance:none;appearance:none;",u=a+"cursor:-webkit-zoom-in;cursor:zoom-in;",d=a+"cursor:-webkit-zoom-out;cursor:zoom-out;z-index:1;",c=e+"visibility:hidden;",l="height:100%;max-width:100%;",f=function(t,n){return e+"top:0;right:0;bottom:0;left:0;transition:background "+(n?n/3:n)+"ms cubic-bezier(0.2,0,0.2,1);background:"+t+";"},s=function(t){return"position:fixed;top:0;right:0;bottom:0;left:0;width:100%;height:100%;z-index:"+t+";"},v=function(t,n,o,i,r,a){return e+"height:"+t+"px;width:"+n+"px;left:"+o+"px;top:"+i+"px;transition:transform "+a+"ms cubic-bezier(0.2,0,0.2,1);-webkit-transform:"+r+";-ms-transform:"+r+";transform:"+r+";"},m=function(n,o,e,i,r,a){if(!e)return v(0,0,0,0,"none",0);var u=e.getBoundingClientRect(),d=u.height,c=u.left,l=u.top,f=u.width,s=i.style.transform;if(a!==t.LOADED)return v(d,f,c,l,"scale(1) translate(0,0)"+(s?" "+s:""),n);var m=i,p=m.naturalHeight,D=m.naturalWidth,b=r&&p&&D?g(d,f,o,p,D):h(d,f,o),w=window.innerWidth/2,y=window.innerHeight/2;return v(d,f,c,l,"scale("+b+") translate("+(w-(c+f/2))/b+"px,"+(y-(l+d/2))/b+"px)"+(s?" "+s:""),n)},p=function(t){return"Escape"===t.key||27===t.keyCode},h=function(t,n,o){var e=window.innerWidth/(n+o),i=window.innerHeight/(t+o);return Math.min(e,i)},g=function(t,n,o,e,i){var r=h(e,i,o),a=i>e?i/n:e/t;return r>1?a:r*a},D=/\.svg$/i,b=function(t,n){return n.appendChild(t)},w=function(t,n){t&&n&&n.removeChild(t)},y=function(t){return document.createElement(t)},E=function(t,n){return n.cloneNode(t)},L=function(t){t&&t.blur()},x=function(t){t&&t.focus({preventScroll:!0})},N=function(t,n){for(var o,e=(null===(o=n.parentNode)||void 0===o?void 0:o.children)||[],i=0;i<e.length;i++){var r=e[i];if(!r)return;var a=r.tagName;if("SCRIPT"===a||"NOSCRIPT"===a||"STYLE"===a||r===n)return;t(r)}},T=function(t,n,o,e){void 0===e&&(e=!1),o.addEventListener(t,n,e)},A=function(t,n,o,e){void 0===e&&(e=!1),o.removeEventListener(t,n,e)},z=function(t,n){return n.removeAttribute(t)},O=function(t,n,o){return o.setAttribute(t,n)};return function(a,v){var k,C,U,M,S,H,B,Z,I,W,P,F=void 0===a?{}:a,G=F.closeText,R=void 0===G?"Unzoom image":G,j=F.isControlled,Y=void 0!==j&&j,$=F.modalText,q=void 0===$?"Zoomed item":$,J=F.onZoomChange,K=F.openText,Q=void 0===K?"Zoom image":K,V=F.overlayBgColorEnd,X=void 0===V?"rgba(255,255,255,0.95)":V,_=F.overlayBgColorStart,tt=void 0===_?"rgba(255,255,255,0)":_,nt=F.transitionDuration,ot=void 0===nt?300:nt,et=F.zoomMargin,it=void 0===et?0:et,rt=F.zoomZindex,at=void 0===rt?2147483647:rt,ut="block"===window.getComputedStyle(v).display,dt="IMG"===v.tagName,ct=!(dt&&D.test(v.currentSrc))&&dt,lt=document.body,ft=window,st=[],vt=t.UNLOADED,mt=ot,pt="",ht=function(){T("resize",At,window),Dt(),ct&&!v.complete?v.addEventListener("load",(function(){window.setTimeout((function(){wt()}),500)})):wt()},gt=function(){null==H||H.disconnect(),H=void 0},Dt=function(){(S=window.matchMedia("(prefers-reduced-motion:reduce)")).addListener(bt)},bt=function(){mt=0},wt=function(){if(v&&vt===t.UNLOADED){var e=v.getBoundingClientRect(),a=e.height,d=e.width,c=v,l=c.naturalHeight,f=c.naturalWidth;(ct&&l&&f?g(a,d,it,l,f):h(a,d,it))>1?I||(I=E(!0,v),z("tabindex",I),W=y(n),B=y("button"),O("data-rmiz-wrap","",W),O(o,ut?r:i,W),O("aria-label",Q,B),O(o,u,B),T("click",xt,B),b(I,W),b(B,W),v.parentNode&&(pt=v.style.display,v.style.display="none",v.parentNode.insertBefore(W,v)),(H=new MutationObserver((function(){yt(),ht()}))).observe(v,{attributes:!0,characterData:!0,childList:!0,subtree:!0})):(Lt(),gt(),Et())}},yt=function(){Lt(),gt(),ct&&v&&A("load",wt,v),Et(),null==S||S.removeListener(bt),S=void 0,A("resize",At,window)},Et=function(){B&&A("click",xt,B),w(W,null==W?void 0:W.parentNode),v.style.display=pt,B=void 0,W=void 0,I=void 0},Lt=function(){A("scroll",Ut,ft),A("keydown",Mt,document),P&&(A("transitionend",kt,P),A("transitionend",zt,P)),k&&A("click",Nt,k),C&&A("focus",Tt,C),U&&A("focus",Tt,U),M&&(A("click",Ct,M),w(M,lt)),k=void 0,C=void 0,U=void 0,P=void 0,Z=void 0,M=void 0},xt=function(t){t.preventDefault(),J&&J(!0),Y||Bt()},Nt=function(t){t.preventDefault(),J&&J(!1),Y||Ft()},Tt=function(){x(k)},At=function(){vt===t.LOADED?Ht(!0):wt()},zt=function(){x(k)},Ot=function(){I&&(I.style.visibility="hidden"),Z&&O(o,f(X,mt),Z),P&&(T("transitionend",zt,P),O(o,e,P)),St(t.LOADED)},kt=function(){window.setTimeout((function(){I&&(I.style.visibility=""),Lt(),x(B),St(t.UNLOADED)}),0)},Ct=function(){J&&J(!1),Y||Ft()},Ut=function(){J&&J(!1),Y||Ft()},Mt=function(t){p(t)&&(t.stopPropagation(),J&&J(!1),Y||Ft())},St=function(t){vt=t,Ht()},Ht=function(t){void 0===t&&(t=!1),I&&P&&O(o,m(t?0:mt,it,W,I,ct,vt),P)},Bt=function(){ct?Zt():It(),L(B),Pt()},Zt=function(){if(I&&vt===t.UNLOADED){var n=E(!0,I);z("id",n),z("class",n),O(o,l,n),M=Wt(n),b(M,lt),T("keydown",Mt,document),T("scroll",Ut,ft),Ot()}},It=function(){if(I&&vt===t.UNLOADED){var n=E(!0,I);z("id",n),M=Wt(n),b(M,lt),T("keydown",Mt,document),T("scroll",Ut,ft),Ot()}},Wt=function(t){var e=y(n);return O("aria-label",q,e),O("aria-modal","true",e),O("data-rmiz-overlay","",e),O("role","dialog",e),O(o,s(String(at)),e),T("click",Ct,e),Z=y(n),O(o,f(tt,mt),Z),C=y(n),O("tabindex","0",C),T("focus",Tt,C),U=y(n),O("tabindex","0",U),T("focus",Tt,U),k=y("button"),O(o,d,k),O("aria-label",R,k),T("click",Nt,k),P=y(n),O("data-rmiz-zoomed","",P),O(o,c,P),b(t,P),b(Z,e),b(C,e),b(k,e),b(P,e),b(U,e),e},Pt=function(){N((function(t){var n=t.getAttribute("aria-hidden");n&&st.push([t,n]),t.setAttribute("aria-hidden","true")}),lt)},Ft=function(){vt===t.LOADED&&(L(k),P&&T("transitionend",kt,P),Z&&O(o,f(tt,mt),Z)),vt!==t.UNLOADED&&St(t.UNLOADING),N((function(t){z("aria-hidden",t)}),lt),st.forEach((function(t){var n=t[0],o=t[1];n&&O("aria-hidden",o,n)})),st=[]};return ht(),{cleanup:yt,update:function(n){void 0===n&&(n={}),n.closeText&&(R=n.closeText),n.modalText&&(q=n.modalText),n.openText&&(Q=n.openText),n.overlayBgColorEnd&&(X=n.overlayBgColorEnd),n.overlayBgColorStart&&(tt=n.overlayBgColorStart),n.transitionDuration&&(mt=n.transitionDuration),n.zoomMargin&&(it=n.zoomMargin),n.zoomZindex&&(at=n.zoomZindex),Ht(),vt===t.UNLOADED&&n.isZoomed?Bt():vt===t.LOADED&&!1===n.isZoomed&&Ft()}}}}();
